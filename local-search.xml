<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ELK Logstashè§£æç³»ç»Ÿæ—¥å¿—é”™è¯¯</title>
    <link href="/ELK-logstash-hostname/"/>
    <url>/ELK-logstash-hostname/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>Logstashè§£æç³»ç»Ÿæ—¥å¿—é”™è¯¯ï¼š</p><p>å¦‚æœå¤§å®¶ä½¿ç”¨Logstashè‡ªå¸¦çš„è§£æè§„åˆ™ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¼šå‡ºç°è§£æç³»ç»Ÿæ—¥å¿—å¤±è´¥çš„æƒ…å†µï¼ŒåŸå› æ˜¯å› ä¸ºï¼šç³»ç»Ÿä¸»æœºååŒ…å«ä¸‹åˆ’çº¿æ—¶ä¼šè§£æå¤±è´¥ï¼Œé€ æˆæ— æ³•è¯†åˆ«ä¸»æœºåå­—æ®µã€‚</p><p>ä¸»è¦æ˜¯ç”Ÿäº§ç¯å¢ƒæœ‰äº›ç½‘ç»œè®¾å¤‡çš„ä¸»æœºåæœ‰å¸¦ä¸‹åˆ’çº¿_ ï¼Œè€Œåˆæ³•åœ¨ä¸»æœºåæ˜¯æ²¡æœ‰ä¸å…è®¸ä¸‹åˆ’çº¿çš„ã€‚</p><p>ä½¿ç”¨ç¯å¢ƒï¼šRocky Linux 8 ã€ELK 8.x </p><span id="more"></span><h2 id="HostNameä¸»è¦è§„åˆ™"><a href="#HostNameä¸»è¦è§„åˆ™" class="headerlink" title="HostNameä¸»è¦è§„åˆ™"></a>HostNameä¸»è¦è§„åˆ™</h2><ul><li>ä¸»æœºååªå…è®¸åŒ…å«asciiå­—ç¬¦é‡Œçš„æ•°å­—0-9ï¼Œå­—æ¯a-zA-Zï¼Œè¿å­—ç¬¦-ã€‚å…¶ä»–éƒ½ä¸å…è®¸ã€‚ä¾‹å¦‚ï¼Œä¸å…è®¸å‡ºç°å…¶ä»–æ ‡ç‚¹ç¬¦å·ï¼Œä¸å…è®¸ç©ºæ ¼ï¼Œä¸å…è®¸ä¸‹åˆ’çº¿ï¼Œä¸å…è®¸ä¸­æ–‡å­—ç¬¦ã€‚</li><li>ä¸»æœºåçš„å¼€å¤´å’Œç»“å°¾å­—ç¬¦ä¸å…è®¸æ˜¯è¿å­—ç¬¦ã€‚</li><li>ä¸»æœºåå¼ºçƒˆå»ºè®®ä¸è¦ç”¨æ•°å­—å¼€å¤´ï¼Œå°½ç®¡è¿™ä¸€æ¡ä¸æ˜¯å¼ºåˆ¶çš„ã€‚ç”šè‡³ä¸è¦ä½¿ç”¨åªåŒ…å«å¯è§£é‡Šä¸º16è¿›åˆ¶å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚â€beefâ€ã€‚</li><li>å»ºè®®ä¸è¦ä½¿ç”¨è®¡ç®—æœºé¢†åŸŸçš„ç‰¹æ®Šçš„è¯æ±‡ï¼Œä¾‹å¦‚ï¼Œupã€‚</li><li>ç»™ä¸»æœºå‘½åé€šå¸¸ä¸è€ƒè™‘å­—æ¯å¤§å°å†™é—®é¢˜ï¼Œå¹¶ä¸”åªç”¨å°å†™å­—æ¯è€Œä¸ç”¨å¤§å†™å­—æ¯ã€‚</li><li>ç»™ä¸»æœºå‘½åï¼Œå»ºè®®ä½¿ç”¨åˆæ³•çš„å•è¯ï¼Œè¿™æ ·æ–¹ä¾¿è®°å¿†ã€‚å› ä¸ºä¸»æœºåæ˜¯åœ¨ä¸€ä¸ªdomainçš„èŒƒå›´å†…å”¯ä¸€å³å¯ï¼Œé€šå¸¸ä¸å¿…æ‹…å¿ƒé‡å¤é—®é¢˜ã€‚</li></ul><h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">find <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/logstash/</span>vendor/ -name grok-patterns<br><br><span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/logstash/</span>vendor<span class="hljs-regexp">/bundle/</span>jruby<span class="hljs-regexp">/2.6.0/g</span>ems<span class="hljs-regexp">/logstash-patterns-core-4.3.4/</span>patterns<span class="hljs-regexp">/ecs-v1/g</span>rok-patterns<br><span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/logstash/</span>vendor<span class="hljs-regexp">/bundle/</span>jruby<span class="hljs-regexp">/2.6.0/g</span>ems<span class="hljs-regexp">/logstash-patterns-core-4.3.4/</span>patterns<span class="hljs-regexp">/legacy/g</span>rok-patterns<br><br><span class="hljs-comment"># æŸ¥æ‰¾grok-patternsæ–‡ä»¶ï¼Œå› æ¯ä¸ªç‰ˆæœ¬è·¯å¾„å¯èƒ½ä¼šæ›´æ›´æ”¹ã€‚ä¸Šé¢ä¸¤ä¸ªæ–‡ä»¶éƒ½éœ€è¦ä¿®æ”¹çš„</span><br><br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># ä½¿ç”¨vimç¼–è¾‘ï¼Œæ³¨æ„ç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œè·¯å¾„ä¼šæ›´æ”¹ã€‚</span><br><br><span class="hljs-attribute">vim</span> /usr/share/logstash/vendor/bundle/jruby/<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span>/gems/logstash-patterns-core-<span class="hljs-number">4</span>.<span class="hljs-number">3</span>.<span class="hljs-number">4</span>/patterns/ecs-v1/grok-patterns<br><span class="hljs-attribute">vim</span> /usr/share/logstash/vendor/bundle/jruby/<span class="hljs-number">2</span>.<span class="hljs-number">6</span>.<span class="hljs-number">0</span>/gems/logstash-patterns-core-<span class="hljs-number">4</span>.<span class="hljs-number">3</span>.<span class="hljs-number">4</span>/patterns/legacy/grok-patterns<br><br><span class="hljs-comment"># æ‰¾åˆ°å¹¶å°†</span><br><br><span class="hljs-attribute">HOSTNAME</span> \b(?:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z-]&#123;<span class="hljs-number">0</span>,<span class="hljs-number">62</span>&#125;)(?:\.(?:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z-]&#123;<span class="hljs-number">0</span>,<span class="hljs-number">62</span>&#125;))*(\.?|\b) <br><br><span class="hljs-comment"># ä¿®æ”¹ä¸º</span><br><br><br><span class="hljs-attribute">HOSTNAME</span> \b(?:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z_-]&#123;<span class="hljs-number">0</span>,<span class="hljs-number">62</span>&#125;)(?:\.(?:[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>A-Za-z_-]&#123;<span class="hljs-number">0</span>,<span class="hljs-number">62</span>&#125;))*(\.?|\b) <br><br><span class="hljs-comment"># æ³¨æ„çœ‹ä¸¤è€…å¤šäº†ä¸¤ä¸ªä¸‹åˆ’çº¿</span><br><br></code></pre></td></tr></table></figure><p>PSï¼šå¦‚æœä½¿ç”¨Filebeatçš„æ¨¡å—ï¼Œä¹Ÿä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-params">system</span>ctl restart logstash.service <br><br><span class="hljs-params">system</span>ctl status logstash.service <br><br><span class="hljs-comment"># ä¿®æ”¹ä¿å­˜å®Œæˆä¹‹åï¼Œéœ€è¦é‡å¯ç”Ÿæ•ˆã€‚</span><br><br></code></pre></td></tr></table></figure><p>PSï¼šå¦‚æœLogstash æ›´æ–°äº†ï¼Œä¹Ÿéœ€è¦å†æ¬¡ä¿®æ”¹ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/issues/400">https://github.com/logstash-plugins/logstash-output-elasticsearch/issues/400</a> </p><p><a href="https://zhuanlan.zhihu.com/p/101154203">https://zhuanlan.zhihu.com/p/101154203</a> </p><p><a href="https://blog.csdn.net/wanghuiict/article/details/70038140">https://blog.csdn.net/wanghuiict/article/details/70038140</a> </p><div><h1>æ¨è<span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">Hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/ELK-AD-LDAP-Authentication/">Elasticsearch æ¥å…¥å¾®è½¯Active Directoryè®¤è¯</a></li><li><a href="https://songxwn.com/podman/">Podman å®¹å™¨ç®¡ç†å·¥å…·</a></li><li><a href="https://songxwn.com/zabbix-reboot-SNMPv3/">Zabbix SNMPv3 è®¾å¤‡é‡å¯åæ— æ³•ç›‘æ§é—®é¢˜</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>elasticsearch</tag>
      
      <tag>logstash</tag>
      
      <tag>syslog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Elasticsearch æ¥å…¥å¾®è½¯Active Directoryè®¤è¯</title>
    <link href="/ELK-AD-LDAP-Authentication/"/>
    <url>/ELK-AD-LDAP-Authentication/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ¬æ–‡ç« ä¸»è¦ä»‹ç»äº†Elasticsearch æ¥å…¥å¾®è½¯çš„<a href="https://learn.microsoft.com/zh-cn/troubleshoot/windows-server/identity/active-directory-overview">Active Directory</a>ï¼ˆåŸŸæ§ï¼‰ä½œä¸ºèº«ä»½è®¤è¯ã€‚</p><p>LDAPè®¤è¯æ¥å…¥å¯å‚è€ƒ<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/ldap-realm.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>ä½¿ç”¨ç¯å¢ƒï¼šRocky Linux 8ã€Elasticsearch 8ã€Windows Server 2022</p><p><strong>æ³¨æ„ï¼šç”±äºæ­¤åŠŸèƒ½åŸºç¡€ç‰ˆæ— æ³•ä½¿ç”¨ï¼Œéœ€è¦ç™½é‡‘ç‰ˆæœ¬ï¼Œå¯å‚è€ƒæ•™ç¨‹ï¼š</strong><a href="https://songxwn.com/Elasticsearch-x-pack-core/"><strong>https://songxwn.com/Elasticsearch-x-pack-core/</strong></a></p><p>ELKç³»åˆ—æ–‡ç« ï¼š<a href="https://songxwn.com/categories/linux/ELK/">https://songxwn.com/categories/linux/ELK/</a> </p><span id="more"></span><h1 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h1><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">vim</span> <span class="hljs-string">/etc/elasticsearch/elasticsearch.yml</span> <br><br><span class="hljs-comment"># ad1</span><br><br><span class="hljs-attr">xpack:</span><br>  <span class="hljs-attr">security:</span><br>    <span class="hljs-attr">authc:</span><br>      <span class="hljs-attr">realms:</span><br>        <span class="hljs-attr">active_directory:</span><br>          <span class="hljs-attr">ad1:</span><br>            <span class="hljs-attr">order:</span> <span class="hljs-number">0</span> <br>            <span class="hljs-attr">domain_name:</span> <span class="hljs-string">songxwn.com</span><br>            <span class="hljs-attr">url:</span> <span class="hljs-string">ldap://songxwn:389</span><br>            <span class="hljs-attr">bind_dn:</span> <span class="hljs-string">administrator@songxwn.com</span><br><br></code></pre></td></tr></table></figure><ul><li>domain_nameå’Œurlé€‰é¡¹ä¿®æ”¹ä¸ºè‡ªå·±çš„åŸŸåã€‚</li><li>bind_dnä¿®æ”¹ä¸ºåŸŸç”¨æˆ·ã€‚</li></ul><p><strong>æ³¨æ„ï¼šå¦‚æœæ˜¯é›†ç¾¤ï¼Œéœ€è¦æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä¿®æ”¹æ­¤é…ç½®ã€‚ï¼ˆæ³¨æ„æ‰€æœ‰èŠ‚ç‚¹çš„DNSæœåŠ¡å™¨éƒ½è¦æŒ‡å‘åŸŸæ§åˆ¶å™¨ï¼‰</strong></p><h2 id="é…ç½®bindè´¦å·çš„å¯†ç "><a href="#é…ç½®bindè´¦å·çš„å¯†ç " class="headerlink" title="é…ç½®bindè´¦å·çš„å¯†ç "></a>é…ç½®bindè´¦å·çš„å¯†ç </h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/elasticsearch/</span>bin/elasticsearch-keystore add \ xpack.security.authc.realms.active_directory.ad1.secure_bind_password<br><br><span class="hljs-comment"># é…ç½®ad1ä¸‹çš„ç”¨äºæœç´¢çš„åŸŸè´¦å·å¯†ç ã€‚</span><br><br></code></pre></td></tr></table></figure><ul><li>å¯†ç ä¼šå­˜å‚¨åˆ° <code>/etc/elasticsearch/elasticsearch.keystore</code></li></ul><p>æ³¨æ„ï¼šå¦‚æœä¿®æ”¹äº†keystoreï¼Œé‚£ä¹ˆé›†ç¾¤ä¸Šçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¦åŒæ­¥ã€‚</p><p>å¯†é’¥åº“ç®¡ç†å‚è€ƒ<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-keystore.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚ï¼ˆå¢åŠ ã€åˆ—å‡ºã€æŸ¥çœ‹æ˜æ–‡ã€åˆ é™¤ç­‰ï¼‰</p><h2 id="é…ç½®ç”¨æˆ·ç»„æ˜ å°„"><a href="#é…ç½®ç”¨æˆ·ç»„æ˜ å°„" class="headerlink" title="é…ç½®ç”¨æˆ·ç»„æ˜ å°„"></a>é…ç½®ç”¨æˆ·ç»„æ˜ å°„</h2><h3 id="å‘½ä»¤æ“ä½œ-Kibana-gt-http-127-0-0-1-5601-app-dev-tools-console"><a href="#å‘½ä»¤æ“ä½œ-Kibana-gt-http-127-0-0-1-5601-app-dev-tools-console" class="headerlink" title="å‘½ä»¤æ“ä½œ-Kibana&gt;http://127.0.0.1:5601/app/dev_tools#/console"></a>å‘½ä»¤æ“ä½œ-Kibana&gt;<code>http://127.0.0.1:5601/app/dev_tools#/console</code></h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs awk">PUT <span class="hljs-regexp">/_security/</span>role_mapping/admins<br>&#123;<br>  <span class="hljs-string">&quot;roles&quot;</span> : [ <span class="hljs-string">&quot;monitoring&quot;</span> , <span class="hljs-string">&quot;user&quot;</span> ],<br>  <span class="hljs-string">&quot;rules&quot;</span> : &#123; <span class="hljs-string">&quot;field&quot;</span> : &#123;<br>    <span class="hljs-string">&quot;groups&quot;</span> : <span class="hljs-string">&quot;cn=admins,cn=Users,dc=songxwn,dc=com&quot;</span> <br>  &#125; &#125;,<br>  <span class="hljs-string">&quot;enabled&quot;</span>: true<br>&#125;<br><br><span class="hljs-comment"># </span><br><br><span class="hljs-comment"># æ˜ å°„å®‰å…¨ç»„ï¼Œdc=songxwn,dc=com ä¸ºåŸŸåã€‚cn=admins,cn=Users ä»£è¡¨è·¯å¾„ï¼ŒUsersæ˜¯ç»„ç»‡å•å…ƒï¼Œè€Œadminsä¸ºå®‰å…¨ç»„ã€‚</span><br>adminså®‰å…¨ç»„åœ¨Usersç»„ç»‡å•å…ƒä¸‹ã€‚<br><br><span class="hljs-comment"># åœ¨ADä¸­ï¼Œæ·»åŠ åˆ°å®‰å…¨ç»„çš„ç”¨æˆ·å³å¯ç™»å½•ï¼Œå¹¶æ˜ å°„åˆ°ç›¸å…³è§’è‰²ã€‚</span><br><br><span class="hljs-comment"># ç”¨æˆ·å¯ä¸å¸¦åŸŸååç¼€ç™»å½•ã€‚</span><br><br><span class="hljs-comment"># å…·ä½“è·¯å¾„æŸ¥çœ‹ï¼Œå¯ä»¥å‚è€ƒADä¸Šçš„ADSIç¼–è¾‘å™¨å·¥å…·ã€‚</span><br><br></code></pre></td></tr></table></figure><h3 id="Webæ“ä½œ-æ¨è-Kibana-gt-http-127-0-0-1-5601-app-management-security-role-mappings"><a href="#Webæ“ä½œ-æ¨è-Kibana-gt-http-127-0-0-1-5601-app-management-security-role-mappings" class="headerlink" title="Webæ“ä½œ(æ¨è)-Kibana&gt;http://127.0.0.1:5601/app/management/security/role_mappings"></a>Webæ“ä½œ(æ¨è)-Kibana&gt;<code>http://127.0.0.1:5601/app/management/security/role_mappings</code></h3><h1 id=""><a href="#" class="headerlink" title=""></a><img src="https://s3.bmp.ovh/imgs/2023/05/03/7dd920bd443e0a3f.jpg" srcset="/img/loading.gif" lazyload></h1><ul><li>æ˜ å°„å®‰å…¨ç»„ï¼Œdc&#x3D;songxwn,dc&#x3D;com ä¸ºåŸŸåã€‚cn&#x3D;admins,cn&#x3D;Users ä»£è¡¨è·¯å¾„ï¼ŒUsersæ˜¯ç»„ç»‡å•å…ƒï¼Œè€Œadminsä¸ºå®‰å…¨ç»„ã€‚  adminså®‰å…¨ç»„åœ¨Usersç»„ç»‡å•å…ƒä¸‹ã€‚  ï»¿ </li><li>åœ¨ADä¸­ï¼Œæ·»åŠ åˆ°å®‰å…¨ç»„çš„ç”¨æˆ·å³å¯ç™»å½•ï¼Œå¹¶æ˜ å°„åˆ°ç›¸å…³è§’è‰²ã€‚  ï»¿  </li><li>ç”¨æˆ·å¯ä¸å¸¦åŸŸååç¼€ç™»å½•ã€‚  ï»¿  </li><li>å…·ä½“è·¯å¾„æŸ¥çœ‹ï¼Œå¯ä»¥å‚è€ƒADä¸Šçš„ADSIç¼–è¾‘å™¨å·¥å…·ã€‚</li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/active-directory-realm.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/active-directory-realm.html</a> </p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>elasticsearch</tag>
      
      <tag>ad</tag>
      
      <tag>ldap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Podman å®¹å™¨ç®¡ç†å·¥å…·</title>
    <link href="/podman/"/>
    <url>/podman/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>Podmanæ˜¯ä¸€ä¸ªç”¨äºåœ¨Â LinuxÂ ç³»ç»Ÿä¸Šæ„å»ºã€ç®¡ç†å’Œè¿è¡Œ<a href="https://opencontainers.org/">OCIæ ‡å‡†</a>å®¹å™¨çš„CLIå·¥å…·ï¼Œæ˜¯Dockerçš„ç›´æ¥æ›¿ä»£å“ã€‚</p><p>ç”±çº¢å¸½ä¸»å¯¼ï¼Œä¸å¼€æºç¤¾åŒºä¸€èµ·å¼€å‘ã€‚åœ¨RHEL8å¼€å§‹é¢„è£…å¹¶æ›¿ä»£Dockerã€‚å‘½ä»¤ä¸Šä¸Dockerå¹¶æ— åŒºåˆ«ã€‚</p><p>ä¸»è¦ç‰¹ç‚¹æ˜¯ä¸éœ€è¦å®ˆæŠ¤è¿›ç¨‹ï¼Œå¯ä»¥æ”¯æŒérootç”¨æˆ·è¿è¡Œå®¹å™¨ï¼Œæé«˜äº†å®‰å…¨æ€§å’Œå¯è®¿é—®æ€§ã€‚</p><p>æœ¬æ•™ç¨‹ä¹Ÿé€‚ç”¨äºRHELå…¶ä»–è¡ç”Ÿç‰ˆæœ¬ï¼Œå¦‚Rocky Linuxã€‚</p><span id="more"></span><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="RHEL8-9å®‰è£…"><a href="#RHEL8-9å®‰è£…" class="headerlink" title="RHEL8-9å®‰è£…"></a>RHEL8-9å®‰è£…</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros">dnf install podman podman-docker<br><br><span class="hljs-comment"># å®‰è£…podmanåŠdockerçš„å‘½ä»¤å…¼å®¹ç¨‹åºã€‚</span><br><br>systemctl <span class="hljs-built_in">enable</span> --now podman<br><br><span class="hljs-comment"># å¯åŠ¨å¹¶è®¾ç½®å¼€æœºå¯åŠ¨ã€‚</span><br><br>podman <span class="hljs-built_in">run</span> hello-world<br><br>docker <span class="hljs-built_in">run</span> hello-world<br><br><span class="hljs-comment"># å‘½ä»¤ç¤ºä¾‹ï¼Œä¸¤è€…éƒ½å¯ç”¨ï¼Œä½†dockerå‘½ä»¤æ— æ³•è‡ªåŠ¨ä¸å…¨ã€‚</span><br><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…podman-composeï¼ˆéœ€è¦æå‰å®‰è£…epel-yumæºï¼‰"><a href="#å®‰è£…podman-composeï¼ˆéœ€è¦æå‰å®‰è£…epel-yumæºï¼‰" class="headerlink" title="å®‰è£…podman-composeï¼ˆéœ€è¦æå‰å®‰è£…epel yumæºï¼‰"></a>å®‰è£…podman-composeï¼ˆéœ€è¦æå‰å®‰è£…epel yumæºï¼‰</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cmake">dnf <span class="hljs-keyword">install</span> podman-compose<br><br><span class="hljs-comment"># å®‰è£…composeå·¥å…·ï¼Œç”¨äºç®¡ç†æˆ–è¿è¡Œå¤šä¸ªå®¹å™¨ã€‚å¯ç›´æ¥æ›¿ä»£docker-composeã€‚</span><br><br>podman-compose up -d<br>podman-compose down<br><br><span class="hljs-comment"># å‘½ä»¤ç¤ºä¾‹</span><br><br></code></pre></td></tr></table></figure><h1 id="é»˜è®¤ä»“åº“é¡ºåº"><a href="#é»˜è®¤ä»“åº“é¡ºåº" class="headerlink" title="é»˜è®¤ä»“åº“é¡ºåº"></a>é»˜è®¤ä»“åº“é¡ºåº</h1><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>çº¢å¸½æŠŠè‡ªå·±çš„ä¸¤ä¸ªä»“åº“æºæ”¾åœ¨äº†å‰é¢ï¼Œå¯¼è‡´æ‹‰å–å‰ä¸¤ä¸ªä»“åº“æºä¸å­˜åœ¨çš„é•œåƒæ—¶å€™ï¼Œè¦æ‰‹åŠ¨é€‰æ‹©ã€‚</p><p>å¾ˆéº»çƒ¦ğŸ¤¬</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk">podman pull songxwn/webnettools:<span class="hljs-number">1.4</span><br>Emulate Docker CLI using podman. Create <span class="hljs-regexp">/etc/</span>containers/nodocker to quiet msg.<br>? Please select an image: <br>  â–¸ registry.access.redhat.com<span class="hljs-regexp">/songxwn/</span>webnettools:<span class="hljs-number">1.4</span><br>    registry.redhat.io<span class="hljs-regexp">/songxwn/</span>webnettools:<span class="hljs-number">1.4</span><br>    docker.io<span class="hljs-regexp">/songxwn/</span>webnettools:<span class="hljs-number">1.4</span><br><br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>containers/registries.conf<br><br><br>unqualified-search-registries = [<span class="hljs-string">&quot;docker.io&quot;</span>, <span class="hljs-string">&quot;registry.redhat.io&quot;</span>, <span class="hljs-string">&quot;registry.access.redhat.com&quot;</span>]<br><br><br><span class="hljs-comment"># å°†unqualified-search-registriesé€‰é¡¹ï¼Œä¿®æ”¹ä¸ºä¸Šé¢çš„å³å¯ã€‚</span><br><br><br>systemctl restart podman<br><br><span class="hljs-comment"># ç„¶åé‡å¯ä¸€ä¸‹å³å¯ã€‚</span><br><br><br></code></pre></td></tr></table></figure><p>PSï¼šä¹Ÿå¯ä»¥ä¿®æ”¹ä¸º<a href="https://yeasy.gitbook.io/docker_practice/install/mirror">å›½å†…çš„Docker Hubæº</a>ï¼Œå¦‚ç½‘æ˜“çš„ <code>https://hub-mirror.c.163.com</code></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://computingforgeeks.com/create-docker-container-registry-with-podman-letsencrypt/">https://computingforgeeks.com/create-docker-container-registry-with-podman-letsencrypt/</a> </p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Docker</tag>
      
      <tag>Dodman</tag>
      
      <tag>container</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Zabbix SNMPv3 è®¾å¤‡é‡å¯åæ— æ³•ç›‘æ§é—®é¢˜</title>
    <link href="/zabbix-reboot-SNMPv3/"/>
    <url>/zabbix-reboot-SNMPv3/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ€è¿‘æœ‰å‘ç°æœ‰SNMPv3 ç›‘æ§çš„ç½‘ç»œè®¾å¤‡æ–­ç”µé‡å¯åï¼ŒZabbixæ— æ³•æ­£å¸¸ç›‘æ§ï¼Œæ˜¾ç¤ºSNMPè¶…æ—¶ã€‚</p><p>ä½†SNMPå·¥å…·å»get oidå€¼å´æ²¡æœ‰é—®é¢˜ï¼ŒZabbix Serveré‡å¯åèƒ½è§£å†³ã€‚</p><p>æŸ¥è¯¢ä¸€ç•ªåæœ‰äº†ä¸é‡å¯çš„è§£å†³æ–¹æ¡ˆã€‚</p><span id="more"></span><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p><a href="RFC3414">RFC3414</a> è¦æ±‚ SNMPv3 è®¾å¤‡ä¿ç•™å…¶ engineBootsã€‚ ä¸€äº›è®¾å¤‡ä¸è¿™æ ·åšï¼Œè¿™å¯¼è‡´å®ƒä»¬çš„ SNMP æ¶ˆæ¯åœ¨é‡æ–°å¯åŠ¨åè¢«ä¸¢å¼ƒä¸ºè¿‡æ—¶çš„ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦åœ¨æœåŠ¡å™¨&#x2F;ä»£ç†ä¸Šæ‰‹åŠ¨æ¸…é™¤ SNMP ç¼“å­˜ï¼ˆé€šè¿‡ä½¿ç”¨Â <a href="https://www.zabbix.com/documentation/6.0/zh/manual/concepts/server#runtime-control">-R snmp_cache_reload</a>ï¼‰æˆ–è€…éœ€è¦é‡æ–°å¯åŠ¨æœåŠ¡å™¨&#x2F;ä»£ç† .</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">zabbix_server -R snmp_cache_reload<br><br>zabbix_proxy -R snmp_cache_reload<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ¸…ç†SNMPç¼“å­˜</span><br><br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.zabbix.com/documentation/6.0/zh/manual/config/items/itemtypes/snmp">https://www.zabbix.com/documentation/6.0/zh/manual/config/items/itemtypes/snmp</a> </p><p><a href="https://blog.csdn.net/qq_42906357/article/details/129818955">https://blog.csdn.net/qq_42906357/article/details/129818955</a> </p>]]></content>
    
    
    <categories>
      
      <category>Zabbix</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>Linux</tag>
      
      <tag>Zabbix</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</title>
    <link href="/Elasticsearch-x-pack-core/"/>
    <url>/Elasticsearch-x-pack-core/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æœ¬æ–‡ç« è®²è§£äº†Elasticsearch 8çš„ç™½é‡‘ç‰ˆæ¿€æ´»ï¼Œä½¿ç”¨äº†Dockerç¯å¢ƒè¿›è¡Œè‡ªåŠ¨ç”Ÿæˆç ´è§£æ–‡ä»¶x-pack-coreã€‚ä»…ç”¨äºå­¦ä¹ ä½¿ç”¨ã€‚</p><p>ä»…é€‚ç”¨äºï¼šElasticsearchç‰ˆæœ¬ï¼š8.7.0 ï¼ˆä½¿ç”¨RPMåŒ…å®‰è£…ï¼‰</p><p>Javaå®¹å™¨ç‰ˆæœ¬ï¼šJDK19.0.2</p><p>ç¯å¢ƒè¦æ±‚ï¼šRocky Linux8ã€<a href="https://yeasy.gitbook.io/docker_practice/install/centos">Docker</a>æˆ–<a href="https://cloud.tencent.com/developer/article/1976198">Podman</a>ã€‚</p><p>ç½‘ç»œè¦æ±‚ï¼šéœ€è¦èƒ½æ­£å¸¸è®¿é—®GitHubå’ŒDocker HUBï¼ˆå»ºè®®å…¨å±€æŒ‚ä»£ç†ï¼‰</p><p><a href="https://www.elastic.co/cn/subscriptions">ç™½é‡‘ç‰ˆåŠŸèƒ½</a>ï¼šæ”¯æŒLDAPã€watcherã€æ”¯æŒé‚®ç®±å‘é€ç­‰ã€‚</p><p>å®‰è£…æ•™ç¨‹å¯å‚è€ƒï¼š<a href="https://songxwn.com/elk/">https://songxwn.com/elk/</a> </p><span id="more"></span><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="ä½¿ç”¨Dockerè‡ªåŠ¨ç”Ÿæˆç ´è§£æ–‡ä»¶"><a href="#ä½¿ç”¨Dockerè‡ªåŠ¨ç”Ÿæˆç ´è§£æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨Dockerè‡ªåŠ¨ç”Ÿæˆç ´è§£æ–‡ä»¶"></a>ä½¿ç”¨Dockerè‡ªåŠ¨ç”Ÿæˆç ´è§£æ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install wget unzip -y<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å®‰è£…å·¥å…·ï¼Œä¸”ç¡®ä¿Dockerå¯ç”¨ã€‚</span><br><br>wget https://github.com/Songxwn/crack-elasticsearch-by-docker/archive/refs/tags/8.7.zip<br><br>unzip 8.7.zip<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">è§£å‹</span><br><br>tree crack-elasticsearch-by-docker-8.7/<br>crack-elasticsearch-by-docker-8.7/<br>â”œâ”€â”€ build_crack_jar.sh<br>â”œâ”€â”€ crack.sh<br>â”œâ”€â”€ Dockerfile<br>â””â”€â”€ README.md<br><br>0 directories, 4 files<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ–‡ä»¶æ ‘ï¼Œå¦‚ä¸Šã€‚</span><br><br>cd crack-elasticsearch-by-docker-8.7/<br>version=8.7.0<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">è¿›å…¥å·¥ä½œç›®å½•ï¼Œé…ç½®ESç‰ˆæœ¬ã€‚</span><br><br>bash crack.sh $version<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ‰§è¡Œç ´è§£æ–‡ä»¶ç”Ÿæˆï¼Œæ³¨æ„è¿‡ç¨‹å¦‚æœå¡æ­»å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜ï¼Œæ— æ³•ä»githubä¸Šä¸‹è½½æ–‡ä»¶ã€‚</span><br><br>cp output/x-pack-core-$version.crack.jar x-pack-core-$version.jar<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å°†ç ´è§£æ–‡ä»¶å¤åˆ¶é‡å‘½ååˆ°å½“å‰ç›®å½•ã€‚</span><br><br><br>tree .<br>.<br>â”œâ”€â”€ build_crack_jar.sh<br>â”œâ”€â”€ crack.sh<br>â”œâ”€â”€ Dockerfile<br>â”œâ”€â”€ output<br>â”‚Â Â  â”œâ”€â”€ LicenseVerifier.class<br>â”‚Â Â  â”œâ”€â”€ LicenseVerifier.java<br>â”‚Â Â  â”œâ”€â”€ XPackBuild.class<br>â”‚Â Â  â”œâ”€â”€ XPackBuild.java<br>â”‚Â Â  â”œâ”€â”€ x-pack-core-8.7.0.crack.jar<br>â”‚Â Â  â””â”€â”€ x-pack-core-8.7.0.jar<br>â”œâ”€â”€ README.md<br>â””â”€â”€ x-pack-core-8.7.0.jar<br><br>1 directory, 11 files<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ‰§è¡ŒæˆåŠŸåçš„ç›®å½•ç»“æœã€‚</span><br><br></code></pre></td></tr></table></figure><p>PSï¼š8.7.1 <a href="https://github.com/Songxwn/crack-elasticsearch-by-docker/archive/refs/tags/8.7.1.zip">https://github.com/Songxwn/crack-elasticsearch-by-docker/archive/refs/tags/8.7.1.zip</a></p><h3 id="è¦†ç›–"><a href="#è¦†ç›–" class="headerlink" title="è¦†ç›–"></a>è¦†ç›–</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp -f x-pack-core-8.7.0.jar  /usr/share/elasticsearch/modules/x-pack-core/<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">è¦†ç›–åŸæ–‡ä»¶ï¼Œå¦‚æœæ˜¯é›†ç¾¤ï¼Œéœ€è¦æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦æ­¤æ“ä½œã€‚</span><br><br><br>systemctl restart elasticsearch.service <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡å¯ç”Ÿæ•ˆ</span><br><br></code></pre></td></tr></table></figure><h2 id="æˆæƒæ–‡ä»¶"><a href="#æˆæƒæ–‡ä»¶" class="headerlink" title="æˆæƒæ–‡ä»¶"></a>æˆæƒæ–‡ä»¶</h2><p>å¤åˆ¶ä¸‹é¢æ–‡æœ¬ä¿å­˜æ–‡ä»¶ä¸ºelastic8.jsonå³å¯ï¼Œç„¶åè¿›å…¥Kibanaå¯¼å…¥å³å¯ç”Ÿæ•ˆã€‚</p><p><code>http://127.0.0.1:5601/app/management/stack/license_management</code>ï¼ˆç¤ºä¾‹è·¯å¾„ï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;license&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;uid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;d177620f-46ef-4389-8694-4f1d1cb232f0&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;platinum&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;issue_date_in_millis&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1682640000000</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;expiry_date_in_millis&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4081372171000</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;max_nodes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;issued_to&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;elastic&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;issuer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;elastic&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;signature&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;AAAAAwAAAA1Mj/kViFP0DDokihMTAAABmC9ZN0hjZDBGYnVyRXpCOW5Bb3FjZDAxOWpSbTVoMVZwUzRxVk1PSmkxaktJRVl5MUYvUWh3bHZVUTllbXNPbzBUemtnbWpBbmlWRmRZb25KNFlBR2x0TXc2K2p1Y1VtMG1UQU9TRGZVSGRwaEJGUjE3bXd3LzRqZ05iLzRteWFNekdxRGpIYlFwYkJiNUs0U1hTVlJKNVlXekMrSlVUdFIvV0FNeWdOYnlESDc3MWhlY3hSQmdKSjJ2ZTcvYlBFOHhPQlV3ZHdDQ0tHcG5uOElCaDJ4K1hob29xSG85N0kvTWV3THhlQk9NL01VMFRjNDZpZEVXeUtUMXIyMlIveFpJUkk2WUdveEZaME9XWitGUi9WNTZVQW1FMG1DenhZU0ZmeXlZakVEMjZFT2NvOWxpZGlqVmlHNC8rWVVUYzMwRGVySHpIdURzKzFiRDl4TmM1TUp2VTBOUlJZUlAyV0ZVL2kvVk10L0NsbXNFYVZwT3NSU082dFNNa2prQ0ZsclZ4NTltbU1CVE5lR09Bck93V2J1Y3c9PQAAAQB+UgXp8+9jDR7U2Roxj4caOUYvtO3+GEU/AGVgrC7LHZTKDQkD8h36pneSK1Iwh0HTvi9kKmdWmqU6DiSwiOMW/Bu+ouItG5XlG+THiC1vDzVmknWU+MKIr9agGaEz4bsaqv70rO8MaivOLgEsj61cgDbpNL4jfLuCpiHbMB/X8XaftLCl70URcRnNTJ64PhobBFwHg0XV344FLInlRSpOWeQr29Nh94iB5bxBeKsXwhmoP9O1NtKAmPoKJUttBXQ757/BnyzruK8+sxGOv8XVCkC+xjVTqeyd3Lp5WUNw7jm4Bb7XspDWWjjRDYh4Omci94VetP+QtcoQmAiBarKi&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;start_date_in_millis&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1682640000000</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><blockquote><p>è®¢é˜…ç­‰çº§ä¸ºç™½é‡‘ï¼Œæˆæƒæ—¶é—´åˆ°2099å¹´ï¼ŒæˆæƒèŠ‚ç‚¹ä¸º1000ä¸ªã€‚ï¼ˆå¯éšä¾¿ä¿®æ”¹ï¼‰</p><p>æ³¨æ„ï¼šéœ€è¦æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦†ç›–æ–‡ä»¶é‡å¯åå¯¼å…¥ã€‚</p></blockquote><p><img src="https://s3.bmp.ovh/imgs/2023/05/02/331fa7362bf0ced5.png" srcset="/img/loading.gif" lazyload alt="ç ´è§£æˆåŠŸåç¤ºä¾‹å›¾"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>WolfBolinï¼š<a href="https://blog.wolfbolin.com/archives/767">https://blog.wolfbolin.com/archives/767</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Linux-growpart/">Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</a></li><li><a href="https://songxwn.com/elk_cluster/">Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</a></li><li><a href="https://songxwn.com/elk_snmp_trap/">ELK-Logstashé…ç½®SNMP-Trap</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>elasticsearch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</title>
    <link href="/Linux-growpart/"/>
    <url>/Linux-growpart/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æœ¬æ•™ç¨‹æ˜¯ç”¨äºLinuxè™šæ‹Ÿæœºåœ¨è°ƒæ•´è™šæ‹Ÿç¡¬ç›˜å¤§å°åï¼Œè¿›è¡Œåœ¨çº¿ä¸é‡å¯çƒ­æ‰©å®¹åˆ†åŒºå¤§å°ã€‚</p><p>é€‚ç”¨äºRHEL 7+ä»¥ä¸Šçš„ç‰ˆæœ¬åŠè¡ç”Ÿå‘è¡Œç‰ˆã€‚ï¼ˆå¦‚Centosã€Rocky Linuxã€Alma Linuxç­‰ï¼‰</p><span id="more"></span><h1 id="ç¡¬ç›˜åˆ†åŒºåœ¨çº¿çƒ­æ‰©å®¹"><a href="#ç¡¬ç›˜åˆ†åŒºåœ¨çº¿çƒ­æ‰©å®¹" class="headerlink" title="ç¡¬ç›˜åˆ†åŒºåœ¨çº¿çƒ­æ‰©å®¹"></a>ç¡¬ç›˜åˆ†åŒºåœ¨çº¿çƒ­æ‰©å®¹</h1><h2 id="åˆ·æ–°ç¡¬ç›˜å®¹é‡"><a href="#åˆ·æ–°ç¡¬ç›˜å®¹é‡" class="headerlink" title="åˆ·æ–°ç¡¬ç›˜å®¹é‡"></a>åˆ·æ–°ç¡¬ç›˜å®¹é‡</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">echo <span class="hljs-string">&#x27;1&#x27;</span> &gt; <span class="hljs-regexp">/sys/</span>block<span class="hljs-regexp">/sda/</span>device/rescan  <br><br><span class="hljs-comment"># åˆ·æ–°å®¹é‡ï¼Œè®¾å¤‡ä¸º sda</span><br><span class="hljs-comment"># æ³¨æ„è‹¥å¤§äº2TBçš„ç¡¬ç›˜ï¼Œéœ€è¦GPTåˆ†åŒºæ ¼å¼ï¼Œä¸”ä¸ºå¼•å¯¼ç¡¬ç›˜çš„è¯ï¼Œéœ€è¦ä»¥UEFIå¼•å¯¼å¯åŠ¨ã€‚</span><br><br></code></pre></td></tr></table></figure><h2 id="å®‰è£…æ‰©å®¹å·¥å…·"><a href="#å®‰è£…æ‰©å®¹å·¥å…·" class="headerlink" title="å®‰è£…æ‰©å®¹å·¥å…·"></a>å®‰è£…æ‰©å®¹å·¥å…·</h2><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs tap">yum install cloud-utils-growpart -y<br><br><span class="hljs-comment"># å®‰è£…growpartï¼Œä½¿ç”¨æ­¤å·¥å…·å¯ä»¥è‡ªåŠ¨è°ƒæ•´åˆ†åŒºã€‚</span><br><br>lsblk<br>NAME     MAJ:MIN RM    SIZE RO TYPE MOUNTPOINT<br>sda        8:0   <span class="hljs-number"> 0 </span>     2T <span class="hljs-number"> 0 </span>disk <br>â”œâ”€sda1     8:1   <span class="hljs-number"> 0 </span>   100M <span class="hljs-number"> 0 </span>part /boot/efi<br>â””â”€sda2     8:2   <span class="hljs-number"> 0 </span>1023.9G <span class="hljs-number"> 0 </span>part /<br><br><span class="hljs-comment"># æŸ¥çœ‹ç¡¬ç›˜åˆ†åŒºç»“æ„ï¼Œæ³¨æ„åªæœ‰æœ€åä¸€ä¸ªåˆ†åŒºå¯ä»¥æ‰©å®¹ã€‚</span><br><br>growpart /dev/sda 2<br><br><span class="hljs-comment"># åˆ†åŒºæ‰©å®¹ï¼ŒæŒ‡å®šç¡¬ç›˜å’Œåˆ†åŒºå·ã€‚</span><br><br>xfs_growfs /dev/sda2<br><br><span class="hljs-comment"># æ–‡ä»¶ç³»ç»Ÿæ‰©å®¹</span><br><br>lsblk<br>NAME     MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT<br>sda        8:0   <span class="hljs-number"> 0 </span>   2T <span class="hljs-number"> 0 </span>disk <br>â”œâ”€sda1     8:1   <span class="hljs-number"> 0 </span> 100M <span class="hljs-number"> 0 </span>part /boot/efi<br>â””â”€sda2     8:2   <span class="hljs-number"> 0 </span>   2T <span class="hljs-number"> 0 </span>part / <br><br></code></pre></td></tr></table></figure><p>æœ¬æ¬¡åœ¨CentOS7ä¸­æ‰©å®¹çš„åˆ†åŒºæ˜¯è¿™å—ç£ç›˜ä¸Šçš„æœ€åä¸€ä¸ªåˆ†åŒºï¼Œä¹Ÿå°±æ˜¯ç£ç›˜æ‰©å±•åå¢åŠ çš„ç©ºé—´æ˜¯åŠ åœ¨ç£ç›˜çš„æœ€åä¸€ä¸ªåˆ†åŒºã€‚</p><p>æ‰€ä»¥å¯ä»¥é€šè¿‡growpartå·¥å…·ä¿®æ”¹ç¡¬ç›˜çš„åˆ†åŒºè¡¨ï¼Œå°†è¿™éƒ¨åˆ†ç©ºé—´ç›´æ¥å¢åŠ åˆ°æœ€åä¸€ä¸ªåˆ†åŒºã€‚</p><p>æ‰€ä»¥å¦‚æœä½ è¦æ‰©å®¹çš„åˆ†åŒºåœ¨ä½ çš„ç³»ç»Ÿä¸Šå¹¶éæ˜¯ç£ç›˜ä¸Šçš„æœ€åä¸€ä¸ªåˆ†åŒºçš„è¯ï¼Œå¯èƒ½æ— æ³•ç›´æ¥æ— æŸæ‰©å……åˆ†åŒºã€‚</p><p>è¯·è°¨æ…ä½¿ç”¨æ­¤æ–¹æ³•è¿›è¡Œæ“ä½œï¼Œå»ºè®®åšå¥½æ•°æ®å¤‡ä»½å†è¿›è¡Œæ“ä½œã€‚</p><h1 id="ä½¿ç”¨Linux-Live-ISO-å…³æœºåç¦»çº¿GUIè°ƒæ•´åˆ†åŒºæ‰©å±•"><a href="#ä½¿ç”¨Linux-Live-ISO-å…³æœºåç¦»çº¿GUIè°ƒæ•´åˆ†åŒºæ‰©å±•" class="headerlink" title="ä½¿ç”¨Linux Live ISO å…³æœºåç¦»çº¿GUIè°ƒæ•´åˆ†åŒºæ‰©å±•"></a>ä½¿ç”¨Linux Live ISO å…³æœºåç¦»çº¿GUIè°ƒæ•´åˆ†åŒºæ‰©å±•</h1><p>GParted Live ä¸‹è½½ <a href="https://gparted.org/livecd.php">https://gparted.org/livecd.php</a> </p><p>æ–‡ä»¶ç³»ç»Ÿæ”¯æŒæƒ…å†µï¼š<a href="https://gparted.org/features.php">https://gparted.org/features.php</a> </p><p>ä½¿ç”¨æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/Mr_rsq/article/details/99822699">https://blog.csdn.net/Mr_rsq/article/details/99822699</a> </p><p><img src="https://gparted.org/screens/gparted-main-window.png" srcset="/img/loading.gif" lazyload alt="GParted"></p><h1 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h1><p><a href="https://access.redhat.com/solutions/5540131">https://access.redhat.com/solutions/5540131</a> </p><p><a href="https://cloud.tencent.com/developer/article/1653394">https://cloud.tencent.com/developer/article/1653394</a> </p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Elasticsearch-x-pack-core/">Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</a></li><li><a href="https://songxwn.com/elk_cluster/">Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</a></li><li><a href="https://songxwn.com/elk_snmp_trap/">ELK-Logstashé…ç½®SNMP-Trap</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>VMware</tag>
      
      <tag>Disk</tag>
      
      <tag>Partition</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</title>
    <link href="/elk_cluster/"/>
    <url>/elk_cluster/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æœ¬æ•™ç¨‹å®¢æˆ·ç«¯APIå…³é—­HTTPSè®¤è¯ï¼Œä½†ä¼ è¾“ä½¿ç”¨HTTPSã€‚ï¼ˆä¸ºäº†æ¥å…¥<a href="https://songxwn.com/frostmourne_install/">æ—¥å¿—ç›‘æ§</a>ï¼‰</p><p>ä¸»è¦ä»‹ç»äº†ESé›†ç¾¤çš„æ­å»ºã€‚ELKå•æœºä½¿ç”¨å¯å‚è€ƒï¼š<a href="https://songxwn.com/elk/">https://songxwn.com/elk/</a> </p><p>Elasticsearchç‰ˆæœ¬ï¼š8.x</p><p>ç³»ç»Ÿç‰ˆæœ¬ï¼šRocky Linux 8.7 (å…³é—­SE Linuxå’Œé˜²ç«å¢™)</p><p>é…ç½®è¦æ±‚ï¼šå»ºè®®4æ ¸8Gä»¥ä¸Šï¼Œå­˜å‚¨ç©ºé—´æŒ‰ç…§å­˜å‚¨çš„æ–‡æ¡£å¤§å°è§„åˆ’ã€‚</p><p>Elasticsearch é›†ç¾¤å»ºè®®è‡³å°‘è¦æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œä¸¤ä¸ªä»¥ä¸Šçš„masterèŠ‚ç‚¹ã€‚</p><p>æœ¬æ•™ç¨‹ä¹ŸåŒæ ·é€‚ç”¨äºä¹Ÿé€‚ç”¨äºå…¶ä»–RHEL8-9ç‰ˆæœ¬è¡ç”Ÿç‰ˆç³»ç»Ÿï¼šå¦‚Centos streamã€AlmaLinuxç­‰ã€‚</p><span id="more"></span><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>ï¼ˆ1ï¼‰é›†ç¾¤ï¼ˆClusterï¼‰ï¼š ESå¯ä»¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„å•ä¸ªæœç´¢æœåŠ¡å™¨ã€‚ä¸è¿‡ï¼Œä¸ºäº†å¤„ç†å¤§å‹æ•°æ®é›†ï¼Œå®ç°å®¹é”™å’Œé«˜å¯ç”¨æ€§ï¼ŒESå¯ä»¥è¿è¡Œåœ¨è®¸å¤šäº’ç›¸åˆä½œçš„æœåŠ¡å™¨ä¸Šã€‚è¿™äº›æœåŠ¡å™¨çš„é›†åˆç§°ä¸ºé›†ç¾¤ã€‚</p><p>ï¼ˆ2ï¼‰èŠ‚ç‚¹ï¼ˆNodeï¼‰ï¼š å½¢æˆé›†ç¾¤çš„æ¯ä¸ªæœåŠ¡å™¨ç§°ä¸ºèŠ‚ç‚¹ã€‚</p><p>ï¼ˆ3ï¼‰ç´¢å¼•(index): åœ¨ ES ä¸­, ç´¢å¼•æ˜¯ä¸€ç»„æ–‡æ¡£çš„é›†åˆã€‚</p><p>ï¼ˆ4ï¼‰åˆ†ç‰‡ï¼ˆshardï¼‰</p><p>å½“æœ‰å¤§é‡çš„æ–‡æ¡£æ—¶ï¼Œç”±äºå†…å­˜çš„é™åˆ¶ã€ç£ç›˜å¤„ç†èƒ½åŠ›ä¸è¶³ã€æ— æ³•è¶³å¤Ÿå¿«çš„å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ç­‰ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½ä¸å¤Ÿã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®å¯ä»¥åˆ†ä¸ºè¾ƒå°çš„åˆ†ç‰‡ã€‚æ¯ä¸ªåˆ†ç‰‡æ”¾åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚</p><p>å½“ä½ æŸ¥è¯¢çš„ç´¢å¼•åˆ†å¸ƒåœ¨å¤šä¸ªåˆ†ç‰‡ä¸Šæ—¶ï¼ŒESä¼šæŠŠæŸ¥è¯¢å‘é€ç»™æ¯ä¸ªç›¸å…³çš„åˆ†ç‰‡ï¼Œå¹¶å°†ç»“æœç»„åˆåœ¨ä¸€èµ·ï¼Œè€Œåº”ç”¨ç¨‹åºå¹¶ä¸çŸ¥é“åˆ†ç‰‡çš„å­˜åœ¨ã€‚å³ï¼šè¿™ä¸ªè¿‡ç¨‹å¯¹ç”¨æˆ·æ¥è¯´æ˜¯é€æ˜çš„ã€‚</p><p>ï¼ˆ5ï¼‰å‰¯æœ¬ï¼ˆRepliaï¼‰</p><p>ä¸ºæé«˜æŸ¥è¯¢ååé‡æˆ–å®ç°é«˜å¯ç”¨æ€§ï¼Œå¯ä»¥ä½¿ç”¨åˆ†ç‰‡å‰¯æœ¬ã€‚</p><p>å‰¯æœ¬æ˜¯ä¸€ä¸ªåˆ†ç‰‡çš„ç²¾ç¡®å¤åˆ¶ï¼Œæ¯ä¸ªåˆ†ç‰‡å¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬ã€‚ESä¸­å¯ä»¥æœ‰è®¸å¤šç›¸åŒçš„åˆ†ç‰‡ï¼Œå…¶ä¸­ä¹‹ä¸€è¢«é€‰æ‹©æ›´æ”¹ç´¢å¼•æ“ä½œï¼Œè¿™ç§ç‰¹æ®Šçš„åˆ†ç‰‡ç§°ä¸ºä¸»åˆ†ç‰‡ã€‚</p><p>å½“ä¸»åˆ†ç‰‡ä¸¢å¤±æ—¶ï¼Œå¦‚ï¼šè¯¥åˆ†ç‰‡æ‰€åœ¨çš„æ•°æ®ä¸å¯ç”¨æ—¶ï¼Œé›†ç¾¤å°†å‰¯æœ¬æå‡ä¸ºæ–°çš„ä¸»åˆ†ç‰‡ã€‚</p><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p>åˆ†ç‰‡ä¸å‰¯æœ¬çš„åŒºåˆ«åœ¨äºï¼š</p><p>å½“ä½ åˆ†ç‰‡è®¾ç½®ä¸º5ï¼Œæ•°æ®é‡ä¸º30Gæ—¶ï¼Œesä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æŠŠæ•°æ®å‡è¡¡åœ°åˆ†é…åˆ°5ä¸ªåˆ†ç‰‡ä¸Šï¼Œå³æ¯ä¸ªåˆ†ç‰‡å¤§æ¦‚æœ‰6Gæ•°æ®ï¼Œå½“ä½ æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒESä¼šæŠŠæŸ¥è¯¢å‘é€ç»™æ¯ä¸ªç›¸å…³çš„åˆ†ç‰‡ï¼Œå¹¶å°†ç»“æœç»„åˆåœ¨ä¸€èµ·ã€‚</p><p>è€Œå‰¯æœ¬ï¼Œå°±æ˜¯å¯¹åˆ†å¸ƒåœ¨5ä¸ªåˆ†ç‰‡çš„æ•°æ®è¿›è¡Œå¤åˆ¶ã€‚å› ä¸ºåˆ†ç‰‡æ˜¯æŠŠæ•°æ®è¿›è¡Œåˆ†å‰²è€Œå·²ï¼Œæ•°æ®ä¾ç„¶åªæœ‰ä¸€ä»½ï¼Œè¿™æ ·çš„ç›®çš„æ˜¯ä¿éšœæŸ¥è¯¢çš„é«˜æ•ˆæ€§ï¼Œå‰¯æœ¬åˆ™æ˜¯å¤šå¤åˆ¶å‡ ä»½åˆ†ç‰‡çš„æ•°æ®ï¼Œè¿™æ ·çš„ç›®çš„æ˜¯ä¿éšœæ•°æ®çš„é«˜å¯é æ€§ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</p><p>æ³¨æ„</p><p>ç´¢å¼•å»ºç«‹åï¼Œåˆ†ç‰‡ä¸ªæ•°æ˜¯ä¸å¯ä»¥æ›´æ”¹çš„ã€‚</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="ç³»ç»Ÿå‚æ•°è°ƒæ•´"><a href="#ç³»ç»Ÿå‚æ•°è°ƒæ•´" class="headerlink" title="ç³»ç»Ÿå‚æ•°è°ƒæ•´"></a>ç³»ç»Ÿå‚æ•°è°ƒæ•´</h2><h3 id="ä¿®æ”¹è™šæ‹Ÿå†…å­˜å¤§å°"><a href="#ä¿®æ”¹è™šæ‹Ÿå†…å­˜å¤§å°" class="headerlink" title="ä¿®æ”¹è™šæ‹Ÿå†…å­˜å¤§å°"></a>ä¿®æ”¹è™šæ‹Ÿå†…å­˜å¤§å°</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> &gt;&gt; /etc/sysctl.conf &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">vm.max_map_count=655360</span><br><span class="hljs-string">fs.file-max=655360</span><br><span class="hljs-string">EOF</span><br><br>sysctl -p<br><br><span class="hljs-comment"># æ‰§è¡Œåœ¨çº¿ç”Ÿæ•ˆã€‚</span><br><br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·é™åˆ¶"><a href="#ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·é™åˆ¶" class="headerlink" title="ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·é™åˆ¶"></a>ä¿®æ”¹æ‰€æœ‰ç”¨æˆ·é™åˆ¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> &gt;&gt; /etc/security/limits.conf &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">* soft nofile 924000</span><br><span class="hljs-string">* hard nofile 924000</span><br><span class="hljs-string">* soft nproc 4096</span><br><span class="hljs-string">* hard nproc 4096</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># æ°¸ä¹…ç”Ÿæ•ˆï¼Œä½†éœ€è¦é‡å¯ã€‚</span><br><br></code></pre></td></tr></table></figure><h2 id="æ­£å¼å®‰è£…"><a href="#æ­£å¼å®‰è£…" class="headerlink" title="æ­£å¼å®‰è£…"></a>æ­£å¼å®‰è£…</h2><h3 id="yumæºé…ç½®"><a href="#yumæºé…ç½®" class="headerlink" title="yumæºé…ç½®"></a>yumæºé…ç½®</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs routeros">vim /etc/yum.repos.d/elasticsearch.repo<br><br>[elasticsearch]<br><span class="hljs-attribute">name</span>=Elasticsearch repository <span class="hljs-keyword">for</span> 8.x packages<br><span class="hljs-attribute">baseurl</span>=https://mirrors.tuna.tsinghua.edu.cn/elasticstack/8.x/yum<br><span class="hljs-attribute">gpgcheck</span>=0<br><span class="hljs-attribute">enabled</span>=1<br><span class="hljs-attribute">autorefresh</span>=1<br><span class="hljs-attribute">type</span>=rpm-md<br><br><span class="hljs-comment"># ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæºï¼Œå…³é—­gpgè®¤è¯ã€‚</span><br><br></code></pre></td></tr></table></figure><h3 id="é›†ç¾¤è§„åˆ’ï¼Œé›†ç¾¤åå­—ä¸ºES-CU1"><a href="#é›†ç¾¤è§„åˆ’ï¼Œé›†ç¾¤åå­—ä¸ºES-CU1" class="headerlink" title="é›†ç¾¤è§„åˆ’ï¼Œé›†ç¾¤åå­—ä¸ºES-CU1"></a>é›†ç¾¤è§„åˆ’ï¼Œé›†ç¾¤åå­—ä¸ºES-CU1</h3><table><thead><tr><th align="left">èŠ‚ç‚¹åå­—</th><th align="left">IP</th><th align="left">è§’è‰²è§„åˆ’</th></tr></thead><tbody><tr><td align="left">ES-01</td><td align="left">100.64.128.101</td><td align="left">masterã€data</td></tr><tr><td align="left">ES-02</td><td align="left">100.64.128.102</td><td align="left">masterã€data</td></tr><tr><td align="left">ES-03</td><td align="left">100.64.128.103</td><td align="left">masterã€data</td></tr></tbody></table><h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">vim /etc/hosts<br><br><br><span class="hljs-number">100.64.128.101</span> ES-<span class="hljs-number">01</span><br><span class="hljs-number">100.64.128.102</span> ES-<span class="hljs-number">02</span><br><span class="hljs-number">100.64.128.103</span> ES-<span class="hljs-number">03</span><br><br># é…ç½®æœ¬åœ°ä¸»æœºåè§£æï¼Œé€šè¿‡pingéªŒè¯ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦é…ç½®<br><br></code></pre></td></tr></table></figure><h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmake">dnf <span class="hljs-keyword">install</span> elasticsearch logstash kibana -y<br><br><span class="hljs-comment"># æ³¨æ„å®‰è£…åä¼šè‡ªåŠ¨ç”Ÿæˆè¯ä¹¦å’Œå¯†ç ï¼Œé»˜è®¤CAæ ¹ç›®å½•è¯ä¹¦æœ‰æ•ˆæœŸä¸ºä¸‰å¹´,transportè¯ä¹¦æœ‰æ•ˆæœŸä¸º99å¹´ã€‚</span><br>æ³¨æ„é…ç½®å‰ä¸è¦å¯åŠ¨ESã€‚<br><br></code></pre></td></tr></table></figure><h3 id="å…³é—­HTTPSè®¤è¯ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼‰"><a href="#å…³é—­HTTPSè®¤è¯ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼‰" class="headerlink" title="å…³é—­HTTPSè®¤è¯ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼‰"></a>å…³é—­HTTPSè®¤è¯ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼‰</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">vim</span> <span class="hljs-string">/etc/elasticsearch/elasticsearch.yml</span><br><br><br><span class="hljs-comment"># Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents</span><br><span class="hljs-attr">xpack.security.http.ssl:</span><br>  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span><br><span class="hljs-comment">#  keystore.path: certs/http.p12</span><br><br>  <br><br></code></pre></td></tr></table></figure><blockquote><p> xpack.security.http.ssl æ”¹ä¸ºfalseï¼Œå¹¶æ³¨é‡Šè¯ä¹¦è·¯å¾„ã€‚</p></blockquote><h3 id="é…ç½®é›†ç¾¤ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼Œä½†node-nameå’ŒIPéœ€è¦ä¿®æ”¹ï¼‰"><a href="#é…ç½®é›†ç¾¤ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼Œä½†node-nameå’ŒIPéœ€è¦ä¿®æ”¹ï¼‰" class="headerlink" title="é…ç½®é›†ç¾¤ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼Œä½†node.nameå’ŒIPéœ€è¦ä¿®æ”¹ï¼‰"></a>é…ç½®é›†ç¾¤ï¼ˆæ¯å°èŠ‚ç‚¹é…ç½®ï¼Œä½†node.nameå’ŒIPéœ€è¦ä¿®æ”¹ï¼‰</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs clean">##ES<span class="hljs-number">-01</span>é…ç½®#################################################<br><br>vim /etc/elasticsearch/elasticsearch.yml <br><br>cluster.name: ES-CU1<br>node.name: ES<span class="hljs-number">-01</span><br>http.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.101</span><br>transport.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.101</span><br>network.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.101</span><br>node.roles: [master,data]<br>discovery.seed_hosts: [<span class="hljs-string">&quot;100.64.128.101:9300&quot;</span>,<span class="hljs-string">&quot;100.64.128.102:9300&quot;</span>,<span class="hljs-string">&quot;100.64.128.103:9300&quot;</span>]<br>cluster.initial_master_nodes: [<span class="hljs-string">&quot;ES-01&quot;</span>]<br><br><br>##ES<span class="hljs-number">-02</span>é…ç½®#################################################<br><br>ï»¿<br><br>vim /etc/elasticsearch/elasticsearch.yml <br><br><br>cluster.name: ES-CU1<br>node.name: ES<span class="hljs-number">-02</span><br>http.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.102</span><br>transport.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.102</span><br>network.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.102</span><br>node.roles: [master,data]<br>discovery.seed_hosts: [<span class="hljs-string">&quot;100.64.128.101:9300&quot;</span>,<span class="hljs-string">&quot;100.64.128.102:9300&quot;</span>,<span class="hljs-string">&quot;100.64.128.103:9300&quot;</span>]<br>cluster.initial_master_nodes: [<span class="hljs-string">&quot;ES-01&quot;</span>]<br><br>ï»¿<br><br>##ES<span class="hljs-number">-03</span>é…ç½®#################################################<br><br>vim /etc/elasticsearch/elasticsearch.yml <br><br><br>cluster.name: ES-CU1<br>node.name: ES<span class="hljs-number">-03</span><br>http.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.103</span><br>transport.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.103</span><br>network.host: <span class="hljs-number">100.64</span><span class="hljs-number">.128</span><span class="hljs-number">.103</span><br>node.roles: [master,data]<br>discovery.seed_hosts: [<span class="hljs-string">&quot;100.64.128.101:9300&quot;</span>,<span class="hljs-string">&quot;100.64.128.102:9300&quot;</span>,<span class="hljs-string">&quot;100.64.128.103:9300&quot;</span>]<br>cluster.initial_master_nodes: [<span class="hljs-string">&quot;ES-01&quot;</span>]<br><br><br><br><br># æ³¨æ„é˜²ç«å¢™å¼€æ”¾ç«¯å£ <span class="hljs-number">9200</span> å’Œ <span class="hljs-number">9300</span>ç«¯å£ã€‚<br># æ³¨æ„é»˜è®¤é…ç½®æ–‡ä»¶æœ‰http.host å’Œ cluster.initial_master_nodesé…ç½®ï¼Œæ³¨æ„åˆ é™¤æˆ–ä¿®æ”¹ã€‚<br><br></code></pre></td></tr></table></figure><ul><li>cluster.nameä¸ºé›†ç¾¤åå­—ï¼Œé›†ç¾¤å†…æ‰€æœ‰èŠ‚ç‚¹å¿…é¡»ç»Ÿä¸€ã€‚</li><li>node.nameä¸ºèŠ‚ç‚¹åå­—ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸èƒ½ä¸€æ ·ã€‚</li><li>http.hostã€transport.hostã€network.hosté…ç½®ä¸ºä¸»æœºçš„IPåœ°å€ã€‚</li><li>node.roles: [master,data]ï¼Œä¸ºé…ç½®èŠ‚ç‚¹è§’è‰²ï¼Œç›®å‰ä¸ºä¸»èŠ‚ç‚¹å’Œå­˜å‚¨èŠ‚ç‚¹ã€‚<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html">è¯´æ˜æ–‡æ¡£</a></li><li>discovery.seed_hosts é…ç½®å‘ç°å…¶ä»–èŠ‚ç‚¹ï¼Œä¸€èˆ¬å†™æ‰€æœ‰èŠ‚ç‚¹çš„åœ°å€ï¼Œåé¢åŠ ä¸Šä¼ è¾“èŠ‚ç‚¹çš„ç«¯å£å·ã€‚é»˜è®¤ä¸º9300.</li><li>cluster.initial_master_nodesèŠ‚ç‚¹åˆå§‹åŒ–é»˜è®¤ä¸»èŠ‚ç‚¹é€‰å®šã€‚</li></ul><h3 id="å¯åŠ¨ES-01ï¼ŒéªŒè¯å¹¶é…ç½®å…¶ä»–èŠ‚ç‚¹åŒæ­¥è¯ä¹¦ã€‚"><a href="#å¯åŠ¨ES-01ï¼ŒéªŒè¯å¹¶é…ç½®å…¶ä»–èŠ‚ç‚¹åŒæ­¥è¯ä¹¦ã€‚" class="headerlink" title="å¯åŠ¨ES-01ï¼ŒéªŒè¯å¹¶é…ç½®å…¶ä»–èŠ‚ç‚¹åŒæ­¥è¯ä¹¦ã€‚"></a>å¯åŠ¨ES-01ï¼ŒéªŒè¯å¹¶é…ç½®å…¶ä»–èŠ‚ç‚¹åŒæ­¥è¯ä¹¦ã€‚</h3><h4 id="ES-01-ï¼ˆç¬¬ä¸€ä¸ªå¯åŠ¨ï¼Œå…¶ä»–èŠ‚ç‚¹å…ˆä¸è¦å¯åŠ¨ã€‚ä½¿ç”¨ES-01è‡ªåŠ¨ç”Ÿæˆçš„è¯ä¹¦ï¼‰"><a href="#ES-01-ï¼ˆç¬¬ä¸€ä¸ªå¯åŠ¨ï¼Œå…¶ä»–èŠ‚ç‚¹å…ˆä¸è¦å¯åŠ¨ã€‚ä½¿ç”¨ES-01è‡ªåŠ¨ç”Ÿæˆçš„è¯ä¹¦ï¼‰" class="headerlink" title="ES-01 ï¼ˆç¬¬ä¸€ä¸ªå¯åŠ¨ï¼Œå…¶ä»–èŠ‚ç‚¹å…ˆä¸è¦å¯åŠ¨ã€‚ä½¿ç”¨ES-01è‡ªåŠ¨ç”Ÿæˆçš„è¯ä¹¦ï¼‰"></a>ES-01 ï¼ˆç¬¬ä¸€ä¸ªå¯åŠ¨ï¼Œå…¶ä»–èŠ‚ç‚¹å…ˆä¸è¦å¯åŠ¨ã€‚ä½¿ç”¨ES-01è‡ªåŠ¨ç”Ÿæˆçš„è¯ä¹¦ï¼‰</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs awk">systemctl enable elasticsearch.service <br><br><span class="hljs-comment"># è®¾ç½®å¼€æœºå¯åŠ¨</span><br><br>systemctl restart elasticsearch.service<br><br><span class="hljs-comment"># å¯åŠ¨</span><br><br>curl -q http:<span class="hljs-regexp">//</span><span class="hljs-number">100.64</span>.<span class="hljs-number">128.101</span>:<span class="hljs-number">9200</span><br><br><span class="hljs-comment"># éªŒè¯å¯åŠ¨</span><br><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå®‰è£…ä¹‹åå…¶ä»–èŠ‚ç‚¹ä¸èƒ½å¯åŠ¨ï¼Œè¦ç­‰é…ç½®å¥½é›†ç¾¤é…ç½®å’Œè¯ä¹¦åå¯åŠ¨ã€‚</p><p>å¦‚æœå¯åŠ¨è¿‡äº†ï¼Œå»ºè®®æŒ‰ç…§æ•™ç¨‹æœ€åçš„æ•™ç¨‹æ¸…ç†æŒ‰ç…§ã€‚</p><h4 id="-2"><a href="#-2" class="headerlink" title=""></a></h4><h4 id="ES-02"><a href="#ES-02" class="headerlink" title="ES-02"></a>ES-02</h4><p><a href="https://www.runoob.com/linux/linux-comm-scp.html">SCPæ•™ç¨‹</a></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs awk">scp -r ES-<span class="hljs-number">01</span>:<span class="hljs-regexp">/etc/</span>elasticsearch<span class="hljs-regexp">/certs/</span> <span class="hljs-regexp">/etc/</span>elasticsearch/<br>scp -r ES-<span class="hljs-number">01</span>:<span class="hljs-regexp">/etc/</span>elasticsearch<span class="hljs-regexp">/elasticsearch.keystore /</span>etc<span class="hljs-regexp">/elasticsearch/</span><br><br><span class="hljs-comment"># scpåŒæ­¥è¯ä¹¦æ–‡ä»¶å’Œå¯†é’¥æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ä¸Šä¼ ã€‚</span><br><br><br>systemctl enable elasticsearch.service <br><br><span class="hljs-comment"># è®¾ç½®å¼€æœºå¯åŠ¨</span><br><br>systemctl restart elasticsearch.service<br><br>ï»¿<br><span class="hljs-comment"># å¯åŠ¨</span><br><br>curl -q http:<span class="hljs-regexp">//</span><span class="hljs-number">100.64</span>.<span class="hljs-number">128.102</span>:<span class="hljs-number">9200</span><br><br><span class="hljs-comment"># ç®€å•éªŒè¯å¯åŠ¨ï¼Œå¦‚æœ‰è¿”å›å­—ç¬¦åˆ™å¯åŠ¨ç”Ÿæˆã€‚</span><br><br></code></pre></td></tr></table></figure><h4 id="ES-03"><a href="#ES-03" class="headerlink" title="ES-03"></a>ES-03</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs awk">scp -r ES-<span class="hljs-number">01</span>:<span class="hljs-regexp">/etc/</span>elasticsearch<span class="hljs-regexp">/certs/</span> <span class="hljs-regexp">/etc/</span>elasticsearch/<br><br>scp -r ES-<span class="hljs-number">01</span>:<span class="hljs-regexp">/etc/</span>elasticsearch<span class="hljs-regexp">/elasticsearch.keystore /</span>etc<span class="hljs-regexp">/elasticsearch/</span><br><br><br><span class="hljs-comment"># scpåŒæ­¥è¦†ç›–è¯ä¹¦æ–‡ä»¶å’Œå¯†é’¥æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ä¸Šä¼ ã€‚</span><br><br><br>systemctl enable elasticsearch.service <br><br><br><span class="hljs-comment"># è®¾ç½®å¼€æœºå¯åŠ¨</span><br><br><br>systemctl restart elasticsearch.service<br><br><br><span class="hljs-comment"># å¯åŠ¨</span><br><br><br>curl -q http:<span class="hljs-regexp">//</span><span class="hljs-number">100.64</span>.<span class="hljs-number">128.103</span>:<span class="hljs-number">9200</span><br><br><br><span class="hljs-comment"># ç®€å•éªŒè¯å¯åŠ¨ï¼Œå¦‚æœ‰è¿”å›å­—ç¬¦åˆ™å¯åŠ¨ç”Ÿæˆã€‚</span><br><br></code></pre></td></tr></table></figure><h2 id="é»˜è®¤æ–‡ä»¶ç›®å½•è¯´æ˜"><a href="#é»˜è®¤æ–‡ä»¶ç›®å½•è¯´æ˜" class="headerlink" title="é»˜è®¤æ–‡ä»¶ç›®å½•è¯´æ˜"></a>é»˜è®¤æ–‡ä»¶ç›®å½•è¯´æ˜</h2><h3 id="é…ç½®æ–‡ä»¶ç›®å½•"><a href="#é…ç½®æ–‡ä»¶ç›®å½•" class="headerlink" title="é…ç½®æ–‡ä»¶ç›®å½•"></a>é…ç½®æ–‡ä»¶ç›®å½•</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs awk">tree -L <span class="hljs-number">2</span> <span class="hljs-regexp">/etc/</span>elasticsearch/<br><span class="hljs-regexp">/etc/</span>elasticsearch/<br>â”œâ”€â”€ certs<br>â”‚Â Â  â”œâ”€â”€ http_ca.crt<br>â”‚Â Â  â”œâ”€â”€ http.p12<br>â”‚Â Â  â””â”€â”€ transport.p12<br>â”œâ”€â”€ elasticsearch.keystore<br>â”œâ”€â”€ elasticsearch-plugins.example.yml<br>â”œâ”€â”€ elasticsearch.yml<br>â”œâ”€â”€ jvm.options<br>â”œâ”€â”€ jvm.options.d<br>â”œâ”€â”€ log4j2.properties<br>â”œâ”€â”€ role_mapping.yml<br>â”œâ”€â”€ roles.yml<br>â”œâ”€â”€ users<br>â””â”€â”€ users_roles<br><br><span class="hljs-comment"># certsä¸ºé»˜è®¤ç”Ÿæˆçš„è¯ä¹¦å­˜å‚¨ç›®å½•ï¼Œhttp_ca.crtä¸ºæ ¹è¯ä¹¦ã€http.p12ä¸ºé»˜è®¤9200æ‰€ä½¿ç”¨çš„webæœåŠ¡å™¨è¯ä¹¦ï¼Œtransport.p12ä¸ºä¼ è¾“èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨çš„è¯ä¹¦ã€‚</span><br><br><span class="hljs-comment"># elasticsearch.keystore ä¸ºå­˜å‚¨å¯†ç æ‰€ä½¿ç”¨çš„æ–‡ä»¶ï¼Œå¦‚è¯ä¹¦å¯†ç ï¼ŒLDAPè®¿é—®å¯†ç ã€é‚®ç®±å¯†ç ç­‰ã€‚</span><br><br><span class="hljs-comment"># elasticsearch.yml ä¸ºä¸»é…ç½®æ–‡ä»¶ã€‚</span><br><br><span class="hljs-comment"># jvm.options ä¸ºESçš„JAVAå¯åŠ¨é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹å¯åŠ¨å†…å­˜ç­‰é…ç½®ã€‚</span><br><br></code></pre></td></tr></table></figure><h3 id="ç¨‹åºç›®å½•"><a href="#ç¨‹åºç›®å½•" class="headerlink" title="ç¨‹åºç›®å½•"></a>ç¨‹åºç›®å½•</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs awk">tree -L <span class="hljs-number">1</span> <span class="hljs-regexp">/usr/</span>share/elasticsearch<br><span class="hljs-regexp">/usr/</span>share/elasticsearch<br>â”œâ”€â”€ bin<br>â”œâ”€â”€ jdk<br>â”œâ”€â”€ lib<br>â”œâ”€â”€ LICENSE.txt<br>â”œâ”€â”€ modules<br>â”œâ”€â”€ NOTICE.txt<br>â”œâ”€â”€ plugins<br>â””â”€â”€ README.asciidoc<br><br><span class="hljs-comment"># binå­˜æ”¾äºŒè¿›åˆ¶å¯åŠ¨æ–‡ä»¶çš„ç›®å½•</span><br><span class="hljs-comment"># jdkå­˜æ”¾è‡ªå¸¦JAVAç‰ˆæœ¬çš„ç›®å½•</span><br><br></code></pre></td></tr></table></figure><h3 id="æ—¥å¿—ç›®å½•"><a href="#æ—¥å¿—ç›®å½•" class="headerlink" title="æ—¥å¿—ç›®å½•"></a>æ—¥å¿—ç›®å½•</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">tree -L <span class="hljs-number">1</span> /var/<span class="hljs-keyword">log</span>/elasticsearch/<br>/var/<span class="hljs-keyword">log</span>/elasticsearch/<br>â”œâ”€â”€ elasticsearch_audit.json<br>â”œâ”€â”€ elasticsearch_deprecation.json<br>â”œâ”€â”€ elasticsearch_index_indexing_slowlog.json<br>â”œâ”€â”€ elasticsearch_index_search_slowlog.json<br>â”œâ”€â”€ elasticsearch.<span class="hljs-keyword">log</span><br>â”œâ”€â”€ elasticsearch_server.json<br>â”œâ”€â”€ ES-CU1_audit.json<br>â”œâ”€â”€ ES-CU1_deprecation.json<br>â”œâ”€â”€ ES-CU1_index_indexing_slowlog.json<br>â”œâ”€â”€ ES-CU1_index_search_slowlog.json<br>â”œâ”€â”€ ES-CU1.<span class="hljs-keyword">log</span><br>â”œâ”€â”€ ES-CU1_server.json<br>â”œâ”€â”€ gc.<span class="hljs-keyword">log</span><br>â”œâ”€â”€ gc.<span class="hljs-keyword">log</span><span class="hljs-number">.00</span><br><br># å¯ç”¨äºæ’é”™<br><br></code></pre></td></tr></table></figure><h3 id="æ•°æ®å­˜å‚¨ç›®å½•"><a href="#æ•°æ®å­˜å‚¨ç›®å½•" class="headerlink" title="æ•°æ®å­˜å‚¨ç›®å½•"></a>æ•°æ®å­˜å‚¨ç›®å½•</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk">tree -L <span class="hljs-number">1</span> <span class="hljs-regexp">/var/</span>lib<span class="hljs-regexp">/elasticsearch/</span><br><span class="hljs-regexp">/var/</span>lib<span class="hljs-regexp">/elasticsearch/</span><br>â”œâ”€â”€ indices<br>â”œâ”€â”€ node.lock<br>â”œâ”€â”€ nodes<br>â”œâ”€â”€ snapshot_cache<br>â””â”€â”€ _state<br><br><span class="hljs-comment"># å­˜æ”¾æ•°æ®</span><br><br></code></pre></td></tr></table></figure><h2 id="é‡ç½®ç®¡ç†å‘˜å¯†ç å’ŒéªŒè¯é›†ç¾¤æ•°é‡"><a href="#é‡ç½®ç®¡ç†å‘˜å¯†ç å’ŒéªŒè¯é›†ç¾¤æ•°é‡" class="headerlink" title="é‡ç½®ç®¡ç†å‘˜å¯†ç å’ŒéªŒè¯é›†ç¾¤æ•°é‡"></a>é‡ç½®ç®¡ç†å‘˜å¯†ç å’ŒéªŒè¯é›†ç¾¤æ•°é‡</h2><h4 id="é‡ç½®å¯†ç "><a href="#é‡ç½®å¯†ç " class="headerlink" title="é‡ç½®å¯†ç "></a>é‡ç½®å¯†ç </h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs awk">usr<span class="hljs-regexp">/share/</span>elasticsearch<span class="hljs-regexp">/bin/</span>elasticsearch-reset-password -u elastic<br><br><span class="hljs-comment"># é‡ç½®æœ€é«˜ç®¡ç†å‘˜elasticå¯†ç ï¼Œå…¨èŠ‚ç‚¹åŒæ­¥</span><br><br><span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/elasticsearch/</span>bin/elasticsearch-reset-password -u kibana_system<br><br><span class="hljs-comment"># é‡ç½® kibana_systemå¯†ç ï¼Œå…¨èŠ‚ç‚¹åŒæ­¥ï¼Œä¸‹é¢æ¥å…¥kibanaä½¿ç”¨ã€‚</span><br><br><br><br>curl -k -u elastic http:<span class="hljs-regexp">//</span><span class="hljs-number">100.64</span>.<span class="hljs-number">128.101</span>:<span class="hljs-number">9200</span><br>Enter host password <span class="hljs-keyword">for</span> user <span class="hljs-string">&#x27;elastic&#x27;</span>:<br>&#123;<br>  <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;ES-01&quot;</span>,<br>  <span class="hljs-string">&quot;cluster_name&quot;</span> : <span class="hljs-string">&quot;ES-CU1&quot;</span>,<br>  <span class="hljs-string">&quot;cluster_uuid&quot;</span> : <span class="hljs-string">&quot;UNCqtG1YTeuHSNgDHOHkIw&quot;</span>,<br>  <span class="hljs-string">&quot;version&quot;</span> : &#123;<br>    <span class="hljs-string">&quot;number&quot;</span> : <span class="hljs-string">&quot;8.7.0&quot;</span>,<br>    <span class="hljs-string">&quot;build_flavor&quot;</span> : <span class="hljs-string">&quot;default&quot;</span>,<br>    <span class="hljs-string">&quot;build_type&quot;</span> : <span class="hljs-string">&quot;rpm&quot;</span>,<br>    <span class="hljs-string">&quot;build_hash&quot;</span> : <span class="hljs-string">&quot;09520b59b6bc1057340b55750186466ea715e30e&quot;</span>,<br>    <span class="hljs-string">&quot;build_date&quot;</span> : <span class="hljs-string">&quot;2023-03-27T16:31:09.816451435Z&quot;</span>,<br>    <span class="hljs-string">&quot;build_snapshot&quot;</span> : false,<br>    <span class="hljs-string">&quot;lucene_version&quot;</span> : <span class="hljs-string">&quot;9.5.0&quot;</span>,<br>    <span class="hljs-string">&quot;minimum_wire_compatibility_version&quot;</span> : <span class="hljs-string">&quot;7.17.0&quot;</span>,<br>    <span class="hljs-string">&quot;minimum_index_compatibility_version&quot;</span> : <span class="hljs-string">&quot;7.0.0&quot;</span><br>  &#125;,<br>  <span class="hljs-string">&quot;tagline&quot;</span> : <span class="hljs-string">&quot;You Know, for Search&quot;</span><br>&#125;<br><br><span class="hljs-comment"># ä½¿ç”¨ä¸Šé¢é‡ç½®çš„å¯†ç ï¼ŒæŸ¥çœ‹ESæ˜¯å¦å¯ç”¨ã€‚</span><br><br>curl -k -u elastic http:<span class="hljs-regexp">//</span><span class="hljs-number">100.64</span>.<span class="hljs-number">128.101</span>:<span class="hljs-number">9200</span><span class="hljs-regexp">/_cat/</span>nodes?v<br>Enter host password <span class="hljs-keyword">for</span> user <span class="hljs-string">&#x27;elastic&#x27;</span>:<br>ip             heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name<br><span class="hljs-number">100.64</span>.<span class="hljs-number">128.102</span>            <span class="hljs-number">5</span>          <span class="hljs-number">92</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.01</span>    <span class="hljs-number">0.03</span>     <span class="hljs-number">0.00</span> dm        -      ES-<span class="hljs-number">02</span><br><span class="hljs-number">100.64</span>.<span class="hljs-number">128.101</span>           <span class="hljs-number">18</span>          <span class="hljs-number">93</span>   <span class="hljs-number">5</span>    <span class="hljs-number">0.20</span>    <span class="hljs-number">0.35</span>     <span class="hljs-number">0.17</span> dm        *      ES-<span class="hljs-number">01</span><br><span class="hljs-number">100.64</span>.<span class="hljs-number">128.103</span>           <span class="hljs-number">17</span>          <span class="hljs-number">89</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.02</span>    <span class="hljs-number">0.05</span>     <span class="hljs-number">0.02</span> dm        -      ES-<span class="hljs-number">03</span><br><br><br><span class="hljs-comment"># ä½¿ç”¨ä¸Šé¢é‡ç½®çš„å¯†ç ï¼Œå¯ä»¥æŸ¥çœ‹æ‰€æœ‰åœ¨çº¿çš„é›†ç¾¤ã€‚</span><br><br></code></pre></td></tr></table></figure><h1 id="é…ç½®Kibanaæ¥å…¥é›†ç¾¤"><a href="#é…ç½®Kibanaæ¥å…¥é›†ç¾¤" class="headerlink" title="é…ç½®Kibanaæ¥å…¥é›†ç¾¤"></a>é…ç½®Kibanaæ¥å…¥é›†ç¾¤</h1><p>Kibana æ•°æ®åŸºæœ¬éƒ½å­˜å‚¨åœ¨ESæ•°æ®åº“ï¼Œä¸”ä¸ºdataè§’è‰²çš„ã€‚</p><h2 id="é»˜è®¤é…ç½®"><a href="#é»˜è®¤é…ç½®" class="headerlink" title="é»˜è®¤é…ç½®"></a>é»˜è®¤é…ç½®</h2><p>é»˜è®¤ä¸º 5601 ç«¯å£ï¼Œé»˜è®¤ç»‘å®šä¸º127.0.0.1 åœ°å€ã€‚ä½¿ç”¨HTTPåè®®ã€‚</p><p>å¯ä»¥ä¿®æ”¹kibana.yml æ–‡ä»¶ä¿®æ”¹ç»‘å®šåœ°å€ï¼Œæˆ–è€…ä½¿ç”¨Nginxåå‘ä»£ç†ã€‚</p><h2 id="ä¿®æ”¹è¯­è¨€å’Œç›‘å¬IP"><a href="#ä¿®æ”¹è¯­è¨€å’Œç›‘å¬IP" class="headerlink" title="ä¿®æ”¹è¯­è¨€å’Œç›‘å¬IP"></a>ä¿®æ”¹è¯­è¨€å’Œç›‘å¬IP</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">vim</span> <span class="hljs-string">/etc/kibana/kibana.yml</span>  <br><br><span class="hljs-attr">i18n.locale:</span> <span class="hljs-string">&quot;zh-CN&quot;</span><br><br><span class="hljs-attr">server.host:</span> <span class="hljs-string">&quot;0.0.0.0&quot;</span><br><br><span class="hljs-comment"># é…ç½®è¯­è¨€å’Œç›‘å¬IPã€‚</span><br><br><span class="hljs-string">systemctl</span> <span class="hljs-string">enable</span> <span class="hljs-string">--now</span> <span class="hljs-string">kibana.service</span><br><br><span class="hljs-comment"># é…ç½®å¼€æœºå¯åŠ¨å’Œå¯åŠ¨ã€‚</span><br><br></code></pre></td></tr></table></figure><h2 id="åŸºæœ¬è®¤è¯é…ç½®"><a href="#åŸºæœ¬è®¤è¯é…ç½®" class="headerlink" title="åŸºæœ¬è®¤è¯é…ç½®"></a>åŸºæœ¬è®¤è¯é…ç½®</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">vim</span> <span class="hljs-string">/etc/kibana/kibana.yml</span> <br><br><br><span class="hljs-comment"># =================== System: Elasticsearch ===================</span><br><br><br><span class="hljs-attr">elasticsearch.hosts:</span> [<span class="hljs-string">&quot;http://100.64.128.101:9200&quot;</span>,<span class="hljs-string">&quot;http://100.64.128.102:9200&quot;</span>,<span class="hljs-string">&quot;http://100.64.128.103:9200&quot;</span>]<br><br><br><span class="hljs-attr">elasticsearch.username:</span> <span class="hljs-string">&quot;kibana_system&quot;</span><br><span class="hljs-attr">elasticsearch.password:</span> <span class="hljs-string">&quot;EVecudsC4vvlcR6QT4mR&quot;</span><br><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶ï¼Œé…ç½®ESæ‰€æœ‰è®¿é—®åœ°å€ï¼Œé…ç½®ç³»ç»Ÿé»˜è®¤è´¦å·kibana_systemçš„å¯†ç ï¼Œå¡«å…¥é…ç½®æ–‡ä»¶ã€‚ï¼ˆå¿…é¡»ä¸ºæ­¤è´¦å·ï¼‰</p><p>ä½¿ç”¨<code>systemctl restart kibana.service</code>é‡å¯æœåŠ¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><h1 id="åœ¨Kibanaä¸ŠæŸ¥çœ‹å’Œç›‘æµ‹ESé›†ç¾¤"><a href="#åœ¨Kibanaä¸ŠæŸ¥çœ‹å’Œç›‘æµ‹ESé›†ç¾¤" class="headerlink" title="åœ¨Kibanaä¸ŠæŸ¥çœ‹å’Œç›‘æµ‹ESé›†ç¾¤"></a>åœ¨Kibanaä¸ŠæŸ¥çœ‹å’Œç›‘æµ‹ESé›†ç¾¤</h1><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>kibana/kibana.yml <br><br>monitoring.ui.ccs.enabled: false<br><br><span class="hljs-comment"># æ·»åŠ é…ç½®æ–‡ä»¶ï¼Œé‡å¯ç”Ÿæ•ˆã€‚</span><br><br><span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/elasticsearch/</span>bin/elasticsearch-reset-password -u beats_system<br><br><span class="hljs-comment"># é‡ç½®è‡ªå¸¦çš„beats_systemçš„å¯†ç ï¼Œåœ¨ä¸‹é¢ä½¿ç”¨ã€‚</span><br><br>dnf install metricbeat -y<br><br>systemctl enable --now metricbeat.service<br><br>metricbeat modules enable elasticsearch-xpack<br><br><span class="hljs-comment"># å®‰è£…metricbeatå¹¶å¯ç”¨ç›‘æ§ESæ¨¡å—ã€‚</span><br><br><br>vim <span class="hljs-regexp">/etc/m</span>etricbeat/metricbeat.yml <br><br>output.elasticsearch:<br>  hosts: [<span class="hljs-string">&quot;http://100.64.128.101:9200&quot;</span>,<span class="hljs-string">&quot;http://100.64.128.102:9200&quot;</span>,<span class="hljs-string">&quot;http://100.64.128.103:9200&quot;</span>]<br>  username: <span class="hljs-string">&quot;beats_system&quot;</span><br>  password: <span class="hljs-string">&quot;1@PASSWORD&quot;</span><br>  <br><span class="hljs-comment"># é…ç½®é›†ç¾¤åœ°å€ï¼Œè´¦å·å¯†ç ï¼Œæ¥å…¥ESã€‚</span><br>  <br><br>systemctl restart metricbeat.service <br><br></code></pre></td></tr></table></figure><p>è®¿é—® <code>http://100.64.128.101:5601/app/monitoring</code>è·¯å¾„</p><p>å³å¯æŸ¥çœ‹ç›‘æ§ï¼Œä½¿ç”¨elasticè´¦å·ç™»å½•ã€‚</p><h1 id="å½»åº•æ¸…ç†å¸è½½ES"><a href="#å½»åº•æ¸…ç†å¸è½½ES" class="headerlink" title="å½»åº•æ¸…ç†å¸è½½ES"></a>å½»åº•æ¸…ç†å¸è½½ES</h1><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs awk">systemctl stop elasticsearch<br><br><span class="hljs-comment"># åœæ­¢æœåŠ¡</span><br><br>dnf remove elasticsearch -y<br><br><span class="hljs-comment"># ä½¿ç”¨dnfåŒ…ç®¡ç†å™¨åˆ é™¤</span><br><br>rm -rf <span class="hljs-regexp">/var/</span>lib/elasticsearch<br><br><span class="hljs-comment"># æ¸…ç†é»˜è®¤æ•°æ®å­˜å‚¨æ–‡ä»¶</span><br><br>rm -rf <span class="hljs-regexp">/etc/</span>elasticsearch<br><br><span class="hljs-comment"># æ¸…ç†é…ç½®æ–‡ä»¶åŠé»˜è®¤è¯ä¹¦å’Œå¯†é’¥å­˜å‚¨</span><br><br>rm -rf <span class="hljs-regexp">/usr/</span>share/elasticsearch<br><br><span class="hljs-comment"># æ¸…ç†ç¨‹åºæ‰€åœ¨ç›®å½•</span><br><br>rm -rf <span class="hljs-regexp">/var/</span>log/elasticsearch<br><br><span class="hljs-comment"># æ¸…ç†æ—¥å¿—å­˜å‚¨</span><br><br></code></pre></td></tr></table></figure><h1 id="ç›¸å…³æ•™ç¨‹"><a href="#ç›¸å…³æ•™ç¨‹" class="headerlink" title="ç›¸å…³æ•™ç¨‹"></a>ç›¸å…³æ•™ç¨‹</h1><p><a href="https://songxwn.com/elk/">å•æœºéƒ¨ç½²ELKï¼Œæ¥æ”¶syslogræ—¥å¿—</a></p><p><a href="https://songxwn.com/frostmourne_install/">æ¥å…¥ESåšæ—¥å¿—å‘Šè­¦ç³»ç»Ÿ</a></p><p><a href="https://songxwn.com/elk_snmp_trap/">é…ç½®æ¥æ”¶SNMP-Trapæ—¥å¿—</a></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://qiita.com/mingchun_zhao/items/b229addd5697ad571d94">https://qiita.com/mingchun_zhao/items/b229addd5697ad571d94</a> </p><p><a href="https://www.zsjweblog.com/2022/03/09/elasticsearch8-1-0%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">https://www.zsjweblog.com/2022/03/09/elasticsearch8-1-0%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</a> </p><p><a href="https://blog.51cto.com/feirenraoyuan/5716392">https://blog.51cto.com/feirenraoyuan/5716392</a> </p><p><a href="http://dbaselife.com/doc/831/">http://dbaselife.com/doc/831/</a> </p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Elasticsearch-x-pack-core/">Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</a></li><li><a href="https://songxwn.com/Linux-growpart/">Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</a></li><li><a href="https://songxwn.com/elk_snmp_trap/">ELK-Logstashé…ç½®SNMP-Trap</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>elasticsearch</tag>
      
      <tag>cluster</tag>
      
      <tag>ha</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ELK Logstashé…ç½®SNMP-Trap</title>
    <link href="/elk_snmp_trap/"/>
    <url>/elk_snmp_trap/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ¬æ–‡ç« é€‚ç”¨äºELKçš„logstash é…ç½®SNMP Trapæ’ä»¶,æ¥æ”¶å‘Šè­¦é€šçŸ¥ã€‚<br>é»˜è®¤æƒ…å†µä¸‹æ˜¯å®‰è£…æ­¤æ’ä»¶çš„ï¼Œå¦‚æ²¡æœ‰å¯æ‰‹åŠ¨å®‰è£…ã€‚</p><p>ä¸€èˆ¬ç”¨äºç½‘ç»œè®¾å¤‡ã€‚</p><p>æ³¨æ„æ­¤æ’ä»¶ä¸æ”¯æŒv3ç‰ˆæœ¬ã€‚</p><p>ELKç³»åˆ—æ•™ç¨‹ï¼š<a href="https://songxwn.com/categories/linux/ELK/">https://songxwn.com/categories/linux/ELK/</a></p><p>å‚è€ƒï¼š<a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-snmptrap.html">https://www.elastic.co/guide/en/logstash/current/plugins-inputs-snmptrap.html</a> </p><span id="more"></span><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs puppet">vim /etc/logstash/conf.d/trap.conf<br><br><span class="hljs-keyword">input</span> &#123;<br>  snmptrap &#123;<br>    <span class="hljs-attr">type</span> =&gt; <span class="hljs-string">&quot;snmp-trap&quot;</span><br><span class="hljs-attr">community</span> =&gt;<span class="hljs-string">&quot;public&quot;</span><br>    <span class="hljs-attr">port</span> =&gt; <span class="hljs-number">162</span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">output</span> &#123;<br>  elasticsearch &#123;<br>    <span class="hljs-attr">hosts</span> =&gt; [<span class="hljs-string">&quot;http://192.168.0.1:9200&quot;</span>]<br>    <span class="hljs-attr">index</span> =&gt; <span class="hljs-string">&quot;snmp-trap-v2-%&#123;+YYYY.MM&#125;&quot;</span><br><span class="hljs-attr">user</span> =&gt; elastic<br>    <span class="hljs-attr">password</span> =&gt; <span class="hljs-string">&quot;songxwn.com&quot;</span><br>  &#125;<br>&#125;<br><br><br><span class="hljs-comment"># ä»¥ä¸Šç¤ºä¾‹æ–‡ä»¶ä¸­ï¼Œå›¢ä½“åå­—ä¸ºpublicï¼Œé…ç½®ç«¯å£ä¸ºé»˜è®¤çš„162ã€‚</span><br><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœè¦éœ€è¦è§£æOIDï¼Œéœ€è¦æŒ‡å®šmibåº“yamlæ ¼å¼çš„ç›®å½•ã€‚</p><p>ELKå®‰è£…å¯å‚è€ƒï¼š <a href="https://songxwn.com/elk/">https://songxwn.com/elk/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/ELK-logstash-hostname/">ELK Logstashè§£æç³»ç»Ÿæ—¥å¿—é”™è¯¯</a></li><li><a href="https://songxwn.com/ELK-AD-LDAP-Authentication/">Elasticsearch æ¥å…¥å¾®è½¯Active Directoryè®¤è¯</a></li><li><a href="https://songxwn.com/podman/">Podman å®¹å™¨ç®¡ç†å·¥å…·</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>snmp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éƒ¨ç½²å›¢é˜ŸæœåŠ¡å¯¼èˆªç½‘ç«™ Team-nav</title>
    <link href="/team_nav/"/>
    <url>/team_nav/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å‰åç«¯å®Œæ•´çš„ç½‘å€å¯¼èˆªæœåŠ¡ï¼Œå¯ä»¥ç”¨äºå…¬å¸å†…éƒ¨å†…ç½‘ä½¿ç”¨ï¼Œæä¾›å¤šç§çš„å¡ç‰‡å›¾æ ‡ç”Ÿæˆæ–¹å¼ï¼Œèƒ½å°†ä¸Šä¼ çš„åŸå‹å‹ç¼©åŒ…è‡ªåŠ¨ç”Ÿæˆå¯è®¿é—®çš„åœ°å€ï¼Œæ”¯æŒç§å¯†å¡ç‰‡ï¼Œå‘å¸ƒå€’è®¡æ—¶ç­‰åŠŸèƒ½ã€‚</p><p>ç”¨äºåœ¨å…¬å¸å†…ç½‘éƒ¨ç½²ä½¿ç”¨ï¼Œå¯åœ¨çº¿ä¿®æ”¹ä¸Šä¼ ã€å¯æ‹–æ‹½æ’åºç­‰ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/tuituidan/team-nav">https://github.com/tuituidan/team-nav</a> </p><p>è¦æ±‚Javaç‰ˆæœ¬ä¸º 1.8.0</p><span id="more"></span><h2 id="åŠŸèƒ½ä»‹ç»"><a href="#åŠŸèƒ½ä»‹ç»" class="headerlink" title="åŠŸèƒ½ä»‹ç»"></a>åŠŸèƒ½ä»‹ç»</h2><ul><li>ç½‘å€å¯¼èˆªå‰ç«¯å±•ç¤º+æœç´¢åŠŸèƒ½ï¼Œ<a href="#%E9%A6%96%E9%A1%B5%E5%9B%BE">é¦–é¡µå›¾</a>ã€‚</li><li>ç½‘å€å¯¼èˆªåå°åŸºæœ¬åŠŸèƒ½ï¼šåˆ†ç±»å’Œå¡ç‰‡çš„å¢åˆ æ”¹æŸ¥ï¼Œ<a href="#%E5%90%8E%E5%8F%B0-%E5%88%86%E7%B1%BB%E7%AE%A1%E7%90%86%E5%9B%BE">åå°-åˆ†ç±»ç®¡ç†å›¾</a>  <a href="#%E5%90%8E%E5%8F%B0-%E5%8D%A1%E7%89%87%E5%88%97%E8%A1%A8%E5%9B%BE">åå°-å¡ç‰‡åˆ—è¡¨å›¾</a>  <a href="#%E5%90%8E%E5%8F%B0-%E5%8D%A1%E7%89%87%E7%BC%96%E8%BE%91%E5%9B%BE">åå°-å¡ç‰‡ç¼–è¾‘å›¾</a>ã€‚</li><li>åˆ†ç±»å’Œå¡ç‰‡æ”¯æŒæ‹–æ‹½è°ƒæ•´é¡ºåºï¼Œä¸ç”¨ä¸“é—¨ç»´æŠ¤æ’åºå­—æ®µã€‚</li><li>æ”¯æŒæ·»åŠ ç§˜å¯†å¡ç‰‡åˆ†ç±»ï¼Œè¯¥åˆ†ç±»ä¸‹çš„å¡ç‰‡éœ€è¦ç™»å½•æ‰èƒ½çœ‹è§ï¼Œä¸å¼€å¯ç™»å½•åŠŸèƒ½åˆ™é»˜è®¤ä¸æ˜¾ç¤ºã€‚</li><li>æš‚æ—¶ä¸éœ€è¦çš„åˆ†ç±»æ”¯æŒç§»é™¤åŠŸèƒ½ï¼Œç§»é™¤ååˆ†ç±»åˆ—è¡¨é¡µé¢ä¸å¯è§ï¼Œå¯ä»å†å²åˆ†ç±»ä¸­è¿˜åŸå›æ¥ï¼Œ<a href="#%E5%90%8E%E5%8F%B0-%E5%8E%86%E5%8F%B2%E5%88%86%E7%B1%BB%E5%9B%BE">åå°-å†å²åˆ†ç±»å›¾</a>ã€‚</li><li>å¡ç‰‡å›¾æ ‡æ”¯æŒå››ç§æ–¹å¼<ul><li>æ–‡æœ¬å›¾æ ‡ï¼Œè¾“å…¥å°‘é‡æ–‡å­—ä½œä¸ºå›¾æ ‡ï¼Œå¹¶å¯ä»¥ä¸ºå…¶é€‰æ‹©èƒŒæ™¯è‰²ã€‚ <a href="#%E5%90%8E%E5%8F%B0-%E5%8D%A1%E7%89%87%E7%BC%96%E8%BE%91%E5%9B%BE">åå°-å¡ç‰‡ç¼–è¾‘å›¾</a></li><li>æ ¹æ®å¡«å†™çš„é“¾æ¥è‡ªåŠ¨è·å–è¯¥é“¾æ¥çš„è·å–<code>favicon.ico</code>å›¾æ ‡ã€‚</li><li>æ‰‹åŠ¨ä¸Šä¼ å›¾ç‰‡ä½œä¸ºå›¾æ ‡ã€‚</li><li>å¯é…ç½®é»˜è®¤å¸¸ç”¨çš„ä¸€äº›å›¾æ ‡ï¼Œç›´æ¥é€‰æ‹©ï¼ˆæœç´¢æŒ‰å›¾æ ‡æ–‡ä»¶åæœç´¢ï¼‰ï¼Œ<a href="#%E5%8D%A1%E7%89%87%E5%9B%BE%E6%A0%87%E9%80%89%E6%8B%A9%E5%9B%BE">å¡ç‰‡å›¾æ ‡é€‰æ‹©å›¾</a>ã€‚</li></ul></li><li>ä¸‰ç§å¡ç‰‡ç±»å‹è¯´æ˜<ul><li>æ™®é€šç±»å‹ï¼šæ ‡é¢˜ï¼Œå†…å®¹ï¼Œå›¾æ ‡ä¸ºå¿…å¡«ï¼Œé“¾æ¥éå¿…å¡«ï¼Œæ²¡æœ‰é“¾æ¥åªæ˜¯ä½œä¸ºå°‘é‡ä¿¡æ¯å±•ç¤ºï¼Œç‚¹å‡»å¡ç‰‡ä¸ä¼šè·³è½¬é¡µé¢ã€‚</li><li>åŸå‹ç±»å‹ï¼šæ ‡é¢˜ï¼Œå†…å®¹ï¼Œå›¾æ ‡ï¼ŒåŸå‹æ–‡ä»¶ä¸ºå¿…å¡«ï¼ŒåŸå‹æ–‡ä»¶ä¸Šä¼ åä¼šè‡ªåŠ¨ç”ŸæˆåŸå‹å±•ç¤ºçš„é“¾æ¥ï¼Œç‚¹å‡»å¡ç‰‡å¯è·³è½¬åˆ°è¯¥åœ°å€ã€‚</li><li>äºŒç»´ç ç±»å‹ï¼šæ ‡é¢˜ï¼Œå†…å®¹ï¼Œå›¾æ ‡ï¼Œé“¾æ¥å‡ä¸ºå¿…å¡«ï¼Œé¼ æ ‡æ»‘åˆ°å¡ç‰‡ä¸Šä¼šæ˜¾ç¤ºé“¾æ¥çš„äºŒç»´ç ï¼Œå¯ç”¨æ‰‹æœºè¿›è¡Œæ‰«æï¼Œæ–¹ä¾¿è¿›è¡Œç§»åŠ¨ç«¯ç½‘å€æ˜¾ç¤ºï¼Œ<a href="#%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%B1%95%E7%A4%BA%E5%9B%BE">äºŒç»´ç å±•ç¤ºå›¾</a>ã€‚</li></ul></li><li>åŸå‹å¯é€šè¿‡é…ç½®Nginxè®¿é—®ï¼Œ<a href="#%E5%90%8E%E5%8F%B0-%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E5%9B%BE">åå°-ç³»ç»Ÿè®¾ç½®å›¾</a>ã€‚</li><li>å‘å¸ƒå€’è®¡æ—¶åŠŸèƒ½ï¼Œåœ¨é¦–é¡µå¯¹é¡¹ç›®å‘å¸ƒæˆªæ­¢æ—¶é—´è¿›è¡Œæé†’ï¼Œåœ¨ç³»ç»Ÿè®¾ç½®ä¸­è¿›è¡Œå¼€å¯å’Œå…³é—­ï¼ŒåŒæ—¶æœ‰å¤šä¸ªè¿›è¡Œä¸­çš„å‘å¸ƒæ•°æ®æ—¶ï¼Œä¼šå®šæ—¶åˆ‡æ¢ï¼Œåˆ‡æ¢æ—¶é—´ä¹Ÿåœ¨ç³»ç»Ÿè®¾ç½®ä¸­è®¾ç½®ã€‚ <a href="#%E9%A6%96%E9%A1%B5-%E5%8F%91%E5%B8%83%E5%80%92%E8%AE%A1%E6%97%B6">é¦–é¡µ-å‘å¸ƒå€’è®¡æ—¶</a>  <a href="#%E5%90%8E%E5%8F%B0-%E5%8F%91%E5%B8%83%E5%80%92%E8%AE%A1%E6%97%B6">åå°-å‘å¸ƒå€’è®¡æ—¶</a></li></ul><h2 id="1-1-0-æ›´æ–°ï¼š"><a href="#1-1-0-æ›´æ–°ï¼š" class="headerlink" title="1.1.0 æ›´æ–°ï¼š"></a>1.1.0 æ›´æ–°ï¼š</h2><ul><li>ä¿®å¤æ·»åŠ å€’è®¡æ—¶ç»“æŸæ—¶é—´æŠ¥é”™bug</li><li>æ–°å¢å¸ƒå±€å¤§å°åˆ‡æ¢åŠŸèƒ½</li><li>æ”¯æŒç½‘ç«™LOGOåœ¨è®¾ç½®ä¸­ä¿®æ”¹</li></ul><h2 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h2><p><img src="https://s3.bmp.ovh/imgs/2023/04/18/63fe59352063dd32.png" srcset="/img/loading.gif" lazyload></p><h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><h2 id="ZIPåŒ…éƒ¨ç½²"><a href="#ZIPåŒ…éƒ¨ç½²" class="headerlink" title="ZIPåŒ…éƒ¨ç½²"></a>ZIPåŒ…éƒ¨ç½²</h2><p>ç³»ç»Ÿï¼šRocky Linux 8 (å…³é—­SE Linux å…³é—­é˜²ç«å¢™)</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs awk">dnf install vim wget java-<span class="hljs-number">1.8</span>.<span class="hljs-number">0</span>-openjdk  -y<br><br><span class="hljs-comment"># å®‰è£…JDK 8</span><br><br>cd <span class="hljs-regexp">/opt/</span><br><br>wget https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/tuituidan/</span>team-nav<span class="hljs-regexp">/releases/</span>download<span class="hljs-regexp">/v1.1.0/</span>team-nav.tar.gz<br><br><span class="hljs-comment"># ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ï¼Œä¸Šä¼ åˆ°optç›®å½•ä¸‹ã€‚ï¼ˆhttps://github.com/tuituidan/team-nav/releasesï¼‰</span><br><br>tar -zxvf team-nav.tar.gz <br><br><span class="hljs-comment"># è§£å‹</span><br><br>tree /opt<br>.<br>â”œâ”€â”€ team-nav<br>â”‚Â Â  â”œâ”€â”€ bin<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ restart.sh<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ start.sh<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ status.sh<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ stop.sh<br>â”‚Â Â  â”œâ”€â”€ config<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ application.yml<br>â”‚Â Â  â”œâ”€â”€ docs<br>â”‚Â Â  â”œâ”€â”€ logs<br>â”‚Â Â  â”œâ”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ readme.txt<br>â”‚Â Â  â””â”€â”€ team-nav.jar<br>â””â”€â”€ team-nav.tar.gz<br><br><span class="hljs-comment"># ç›®å½•ç»“æ„å¦‚ä¸Š</span><br><br>chmod +x <span class="hljs-regexp">/opt/</span>team-nav<span class="hljs-regexp">/bin/</span>* <br><br><span class="hljs-comment"># ç»™äºˆè„šæœ¬æƒé™</span><br><br><span class="hljs-regexp">/opt/</span>team-nav<span class="hljs-regexp">/bin/</span>start.sh<br><br><span class="hljs-comment"># å¯åŠ¨</span><br><br><span class="hljs-regexp">/opt/</span>team-nav<span class="hljs-regexp">/bin/</span>status.sh <br>team-nav æœåŠ¡æ­£åœ¨è¿è¡Œä¸­ (PID: <span class="hljs-number">9527</span>). [is running ...]<br><br><span class="hljs-comment"># æŸ¥çœ‹æ˜¯å¦è¿è¡Œ</span><br><br><span class="hljs-regexp">/opt/</span>team-nav<span class="hljs-regexp">/bin/</span>stop.sh<br><br><span class="hljs-comment"># åœæ­¢è¿è¡Œ</span><br><br></code></pre></td></tr></table></figure><blockquote><p>é»˜è®¤ç«¯å£ä¸º8080ï¼Œé€šè¿‡8080ç«¯å£è®¿é—®æœåŠ¡ï¼Œä¿®æ”¹ç«¯å£å¯ä»¥è¿›å…¥&#x2F;opt&#x2F;team-nav&#x2F;config&#x2F;application.ymlé…ç½®ã€‚</p></blockquote><h2 id="Dockeréƒ¨ç½²"><a href="#Dockeréƒ¨ç½²" class="headerlink" title="Dockeréƒ¨ç½²"></a>Dockeréƒ¨ç½²</h2><p>Docker å®‰è£…å‚è€ƒï¼š<a href="https://yeasy.gitbook.io/docker_practice/install/centos">https://yeasy.gitbook.io/docker_practice/install/centos</a> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p /opt/team-nav/logs<br>mkdir /opt/team-nav/database<br>mkdir /opt/team-nav/ext-resources<br>mkdir /opt/team-nav/config<br><br></code></pre></td></tr></table></figure><blockquote><p>åˆ›å»ºæ—¥å¿—ã€æ•°æ®åº“ã€å›¾ç‰‡ã€é…ç½®æ–‡ä»¶å¤¹ã€‚</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -d -p 8080:8080 \<br> -v /opt/team-nav/logs:/logs \<br> -v /opt/team-nav/database:/database \<br> -v /opt/team-nav/ext-resources:/ext-resources \<br> -v /opt/team-nav/config:/config \<br> -e nav-name=&quot;å›¢é˜Ÿå†…éƒ¨å¯¼èˆªæœåŠ¡&quot; \<br> --restart always \<br> --name team-nav \<br>registry.cn-chengdu.aliyuncs.com/tuituidan/team-nav:1.1.0<br><br></code></pre></td></tr></table></figure><blockquote><p>æ˜ å°„å®¹å™¨8080ç«¯å£åˆ°å®¿ä¸»æœº8080ç«¯å£ï¼Œé€šè¿‡è®¿é—®ä¸»æœº http:&#x2F;&#x2F;127.0.0.1:8080 ã€‚</p><p>æ˜ å°„ä¸Šè¿°æ­¥éª¤åˆ›å»ºçš„æ–‡ä»¶å¤¹</p><p>é…ç½®ç½‘ç«™åå­—</p><p>é…ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨</p><p>é…ç½®å®¹å™¨åå­—</p></blockquote><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="ç®¡ç†"><a href="#ç®¡ç†" class="headerlink" title="ç®¡ç†"></a>ç®¡ç†</h1><h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><p>è·¯å¾„ï¼š<a href="http://127.0.0.1:8080/login">http://127.0.0.1:8080/login</a> </p><p>é»˜è®¤è´¦å·ï¼šadmin</p><p>é»˜è®¤å¯†ç ï¼š123456</p><h2 id="å…è®¸ä¿®æ”¹å¯†ç -dockeré•œåƒæ˜¯æ— æ­¤æ–‡ä»¶çš„ï¼Œæ‰‹åŠ¨åˆ›å»ºå³å¯"><a href="#å…è®¸ä¿®æ”¹å¯†ç -dockeré•œåƒæ˜¯æ— æ­¤æ–‡ä»¶çš„ï¼Œæ‰‹åŠ¨åˆ›å»ºå³å¯" class="headerlink" title="å…è®¸ä¿®æ”¹å¯†ç (dockeré•œåƒæ˜¯æ— æ­¤æ–‡ä»¶çš„ï¼Œæ‰‹åŠ¨åˆ›å»ºå³å¯)"></a>å…è®¸ä¿®æ”¹å¯†ç (dockeré•œåƒæ˜¯æ— æ­¤æ–‡ä»¶çš„ï¼Œæ‰‹åŠ¨åˆ›å»ºå³å¯)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim /opt/team-nav/config/application.yml<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ˜¯å¦å¼€å¯é¡µé¢ä¸Šè¿›è¡Œå¯†ç ä¿®æ”¹ï¼Œç”¨æˆ·åªæœ‰ä¸€ä¸ªï¼Œè¯·è°¨æ…å¼€å¯</span><br>change-password:<br>  enable: true<br><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/opt/</span>team-nav<span class="hljs-regexp">/bin/</span>status.sh <br><br><span class="hljs-comment"># ZIPåŒ…éƒ¨ç½²æ‰§è¡Œé‡å¯è„šæœ¬</span><br><br>docker  restart team-nav<br><br><span class="hljs-comment"># dockeréƒ¨ç½²é‡å¯å®¹å™¨ç”Ÿæ•ˆ</span><br><br></code></pre></td></tr></table></figure><h1 id="Nginxåå‘ä»£ç†åŸŸå"><a href="#Nginxåå‘ä»£ç†åŸŸå" class="headerlink" title="Nginxåå‘ä»£ç†åŸŸå"></a>Nginxåå‘ä»£ç†åŸŸå</h1><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">vim</span> /etc/nginx/conf.d/team.conf<br><br><br>server &#123;<br>        <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;<br>        <span class="hljs-attribute">listen</span> [::]:<span class="hljs-number">80</span>;<br><br>        <span class="hljs-attribute">server_name</span> team.baidu.com;<br><br><br>        <span class="hljs-comment"># reverse proxy</span><br>        <span class="hljs-section">location</span> / &#123;<br>                <span class="hljs-attribute">proxy_pass</span> http://127.0.0.1:8082/;<br>                <span class="hljs-attribute">proxy_http_version</span>      <span class="hljs-number">1</span>.<span class="hljs-number">1</span>;<br>        <span class="hljs-attribute">proxy_cache_bypass</span>      <span class="hljs-variable">$http_upgrade</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> Upgrade                        <span class="hljs-variable">$http_upgrade</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> Connection             <span class="hljs-string">&quot;upgrade&quot;</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> Host                           <span class="hljs-variable">$host</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Real-IP                      <span class="hljs-variable">$remote_addr</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-For        <span class="hljs-variable">$proxy_add_x_forwarded_for</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-Proto      <span class="hljs-variable">$scheme</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-Host       <span class="hljs-variable">$host</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> X-Forwarded-Port       <span class="hljs-variable">$server_port</span>;<br>        &#125;<br>        <span class="hljs-section">location</span> /ext-resources/modules &#123;<br>             <span class="hljs-attribute">alias</span>   /opt/team-nav/ext-resources/modules;<br>             <span class="hljs-attribute">index</span>  index.html index.htm;<br>         &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>ä¸€èˆ¬æ¥è¯´åªä¿®æ”¹åŸŸåå³å¯</p></blockquote><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Juniper_Junos/">Juniper Junosç³»ç»Ÿæ¶æ„å’Œå‘½ä»¤æ¨¡å¼æµ…è°ˆ</a></li><li><a href="https://songxwn.com/vdo/">çº¢å¸½çš„é‡å¤æ•°æ®åˆ é™¤VDO</a></li><li><a href="https://www.qystu.cc/posts/52948.html">serviceworkersé¦–å±ä¼˜åŒ–</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VMware Vsphere 8 åºåˆ—å·</title>
    <link href="/VMware_Vsphere8_key/"/>
    <url>/VMware_Vsphere8_key/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>é€‚ç”¨äºVMware Vsphere 8ç³»åˆ—äº§å“çš„åºåˆ—å·ï¼Œç”¨äºå­¦ä¹ ä½¿ç”¨ã€‚</p><span id="more"></span><h2 id="vSphere-Enterprise-Plus"><a href="#vSphere-Enterprise-Plus" class="headerlink" title="vSphere Enterprise Plus:"></a>vSphere Enterprise Plus:</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">HG00K</span>-<span class="hljs-number">03</span>H8K-<span class="hljs-number">48929</span>-<span class="hljs-number">8</span>K1NP-<span class="hljs-number">3</span>LUJ4<br><br><span class="hljs-attribute">4V492</span>-<span class="hljs-number">44210</span>-<span class="hljs-number">48830</span>-<span class="hljs-number">931</span>GK-<span class="hljs-number">2</span>PRJ4<br><br><span class="hljs-attribute">NF212</span>-<span class="hljs-number">08</span>H0K-<span class="hljs-number">488</span>X8-WV9X6-<span class="hljs-number">1</span>F024<br><br><span class="hljs-attribute">4F40H</span>-<span class="hljs-number">4</span>ML1K-M89U0-<span class="hljs-number">0</span>C2N4-<span class="hljs-number">1</span>AKL4  vSphere Enterprise<br><br></code></pre></td></tr></table></figure><h2 id="vCenter-Standard"><a href="#vCenter-Standard" class="headerlink" title="vCenter Standard:"></a>vCenter Standard:</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">4F282</span>-<span class="hljs-number">0</span>MLD2-M8869-T89G0-CF240<br><br><span class="hljs-attribute">0Z20K</span>-<span class="hljs-number">07</span>JEH-<span class="hljs-number">08030</span>-<span class="hljs-number">908</span>EP-<span class="hljs-number">1</span>CUK4<br><br><span class="hljs-attribute">0F41K</span>-<span class="hljs-number">0</span>MJ4H-M88U1-<span class="hljs-number">0</span>C3N0-<span class="hljs-number">0</span>A214<br><br></code></pre></td></tr></table></figure><h2 id="vSAN-Enterprise-Plus"><a href="#vSAN-Enterprise-Plus" class="headerlink" title="vSAN Enterprise Plus:"></a>vSAN Enterprise Plus:</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">MG292</span>-<span class="hljs-number">08</span>L9K-<span class="hljs-number">48078</span>-KJ372-<span class="hljs-number">27</span>K20<br><br><span class="hljs-attribute">JF61H</span>-<span class="hljs-number">48</span>K8K-<span class="hljs-number">488</span>X9-W98Z0-<span class="hljs-number">1</span>FH24  vSphere <span class="hljs-number">8</span> for Virtual SAN Witness for Embedded OEMs<br><br></code></pre></td></tr></table></figure><h2 id="Horizon-Enterprise-v8-x"><a href="#Horizon-Enterprise-v8-x" class="headerlink" title="Horizon Enterprise  v8.x"></a>Horizon Enterprise  v8.x</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0G4DA</span>-<span class="hljs-number">49</span>J81-M80R1-<span class="hljs-number">012</span>N4-<span class="hljs-number">86</span>KH4<br><br></code></pre></td></tr></table></figure><h2 id="NSX"><a href="#NSX" class="headerlink" title="NSX"></a>NSX</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">NSX</span> Firewall with Advanced Threat Prevention:<br><span class="hljs-attribute">NC69K</span>-<span class="hljs-number">4</span>L040-M81T0-W98ZK-AFA40<br><br><span class="hljs-attribute">NSX</span> Data Center Distributed Threat Prevention:<br><span class="hljs-attribute">FV3E0</span>-<span class="hljs-number">2</span>WF1N-<span class="hljs-number">488</span>NP-XFXN9-ZU0R2<br><br><span class="hljs-attribute">NSX</span> Advanced Threat Prevention:<br><span class="hljs-attribute">HG40K</span>-<span class="hljs-number">0</span>Y1E0-M80D0-<span class="hljs-number">0</span>J9ZM-<span class="hljs-number">8</span>UH6<br><br></code></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id="VMWare-Workstation-Pro-17"><a href="#VMWare-Workstation-Pro-17" class="headerlink" title="VMWare Workstation Pro 17"></a>VMWare Workstation Pro 17</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">MC60H</span>-DWHD5-H80U9-<span class="hljs-number">6</span>V85M-<span class="hljs-number">8280</span>D<br><span class="hljs-attribute">4A4RR</span>-<span class="hljs-number">813</span>DK-M81A9-<span class="hljs-number">4</span>U35H-<span class="hljs-number">06</span>KND<br><span class="hljs-attribute">NZ4RR</span>-FTK5H-H81C1-Q30QH-<span class="hljs-number">1</span>V2LA<br><span class="hljs-attribute">JU090</span>-<span class="hljs-number">6039</span>P-<span class="hljs-number">08409</span>-<span class="hljs-number">8</span>J0QH-<span class="hljs-number">2</span>YR7F<br><span class="hljs-attribute">4Y09U</span>-AJK97-<span class="hljs-number">089</span>Z0-A3054-<span class="hljs-number">83</span>KLA<br><span class="hljs-attribute">4C21U</span>-<span class="hljs-number">2</span>KK9Q-M8130-<span class="hljs-number">4</span>V2QH-CF810<br></code></pre></td></tr></table></figure><h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1><h1 id="å‚è€ƒæ¥æº"><a href="#å‚è€ƒæ¥æº" class="headerlink" title="å‚è€ƒæ¥æº"></a>å‚è€ƒæ¥æº</h1><p><a href="https://fdn.digiboy.ir/">https://fdn.digiboy.ir/</a> </p><h1 id="VMware-Vsphere8ä¸‹è½½"><a href="#VMware-Vsphere8ä¸‹è½½" class="headerlink" title="VMware Vsphere8ä¸‹è½½"></a>VMware Vsphere8ä¸‹è½½</h1><p> <a href="https://pan.baidu.com/s/1NdmWVq7crPMUPMTUNKZfjw?pwd=e7vl">ç™¾åº¦äº‘ç›˜&gt; https://sysin.org/blog/vmware/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/ESXi8_IPMI/">VMware ESXi 8 ä½¿ç”¨IPMITool</a></li><li><a href="https://songxwn.com/Veeam12/">Veeam Backup Replication 12 å®‰è£…å’Œæ¿€æ´»</a></li><li><a href="https://songxwn.com/ESXI_CVE-2021-21974/">ESXi å‹’ç´¢ç—…æ¯’ESXiArgs å…¶CVE-2021-21974æ¼æ´åˆ†æå’Œæ¢å¤</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>vmware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>esxi</tag>
      
      <tag>vmware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VMware ESXi 8 ä½¿ç”¨IPMITool</title>
    <link href="/ESXi8_IPMI/"/>
    <url>/ESXi8_IPMI/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ¬æ•™ç¨‹é€‚ç”¨äºåœ¨VMware ESXi 8ä¸Šä½¿ç”¨ipmitool å·¥å…·è¿›è¡Œæœ¬åœ°ç®¡ç†BMCã€‚</p><p>å› 8.0æ— æ³•æ­£å¸¸å®‰è£…ç¤¾åŒºæ‰“åŒ…çš„VIBç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦è‡ªè¡Œç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸Šä¼ åˆ°esxiä½¿ç”¨ã€‚</p><p>7.0ç‰ˆæœ¬åŠä¹‹å‰çš„å»ºè®®å®‰è£…VIBåŒ…çš„<a href="https://vswitchzero.com/ipmitool-vib">ipmitools</a></p><p>IPMIToolå¯ä»¥ç”¨æ¥è·å–å’Œè®¾ç½®æœåŠ¡å™¨å¸¦å¤–ç®¡ç†å£çš„ç½‘ç»œé…ç½®ã€ç”¨æˆ·é…ç½®ã€ä¼ æ„Ÿå™¨ã€é‡å¯BMCç­‰ç­‰ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/ipmitool/ipmitool">https://github.com/ipmitool/ipmitool</a> </p><span id="more"></span><h1 id="ç¼–è¯‘æ•™ç¨‹"><a href="#ç¼–è¯‘æ•™ç¨‹" class="headerlink" title="ç¼–è¯‘æ•™ç¨‹"></a>ç¼–è¯‘æ•™ç¨‹</h1><p>ä½¿ç”¨ Ubuntu 18.04 ï¼ˆç¼–è¯‘è¦æ±‚çš„opensslè¾ƒä½ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt update<br><br>aptÂ install gcc-multilib libc6-i386 libc6-dev-i386 wget -y<br><br>wget https://nchc.dl.sourceforge.net/project/ipmitool/ipmitool/1.8.18/ipmitool-1.8.18.tar.bz2<br><br>tar -xjvf ipmitool-1.8.18.tar.bz2<br><br>cd ipmitool-1.8.18/<br><br>./configure CFLAGS=-m64 LDFLAGS=-static<br><br>make<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŒ‡å®šæ¶æ„ä¸ºX86-64ï¼ˆESXi 8ä¸æ”¯æŒ32bitç¨‹åºï¼‰ï¼Œä¸”è¿›è¡Œé™æ€åº“ç¼–è¯‘ï¼Œé˜²æ­¢ç³»ç»Ÿç¼ºä¾èµ–åº“ã€‚</span><br><br><br>ls ./src/ipmitool<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</span><br><br></code></pre></td></tr></table></figure><h2 id="ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„"><a href="#ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„" class="headerlink" title="ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„"></a>ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„</h2><p>ä¸‹è½½é“¾æ¥ï¼š<a href="https://songxwn.com/file/ipmitool">https://songxwn.com/file/ipmitool</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">md5sum</span> src/ipmitool<br>5b49339587170d40095b2e6cf5b30007  src/ipmitool<br><br></code></pre></td></tr></table></figure><p>PSï¼šæ³¨æ„æ ¡éªŒMD5å€¼</p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="åœ¨ESXi-ä¸Šè¿è¡Œ"><a href="#åœ¨ESXi-ä¸Šè¿è¡Œ" class="headerlink" title="åœ¨ESXi ä¸Šè¿è¡Œ"></a>åœ¨ESXi ä¸Šè¿è¡Œ</h1><p>1ã€å¼€å¯ESXi Shell å’ŒSSHæœåŠ¡ã€‚ï¼ˆä½¿ç”¨å®Œæˆä¹‹åå»ºè®®å…³é—­ï¼‰</p><p>2ã€ä½¿ç”¨SSHç™»å½•åˆ°ESXiï¼Œå¯ä»¥ä½¿ç”¨SCPæˆ–SFTPä¸Šä¼ ipmitoolåˆ°ESXiçš„optæ–‡ä»¶å¤¹</p><p>3ã€ä½¿ç”¨chmodå‘½ä»¤ç»™äºˆipmitoolæ‰§è¡Œæƒé™ã€‚</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs elixir">scp root<span class="hljs-variable">@192</span>.<span class="hljs-number">168.0</span>.<span class="hljs-number">1</span><span class="hljs-symbol">:/root/ipmitool-</span><span class="hljs-number">1.8</span>.<span class="hljs-number">18</span>/src/ipmitool /opt/<br><br>cd /opt/<br><br>[root<span class="hljs-variable">@localhost</span><span class="hljs-symbol">:/opt</span>] chmod +x ipmitool <br><br></code></pre></td></tr></table></figure><h2 id="å…è®¸ESXi-8-æ‰§è¡Œç¬¬ä¸‰æ–¹ç¨‹åº"><a href="#å…è®¸ESXi-8-æ‰§è¡Œç¬¬ä¸‰æ–¹ç¨‹åº" class="headerlink" title="å…è®¸ESXi 8 æ‰§è¡Œç¬¬ä¸‰æ–¹ç¨‹åº"></a>å…è®¸ESXi 8 æ‰§è¡Œç¬¬ä¸‰æ–¹ç¨‹åº</h2><p>ESXi 8 ä¸ºäº†å®‰å…¨æ€§è€ƒè™‘ï¼Œä¸å…è®¸ç¬¬ä¸‰æ–¹ç¨‹åºè¿è¡Œï¼Œéœ€è¦æ‰‹åŠ¨ç¦æ­¢ã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># å¦‚æœä¸ç¦æ­¢ï¼Œå°±ä¼šæç¤ºï¼š-sh: ./ipmitool: Operation not permitted</span><br><br><br><br>esxcli system settings advanced <span class="hljs-keyword">set</span> -o <span class="hljs-string">/User/execInstalledOnly</span> -i 0<br><br><span class="hljs-comment"># å…³é—­å®‰å…¨ç­–ç•¥ï¼Œå…è®¸æœªå®‰è£…çš„äºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œ</span><br><br>esxcli system settings advanced <span class="hljs-keyword">set</span> -o <span class="hljs-string">/User/execInstalledOnly</span> -i <br><br><span class="hljs-comment"># å¼€å¯å®‰å…¨ç­–ç•¥ï¼Œä¸å…è®¸æœªå®‰è£…çš„äºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œ</span><br><br>[root@localhost:<span class="hljs-string">/opt</span>] <span class="hljs-string">./ipmitool</span> -V<br>ipmitool <span class="hljs-keyword">version</span> 1.8.18 for songxwn.com<br><br><span class="hljs-comment"># å°è¯•è¿è¡Œï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ã€‚</span><br><br></code></pre></td></tr></table></figure><p>PSï¼šè¿™å°†å…è®¸åœ¨ä¸»æœºä¸Šæ‰§è¡Œæœªå®‰è£…çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æœªçŸ¥å†…å®¹å¯èƒ½ä¼šå¯¼è‡´ç±»ä¼¼å‹’ç´¢è½¯ä»¶çš„æ¶æ„è½¯ä»¶æ”»å‡»ã€‚å»ºè®®ä½¿ç”¨ä¹‹åå…³é—­ã€‚</p><h1 id="-1"><a href="#-1" class="headerlink" title=""></a></h1><h2 id="å¸¸ç”¨å‘½ä»¤ï¼ˆæœ¬åœ°ç®¡ç†ï¼‰"><a href="#å¸¸ç”¨å‘½ä»¤ï¼ˆæœ¬åœ°ç®¡ç†ï¼‰" class="headerlink" title="å¸¸ç”¨å‘½ä»¤ï¼ˆæœ¬åœ°ç®¡ç†ï¼‰"></a>å¸¸ç”¨å‘½ä»¤ï¼ˆæœ¬åœ°ç®¡ç†ï¼‰</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs routeros">ipmitool sensor list<br><br><span class="hljs-comment"># æŸ¥çœ‹ä¼ æ„Ÿå™¨ä¿¡æ¯</span><br><br>ipmitool<span class="hljs-built_in"> lan </span><span class="hljs-built_in">print</span><br><br><span class="hljs-comment"># æŸ¥çœ‹ipmiç½‘ç»œä¿¡æ¯</span><br><br>ipmitool<span class="hljs-built_in"> lan </span><span class="hljs-built_in">set</span> 1 ipsrc static<br>ipmitool<span class="hljs-built_in"> lan </span><span class="hljs-built_in">set</span> 1 ipaddr 192.168.142.100<br>ipmitool<span class="hljs-built_in"> lan </span><span class="hljs-built_in">set</span> 1 netmask 255.255.255.0<br>ipmitool<span class="hljs-built_in"> lan </span><span class="hljs-built_in">set</span> 1 defgw ipaddr 192.168.142.1<br><br><span class="hljs-comment"># é…ç½®é™æ€IPï¼Œä¹Ÿå¯ä»¥é…ç½®ä½¿ç”¨VLANã€‚1ä»£è¡¨é€šé“ï¼Œå¯ä»¥ç”¨printå‘½ä»¤ç¡®è®¤ã€‚</span><br><br>ipmitool<span class="hljs-built_in"> user </span>list 1<br><br><span class="hljs-comment"># æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨</span><br><br>ipmitool<span class="hljs-built_in"> user </span><span class="hljs-built_in">set</span> password 1 ABC111@<br><br><span class="hljs-comment"># å°†ç”¨æˆ·IDä¸º1 çš„ç”¨æˆ·é…ç½®é‡ç½®å¯†ç ã€‚</span><br><br>ipmitool mc reset warm<br><br><span class="hljs-comment"># é‡å¯BMC</span><br><br></code></pre></td></tr></table></figure><h1 id="-2"><a href="#-2" class="headerlink" title=""></a></h1><h1 id="-3"><a href="#-3" class="headerlink" title=""></a></h1><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.truesec.com/hub/blog/esxi-8-0-and-execinstalledonly-the-good-the-bad-and-the-ugly">https://www.truesec.com/hub/blog/esxi-8-0-and-execinstalledonly-the-good-the-bad-and-the-ugly</a> </p><p><a href="https://www.geekzu.cn/archives/compile-ipmitool-for-vmware-esxi-server.html">https://www.geekzu.cn/archives/compile-ipmitool-for-vmware-esxi-server.html</a> </p><p><a href="https://www.zhaowenyu.com/linux-doc/ipmi/ipmitool.html">https://www.zhaowenyu.com/linux-doc/ipmi/ipmitool.html</a> </p><p><a href="https://blog.csdn.net/liwei924/article/details/80529881">https://blog.csdn.net/liwei924/article/details/80529881</a> </p><p><a href="https://vswitchzero.com/ipmitool-vib/">https://vswitchzero.com/ipmitool-vib/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/VMware_Vsphere8_key/">VMware Vsphere 8 åºåˆ—å·</a></li><li><a href="https://songxwn.com/Veeam12/">Veeam Backup Replication 12 å®‰è£…å’Œæ¿€æ´»</a></li><li><a href="https://songxwn.com/ESXI_CVE-2021-21974/">ESXi å‹’ç´¢ç—…æ¯’ESXiArgs å…¶CVE-2021-21974æ¼æ´åˆ†æå’Œæ¢å¤</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>esxi</category>
      
    </categories>
    
    
    <tags>
      
      <tag>esxi</tag>
      
      <tag>vmware</tag>
      
      <tag>ipmi</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</title>
    <link href="/DNS_recursive_Server/"/>
    <url>/DNS_recursive_Server/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ¬æ•™ç¨‹æ•™å¤§å®¶è‡ªå»ºä¸€ä¸ªé€’å½’DNSæœåŠ¡å™¨ï¼Œè®©æ‰€æœ‰DNSè¯·æ±‚å‘æƒå¨æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>DNSæœåŠ¡å™¨è½¯ä»¶ä½¿ç”¨unbound</p><p>ç³»ç»Ÿä½¿ç”¨Rocky Linux8</p><p>å…³é—­é˜²ç«å¢™å’ŒSElinux</p><p>æ³¨æ„ï¼šæœ¬æ•™ç¨‹åªæ˜¯ç®€å•çš„å»ºç«‹ä¸€ä¸ªå¯ç”¨çš„DNSé€’å½’æœåŠ¡å™¨ï¼Œå¯ä»¥å°è§„æ¨¡ä½¿ç”¨ï¼Œç”¨äºå­¦ä¹ è§£æè¿‡ç¨‹ã€‚<br>æ³¨æ„ï¼šå›½å†…è‹¥å¯¹å…¬ç½‘å¼€æ”¾ï¼Œéœ€è¦è¿›è¡Œå¤‡æ¡ˆã€‚</p><span id="more"></span><h2 id="é€’å½’DNSæœåŠ¡å™¨ä¸æƒå¨DNSæœåŠ¡å™¨"><a href="#é€’å½’DNSæœåŠ¡å™¨ä¸æƒå¨DNSæœåŠ¡å™¨" class="headerlink" title="é€’å½’DNSæœåŠ¡å™¨ä¸æƒå¨DNSæœåŠ¡å™¨"></a>é€’å½’DNSæœåŠ¡å™¨ä¸æƒå¨DNSæœåŠ¡å™¨</h2><p><strong>1.æƒå¨DNSï¼š</strong></p><p>æƒå¨DNSæ˜¯ç»è¿‡ä¸Šä¸€çº§æˆæƒå¯¹åŸŸåè¿›è¡Œè§£æçš„æœåŠ¡å™¨ï¼ŒåŒæ—¶å®ƒå¯ä»¥æŠŠè§£ææˆæƒè½¬æˆç»™å…¶ä»–äººï¼Œå¦‚COMé¡¶çº§æœåŠ¡å™¨å¯ä»¥æˆæƒdns.comè¿™ä¸ªåŸŸåçš„çš„æƒå¨æœåŠ¡å™¨ä¸ºNS.ABC.COMï¼ŒåŒæ—¶NS.ABC.COMè¿˜å¯ä»¥æŠŠæˆæƒè½¬æˆç»™NS.DDD.COMï¼Œè¿™æ ·NS.DDD.COMå°±æˆäº†ABC.COMå®é™…ä¸Šçš„æƒå¨æœåŠ¡å™¨äº†ã€‚å¹³æ—¶æˆ‘ä»¬è§£æåŸŸåçš„ç»“æœéƒ½æºè‡ªæƒå¨DNSã€‚æ¯”å¦‚dns.comçš„æƒå¨DNSæœåŠ¡å™¨å°±æ˜¯ns1.dns.comã€ns2.dns.comã€‚ç„¶åé€šè¿‡ns1.dns.comå³å¯æŸ¥è¯¢åŸŸåçš„å…·ä½“IPåœ°å€æˆ–å…¶ä»–è®°å½•ã€‚</p><p><strong>2.é€’å½’DNS:</strong></p><p>è´Ÿè´£æ¥å—ç”¨æˆ·å¯¹ä»»æ„åŸŸåæŸ¥è¯¢ï¼Œå¹¶è¿”å›ç»“æœç»™ç”¨æˆ·ã€‚é€’å½’DNSå¯ä»¥ç¼“å­˜ç»“æœä»¥é¿å…é‡å¤å‘ä¸ŠæŸ¥è¯¢ã€‚æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯è¿™ç±»DNSï¼Œä»–å¯¹å…¬ä¼—å¼€æ”¾æœåŠ¡ï¼Œä¸€èˆ¬ç”±ç½‘ç»œè¿è¥å•†æä¾›ï¼Œå¤§å®¶éƒ½è‡ªå·±å¯ä»¥æ¶é€’å½’DNSæä¾›æœåŠ¡ã€‚é€’å½’DNSä¸€å®šè¦æœ‰å¯é çš„äº’è”ç½‘è¿æ¥æ–¹å¯ä½¿ç”¨ã€‚æ¯”å¦‚è°·æ­Œçš„8.8.8.8å’Œ8.8.4.4ä»¥åŠ114çš„114.114.114.114å’Œ114.114.115.115éƒ½å±äºè¿™ä¸€ç±»DNSã€‚ä½ æœ¬åœ°ç”µè„‘ä¸Šè®¾ç½®çš„DNSå°±æ˜¯è¿™ç±»DNSã€‚</p><p><strong>3.è½¬å‘DNS:</strong></p><p>è´Ÿè´£æ¥å—ç”¨æˆ·æŸ¥è¯¢ï¼Œå¹¶è¿”å›ç»“æœç»™ç”¨æˆ·ã€‚ä½†è¿™ä¸ªç»“æœä¸æ˜¯æŒ‰æ ‡å‡†çš„åŸŸåè§£æè¿‡ç¨‹å¾—åˆ°çš„ï¼Œè€Œæ˜¯ç›´æ¥æŠŠé€’å½’DNSçš„ç»“æœè½¬å‘ç»™ç”¨æˆ·ã€‚å®ƒä¹Ÿå…·å¤‡ç¼“å­˜åŠŸèƒ½ã€‚ä»–ä¸»è¦ä½¿ç”¨åœ¨æ²¡æœ‰ç›´æ¥çš„äº’è”ç½‘è¿æ¥ï¼Œä½†å¯ä»¥è¿æ¥åˆ°ä¸€ä¸ªé€’å½’DNSé‚£é‡Œï¼Œè¿™æ—¶ä½¿ç”¨è½¬å‘DNSå°±æ¯”è¾ƒåˆé€‚ã€‚å…¶ç¼ºé™·æ˜¯ï¼šç›´æ¥å—é€’å½’DNSçš„å½±å“ï¼ŒæœåŠ¡å“è´¨è¾ƒå·®ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨çš„è·¯ç”±å™¨é‡Œé¢çš„DNSå°±æ˜¯è¿™ä¸€ç±»ï¼Œç”¨è·¯ç”±å™¨çš„æœ‹å‹å¯ä»¥çœ‹ä¸‹æœ¬åœ°ç”µè„‘çš„DNSä¸€èˆ¬éƒ½æ˜¯192.168.1.1ã€‚</p><h2 id="æŸ¥çœ‹DNSé€’å½’æœåŠ¡å™¨è§£æè¿‡ç¨‹è·Ÿè¸ª"><a href="#æŸ¥çœ‹DNSé€’å½’æœåŠ¡å™¨è§£æè¿‡ç¨‹è·Ÿè¸ª" class="headerlink" title="æŸ¥çœ‹DNSé€’å½’æœåŠ¡å™¨è§£æè¿‡ç¨‹è·Ÿè¸ª"></a>æŸ¥çœ‹DNSé€’å½’æœåŠ¡å™¨è§£æè¿‡ç¨‹è·Ÿè¸ª</h2><figure class="highlight mercury"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs mercury">dig +<span class="hljs-keyword">trace</span> baidu.com<br><br><br>; &lt;&lt;&gt;&gt; DiG <span class="hljs-number">9.11</span>.<span class="hljs-number">36</span>-RedHat-<span class="hljs-number">9.11</span>.<span class="hljs-number">36</span>-<span class="hljs-number">5</span>.el8_7.<span class="hljs-number">2</span> &lt;&lt;&gt;&gt; +<span class="hljs-keyword">trace</span> baidu.com<br>;; global options: +cmd<br>.<span class="hljs-number">9981</span>INNSg.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSj.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSc.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSm.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSi.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSk.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSb.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSf.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSd.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSl.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSe.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSh.root-servers.net.<br>.<span class="hljs-number">9981</span>INNSa.root-servers.net.<br><br># é€šè¿‡<span class="hljs-number">114</span>è·å–åˆ°root Cçš„IPåœ°å€<br><br>;; Received <span class="hljs-number">824</span> bytes from <span class="hljs-number">114.114</span>.<span class="hljs-number">114.114</span>#<span class="hljs-number">53</span>(<span class="hljs-number">114.114</span>.<span class="hljs-number">114.114</span>) in <span class="hljs-number">0</span> ms<br><br>com.<span class="hljs-number">172800</span>INNSa.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSd.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSl.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSc.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSm.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSh.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSe.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSj.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSb.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSi.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSg.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSf.gtld-servers.net.<br>com.<span class="hljs-number">172800</span>INNSk.gtld-servers.net.<br><br># é€šè¿‡root CæœåŠ¡å™¨ï¼Œè·å–åˆ°æ‰€æœ‰.com æƒå¨æœåŠ¡å™¨<br><br>;; Received <span class="hljs-number">1197</span> bytes from <span class="hljs-number">192.33</span>.<span class="hljs-number">4.12</span>#<span class="hljs-number">53</span>(c.root-servers.net) in <span class="hljs-number">197</span> ms<br><br>baidu.com.<span class="hljs-number">172800</span>INNSns2.baidu.com.<br>baidu.com.<span class="hljs-number">172800</span>INNSns3.baidu.com.<br>baidu.com.<span class="hljs-number">172800</span>INNSns4.baidu.com.<br>baidu.com.<span class="hljs-number">172800</span>INNSns1.baidu.com.<br>baidu.com.<span class="hljs-number">172800</span>INNSns7.baidu.com.<br><br># é€šè¿‡.com æƒå¨æœåŠ¡å™¨ï¼Œè·å–åˆ°baidu.comçš„æƒå¨æœåŠ¡å™¨ã€‚<br><br>;; Received <span class="hljs-number">845</span> bytes from <span class="hljs-number">192.43</span>.<span class="hljs-number">172.30</span>#<span class="hljs-number">53</span>(i.gtld-servers.net) in <span class="hljs-number">237</span> ms<br><br>baidu.com.<span class="hljs-number">600</span>INA<span class="hljs-number">39.156</span>.<span class="hljs-number">66.10</span><br>baidu.com.<span class="hljs-number">600</span>INA<span class="hljs-number">110.242</span>.<span class="hljs-number">68.66</span><br>baidu.com.<span class="hljs-number">86400</span>INNSdns.baidu.com.<br>baidu.com.<span class="hljs-number">86400</span>INNSns7.baidu.com.<br>baidu.com.<span class="hljs-number">86400</span>INNSns4.baidu.com.<br>baidu.com.<span class="hljs-number">86400</span>INNSns2.baidu.com.<br>baidu.com.<span class="hljs-number">86400</span>INNSns3.baidu.com.<br><br># é€šè¿‡ ns3.baidu.com æƒå¨æœåŠ¡å™¨ï¼Œè·å–åˆ° baidu.comçš„ipè§£æä¸º<span class="hljs-number">112.80</span>.<span class="hljs-number">248.64</span><br><br>;; Received <span class="hljs-number">356</span> bytes from <span class="hljs-number">112.80</span>.<span class="hljs-number">248.64</span>#<span class="hljs-number">53</span>(ns3.baidu.com) in <span class="hljs-number">26</span> ms<br><br></code></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p> <a href="https://www.menandmice.com/glossary/dns-root-server">DNS æ ¹æœåŠ¡å™¨ä»‹ç»</a></p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake">dnf <span class="hljs-keyword">install</span> unbound -y<br><br></code></pre></td></tr></table></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">vim</span> /etc/unbound/unbound.conf<br><br><span class="hljs-attribute">server</span>:<br>    <span class="hljs-attribute">interface</span>: <span class="hljs-number">0.0.0.0</span><br>    <span class="hljs-attribute">interface</span>: ::<span class="hljs-number">0</span><br>    <br>    <span class="hljs-attribute">access</span>-control: <span class="hljs-number">0.0.0.0</span>/<span class="hljs-number">0</span> <span class="hljs-literal">allow</span><br>    <span class="hljs-attribute">access</span>-control: ::/<span class="hljs-number">0</span> <span class="hljs-literal">allow</span><br>    <br>    <br><span class="hljs-comment"># åœ¨serverä¸‹ï¼Œä¿®æ”¹å¦‚ä¸Šé…ç½®ï¼Œç›‘å¬æ‰€æœ‰IPv4å’ŒIPv6åœ°å€ï¼Œå’Œå…è®¸æ‰€æœ‰IPv4åœ°å€å’ŒIPv6è®¿é—®ä½¿ç”¨DNSæœåŠ¡å™¨ã€‚    </span><br><br></code></pre></td></tr></table></figure><h2 id="å¯åŠ¨å’ŒéªŒè¯"><a href="#å¯åŠ¨å’ŒéªŒè¯" class="headerlink" title="å¯åŠ¨å’ŒéªŒè¯"></a>å¯åŠ¨å’ŒéªŒè¯</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">systemctl enable --now unbound<br><br><span class="hljs-comment"># å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨</span><br><br>systemctl status unbound<br><br><span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span><br><br>dnf <span class="hljs-keyword">install </span><span class="hljs-keyword">bind-utils </span>-y<br><br><span class="hljs-keyword">dig </span>@localhost www.qq.com<br><br><span class="hljs-comment"># å®‰è£…digï¼ŒæŒ‡å®šæœ¬åœ°dnsæœåŠ¡å™¨ï¼ŒæŸ¥è¯¢åŸŸåæµ‹è¯•å¯ç”¨æ€§ã€‚</span><br><br><span class="hljs-keyword">dig </span>+<span class="hljs-keyword">short </span>TXT whoami.ds.akahelp.net  @<span class="hljs-number">127</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br><br><span class="hljs-comment"># æŸ¥è¯¢dnsæœåŠ¡å™¨è®¿é—®æƒå¨æœåŠ¡å™¨ä½¿ç”¨çš„å…¬ç½‘IPã€‚</span><br><br></code></pre></td></tr></table></figure><h1 id="æŠ“åŒ…éªŒè¯"><a href="#æŠ“åŒ…éªŒè¯" class="headerlink" title="æŠ“åŒ…éªŒè¯"></a>æŠ“åŒ…éªŒè¯</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">tcpdump -i eth0  port domain -w ./dns.pcapÂ <br><br><span class="hljs-comment"># å¯åœ¨æœåŠ¡å™¨æŒ‡å®šæ¥å£æŠ“åŒ…dnsæŠ¥æ–‡è¿›è¡Œåˆ†æï¼Œä½¿ç”¨Wireshark æ‰“å¼€ã€‚</span><br><br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/8/html/managing_networking_infrastructure_services/assembly_setting-up-an-unbound-dns-server_networking-infrastructure-services">çº¢å¸½æ–‡æ¡£</a></p><p><a href="https://www.dns.com/supports/681.html">https://www.dns.com/supports/681.html</a> </p><p><a href="https://www.cloudflare-cn.com/learning/dns/what-is-dns/">https://www.cloudflare-cn.com/learning/dns/what-is-dns/</a> </p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li><li><a href="https://songxwn.com/Juniper_RE-Protect/">Juniper REé˜²æŠ¤-è¿‡æ»¤SSH&Telnetç™»å½•</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>dns</tag>
      
      <tag>network</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</title>
    <link href="/zabbix_data/"/>
    <url>/zabbix_data/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å†å²æ•°æ®ï¼ˆhistoryï¼‰å’Œè¶‹åŠ¿æ•°æ®ï¼ˆtrendsï¼‰æ˜¯Zabbixä¸­å­˜å‚¨æ”¶é›†åˆ°çš„æ•°æ®çš„ä¸¤ç§æ–¹å¼ã€‚</p><p>å†å²æ•°æ®ï¼šæ¯ä¸€ä¸ªæ”¶é›†åˆ°çš„ç›‘æ§æ•°æ®ï¼Œ è¶‹åŠ¿æ•°æ®ï¼šæŒ‰å°æ—¶ç»Ÿè®¡è®¡ç®—çš„å¹³å‡å€¼æ•°æ®ã€‚</p><span id="more"></span><h2 id="å†å²æ•°æ®çš„ç•™å­˜"><a href="#å†å²æ•°æ®çš„ç•™å­˜" class="headerlink" title="å†å²æ•°æ®çš„ç•™å­˜"></a>å†å²æ•°æ®çš„ç•™å­˜</h2><p>é€šè¿‡è®¾ç½®å†å²æ•°æ®ä¿ç•™æ—¶é•¿ï¼Œå¯ä»¥æŒ‡å®šå†å²æ•°æ®ç•™å­˜çš„æ—¶é•¿ã€‚åœ¨ä»¥ä¸‹ä½ç½®ï¼Œä½ å¯ä»¥æ‰¾åˆ°ç›¸å…³çš„è¾“å…¥æ¡†ï¼š</p><ul><li>ç›‘æ§é¡¹å±æ€§ <a href="https://www.zabbix.com/documentation/6.0/zh/manual/config/items/item">è¡¨å•</a></li><li>æ‰¹é‡æ›´æ–°ç›‘æ§é¡¹</li><li><a href="https://www.zabbix.com/documentation/6.0/zh/manual/web_interface/frontend_sections/administration/general#%E7%AE%A1%E5%AE%B6">ç®¡å®¶é…ç½®é¡µ</a></li></ul><p>ä»»ä½•è¿‡æ—§çš„å†å²æ•°æ®ä¼šè¢«ç®¡å®¶ä»æ•°æ®åº“ä¸­åˆ é™¤ã€‚</p><p>ä¸€èˆ¬æ¥è®²ï¼Œå¼ºçƒˆå»ºè®®å°†å†å²æ•°æ®ä¿ç•™æ—¶é•¿è®¾ç½®å¾—å°½å¯èƒ½çš„å°ã€‚è¿™ä¹ˆåšå¯ä»¥è®©æ•°æ®åº“ä¸ä¼šå› å­˜å‚¨äº†å¤§é‡çš„å†å²æ•°æ®ï¼Œå¯¼è‡´è¶…è´Ÿè·è¿è¡Œã€‚</p><p>å¯ä»¥é€‰æ‹©é•¿æ—¶é—´çš„ä¿ç•™è¶‹åŠ¿æ•°æ®ï¼Œæ¥æ›¿ä»£é•¿æœŸéœ€è¦çš„å†å²æ•°æ®ã€‚ä¾‹å¦‚ï¼šè®¾ç½®æˆä¿ç•™14å¤©å†å²æ•°æ®å’Œ5å¹´çš„è¶‹åŠ¿æ•°æ®ã€‚</p><p>å‚è€ƒ<a href="https://www.zabbix.com/documentation/6.0/zh/manual/installation/requirements#database-size">æ•°æ®åº“ç©ºé—´å¤§å°</a>é¡µï¼Œæ¥äº†è§£å†å²æ•°æ®å’Œè¶‹åŠ¿æ•°æ®å„è‡ªéœ€è¦çš„æ•°æ®åº“ç©ºé—´ã€‚</p><p>å½“è®¾ç½®äº†è¾ƒçŸ­çš„å†å²æ•°æ®ä¿ç•™æ—¶é—´ï¼Œå›¾å½¢ä¼šä½¿ç”¨è¶‹åŠ¿æ•°æ®å€¼æ˜¾ç¤ºæ—§æ•°æ®ï¼Œå› æ­¤ä¾æ—§å¯ä»¥é€šè¿‡å›¾å½¢æŸ¥çœ‹æ—§æ•°æ®ã€‚</p><h2 id="è¶‹åŠ¿æ•°æ®çš„ç•™å­˜"><a href="#è¶‹åŠ¿æ•°æ®çš„ç•™å­˜" class="headerlink" title="è¶‹åŠ¿æ•°æ®çš„ç•™å­˜"></a>è¶‹åŠ¿æ•°æ®çš„ç•™å­˜</h2><p>è¶‹åŠ¿æ•°æ®æ˜¯ä¸€ç§å†…å»ºçš„å†å²æ•°æ®å‹ç¼©æœºåˆ¶ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨æ•°å­—ç±»å‹ç›‘æ§é¡¹çš„æ¯å°æ—¶çš„æœ€å°å€¼ã€æœ€å¤§å€¼ã€å¹³å‡å€¼å’Œè®°å½•æ•°é‡ã€‚</p><p>é€šè¿‡è®¾ç½®è¶‹åŠ¿å­˜å‚¨æ—¶é—´ï¼Œå¯ä»¥æŒ‡å®šè¶‹åŠ¿æ•°æ®ç•™å­˜çš„æ—¶é•¿ã€‚ åœ¨ä»¥ä¸‹ä½ç½®ï¼Œä½ å¯ä»¥æ‰¾åˆ°ç›¸å…³çš„è¾“å…¥æ¡†ï¼š</p><ul><li>ç›‘æ§é¡¹å±æ€§ <a href="https://www.zabbix.com/documentation/6.0/zh/manual/config/items/item">è¡¨å•</a></li><li>æ‰¹é‡æ›´æ–°ç›‘æ§é¡¹</li><li><a href="https://www.zabbix.com/documentation/6.0/zh/manual/web_interface/frontend_sections/administration/general#%E7%AE%A1%E5%AE%B6">ç®¡å®¶é…ç½®é¡µ</a></li></ul><p>é€šå¸¸è¶‹åŠ¿æ•°æ®è®¾ç½®çš„çš„ç•™å­˜æ—¶é—´åº”å½“æ¯”å†å²æ•°æ®ç•™å­˜æ—¶é—´è®¾ç½®çš„é•¿ã€‚ä»»ä½•è¿‡æ—§çš„è¶‹åŠ¿æ•°æ®ä¼šè¢«ç®¡å®¶ä»æ•°æ®åº“åˆ é™¤ã€‚</p><p>Zabbix serveråœ¨è¿è¡Œæ—¶ä¼šåœ¨è¶‹åŠ¿ç¼“å­˜ä¸­ç§¯ç´¯è¶‹åŠ¿æ•°æ®ï¼Œå› ä¸ºæœ‰æ•°æ®æµå…¥ã€‚ åœ¨è¿™äº›æƒ…å†µä¸‹ï¼ŒZabbix Serverä¼šå°†æ¯ä¸ªç›‘æ§é¡¹çš„<strong>å‰ä¸€ä¸ªå°æ—¶</strong>è¶‹åŠ¿æ•°æ®å†™å…¥æ•°æ®åº“(åœ¨å‰ç«¯å¯ä»¥çœ‹åˆ°):</p><ul><li>æœåŠ¡å™¨æ¥æ”¶åˆ°ç›‘æ§é¡¹é¦–ä¸ªå½“å‰ä¸€å°æ—¶çš„å€¼</li><li>åœ¨è¿˜å·®5åˆ†é’Ÿæˆ–æ›´å°‘æ—¶é—´è¾¾åˆ°ä¸€å°æ—¶ï¼Œä»ç„¶æ²¡æœ‰è¯¥ç›‘æ§é¡¹å½“å‰ä¸€å°æ—¶çš„å€¼</li><li>æœåŠ¡å™¨åœæ­¢</li></ul><p>è¦æŸ¥çœ‹å›¾è¡¨ä¸Šçš„è¶‹åŠ¿ï¼Œä½ éœ€è¦è‡³å°‘ç­‰å¾…åˆ°ä¸‹ä¸€ä¸ªå°æ—¶çš„å¼€å§‹(å¦‚æœç›‘æ§é¡¹ç»å¸¸æ›´æ–°)ï¼Œæœ€å¤šç­‰å¾…åˆ°ä¸‹ä¸€ä¸ªå°æ—¶çš„ç»“æŸ(å¦‚æœç›‘æ§é¡¹å¾ˆå°‘æ›´æ–°)ï¼Œæœ€å¤š2ä¸ªå°æ—¶ã€‚</p><p>å½“æœåŠ¡å™¨åˆ·æ–°è¶‹åŠ¿ç¼“å­˜æ—¶ï¼Œå¦‚æœæ•°æ®åº“ä¸­å·²ç»æœ‰è¿™ä¸€å°æ—¶çš„è¶‹åŠ¿(ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨åœ¨è¿™ä¸€å°æ—¶ä¸­å·²ç»é‡æ–°å¯åŠ¨)ï¼ŒæœåŠ¡å™¨éœ€è¦ä½¿ç”¨æ›´æ–°è¯­å¥ï¼Œè€Œä¸æ˜¯ç®€å•çš„æ’å…¥ã€‚ å› æ­¤ï¼Œåœ¨å¤§å‹ç¯å¢ƒçš„å®‰è£…ä¸­ï¼Œå¦‚æœéœ€è¦é‡æ–°å¯åŠ¨ï¼Œæœ€å¥½åœ¨ä¸€ä¸ªå°æ—¶ç»“æŸæ—¶åœæ­¢æœåŠ¡å™¨ï¼Œåœ¨ä¸‹ä¸€ä¸ªå°æ—¶å¼€å§‹æ—¶å¼€å§‹ï¼Œä»¥é¿å…è¶‹åŠ¿æ•°æ®é‡å ã€‚</p><p>è¶‹åŠ¿æ•°æ®ç”Ÿæˆå’Œå†å²è¡¨æ²¡æœ‰å…³ç³»ã€‚</p><h2 id="ä¼˜ç‚¹å’Œç¼ºç‚¹"><a href="#ä¼˜ç‚¹å’Œç¼ºç‚¹" class="headerlink" title="ä¼˜ç‚¹å’Œç¼ºç‚¹"></a>ä¼˜ç‚¹å’Œç¼ºç‚¹</h2><p>å†å²æ•°æ®å¯ä»¥ä¿ç•™æ¯ä¸€æ¬¡ç›‘æ§é¡¹çš„å…·ä½“æ•°å€¼ï¼Œå¦‚æœ‰95è®¡è´¹ç­‰æµé‡è®¡è´¹æ–¹å¼ï¼Œç¡®ä¿æ•°å€¼çš„å‡†ç¡®æ€§ã€‚ä½†ä¼šå ç”¨å¤§é‡å­˜å‚¨ç©ºé—´ã€‚</p><p>è¶‹åŠ¿æ•°æ®ä¼šå·²ä¸€å°æ—¶å†…çš„æ‰€æœ‰å†å²æ•°æ®è¿›è¡Œå¹³å‡å€¼è®¡ç®—å­˜å‚¨æ•°æ®ï¼Œå¤§é‡å‡å°‘å­˜å‚¨ç©ºé—´ï¼Œå¯ä»¥è¾ƒä¸ºå‡†ç¡®çš„è·å–æ•°å€¼ã€‚ä½†ä¼šå¤±å»æ•°å€¼çš„ç²¾ç¡®å€¼ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.zabbix.com/documentation/6.0/zh/manual/config/items/history_and_trends">å†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ® (zabbix.com)</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li><li><a href="https://songxwn.com/Juniper_RE-Protect/">Juniper REé˜²æŠ¤-è¿‡æ»¤SSH&Telnetç™»å½•</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>Zabbix</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>Zabbix</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MariaDB Galera Cluster 10.6 é›†ç¾¤éƒ¨ç½²</title>
    <link href="/MariaDB_Galera_Cluster/"/>
    <url>/MariaDB_Galera_Cluster/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p><img src="https://s3.bmp.ovh/imgs/2023/04/02/1342a2c99e7d1161.png" srcset="/img/loading.gif" lazyload></p><p>MariaDB Galera Cluster æ˜¯ MariaDB çš„<a href="https://mariadb.com/kb/en/about-galera-replication/">è™šæ‹ŸåŒæ­¥</a>å¤šä¸»é›†ç¾¤ã€‚å®ƒä»…åœ¨Linuxä¸Šå¯ç”¨ï¼Œå¹¶ä¸”ä»…æ”¯æŒ<a href="https://mariadb.com/kb/en/innodb/">InnoDB</a>å­˜å‚¨å¼•æ“ï¼ˆå°½ç®¡æœ‰ å¯¹<a href="https://mariadb.com/kb/en/myisam/">MyISAM</a>å’Œ<a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>çš„<a href="https://mariadb.com/kb/en/aria/">Aria</a>çš„å®éªŒæ€§æ”¯æŒã€‚è¯·å‚é˜…<a href="https://mariadb.com/kb/en/galera-cluster-system-variables/#wsrep_replicate_myisam">wsrep_replicate_myisam</a>ç³»ç»Ÿå˜é‡ï¼Œæˆ–è€…ä»Â <a href="https://mariadb.com/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>Â å¼€å§‹ï¼Œ<a href="https://mariadb.com/kb/en/galera-cluster-system-variables/#wsrep_mode">wsrep_mode</a>ç³»ç»Ÿå˜é‡ï¼‰ã€‚</p><p>ä¸ªäººä¸ºäº†æ›¿ä»£ä¸»ä»å¤åˆ¶è€Œä½¿ç”¨ã€‚</p><span id="more"></span><h2 id="ç‰¹å¾"><a href="#ç‰¹å¾" class="headerlink" title="ç‰¹å¾"></a>ç‰¹å¾</h2><ul><li><a href="https://mariadb.com/kb/en/about-galera-replication/">å‡ ä¹åŒæ­¥å¤åˆ¶</a></li><li>ä¸»åŠ¨-ä¸»åŠ¨å¤šä¸»æ‹“æ‰‘</li><li>è¯»å–å’Œå†™å…¥ä»»ä½•ç¾¤é›†èŠ‚ç‚¹</li><li>è‡ªåŠ¨æˆå‘˜èµ„æ ¼æ§åˆ¶ï¼Œæ•…éšœèŠ‚ç‚¹ä»ç¾¤é›†ä¸­åˆ é™¤</li><li>è‡ªåŠ¨èŠ‚ç‚¹è¿æ¥</li><li>è¡Œçº§åˆ«çš„çœŸæ­£å¹¶è¡Œå¤åˆ¶</li><li>ç›´æ¥å®¢æˆ·ç«¯è¿æ¥ï¼Œæœ¬æœºMariaDBçš„å¤–è§‚å’Œæ„Ÿè§‰</li></ul><h2 id="å¥½å¤„"><a href="#å¥½å¤„" class="headerlink" title="å¥½å¤„"></a>å¥½å¤„</h2><p>ä¸Šè¿°åŠŸèƒ½ä¸º DBMS ç¾¤é›†è§£å†³æ–¹æ¡ˆå¸¦æ¥äº†å‡ ä¸ªå¥½å¤„ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>æ— å‰¯æœ¬æ»å</li><li>æ²¡æœ‰ä¸¢å¤±äº¤æ˜“</li><li>è¯»å–å¯ä¼¸ç¼©æ€§</li><li>è¾ƒå°çš„å®¢æˆ·ç«¯å»¶è¿Ÿ</li></ul><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><ul><li>åŠ å…¥æ–°èŠ‚ç‚¹æ—¶å¼€é”€å¤§,éœ€è¦å¤åˆ¶å®Œæ•´æ•°æ®</li><li>ä¸èƒ½æœ‰æ•ˆåœ°è§£å†³å†™æ‰©å±•çš„é—®é¢˜,æ‰€æœ‰çš„å†™æ“ä½œéƒ½å‘ç”Ÿåœ¨æ‰€æœ‰çš„èŠ‚ç‚¹</li><li>æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹,å°±æœ‰å¤šå°‘ä»½é‡å¤çš„æ•°æ®</li><li>ç”±äºäº‹åŠ¡æäº¤éœ€è¦è·¨èŠ‚ç‚¹é€šä¿¡,å³æ¶‰åŠåˆ†å¸ƒå¼äº‹åŠ¡æ“ä½œ,å› æ­¤å†™å…¥ä¼šæ¯”ä¸»ä»å¤åˆ¶æ…¢å¾ˆå¤š,èŠ‚ç‚¹è¶Šå¤š,å†™å…¥è¶Šæ…¢,æ­»é”å’Œå›æ»šä¹Ÿä¼šæ›´åŠ é¢‘ç¹;</li><li>å¯¹ç½‘ç»œè¦æ±‚æ¯”è¾ƒé«˜,å¦‚æœç½‘ç»œå‡ºç°æ³¢åŠ¨ä¸ç¨³å®š,åˆ™å¯èƒ½ä¼šé€ æˆä¸¤ä¸ªèŠ‚ç‚¹å¤±è”,Galera Clusteré›†ç¾¤ä¼šå‘ç”Ÿè„‘è£‚,æœåŠ¡å°†ä¸å¯ç”¨</li><li>ä»…æ”¯æŒInnoDB&#x2F;XtraDBå­˜å‚¨å¼•æ“,ä»»ä½•å†™å…¥å…¶ä»–å¼•æ“çš„è¡¨,åŒ…æ‹¬mysql.*è¡¨éƒ½ä¸ä¼šè¢«å¤åˆ¶,DDLè¯­å¥å¯ä»¥å¤åˆ¶,ä½†æ˜¯insert into mysql.user(MyISAMå­˜å‚¨å¼•æ“)ä¹‹ç±»çš„æ’å…¥æ•°æ®ä¸ä¼šè¢«å¤åˆ¶</li><li>Deleteæ“ä½œä¸æ”¯æŒæ²¡æœ‰ä¸»é”®çš„è¡¨,å› ä¸ºæ²¡æœ‰ä¸»é”®çš„è¡¨åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šçš„é¡ºåºä¸åŒ,å¦‚æœæ‰§è¡Œselect â€¦ limit â€¦å°†å‡ºç°ä¸åŒçš„ç»“æœé›†</li><li>æ•´ä¸ªé›†ç¾¤çš„å†™å…¥ååé‡å–å†³äºæœ€å¼±çš„èŠ‚ç‚¹é™åˆ¶,é›†ç¾¤è¦ä½¿ç”¨åŒä¸€çš„é…ç½®</li></ul><h1 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h1><p>Mariadb ç‰ˆæœ¬ 10.6 ï¼ˆ<a href="https://mariadb.org/about/#maintenance-policy">LTSç‰ˆæœ¬</a>ã€ä¸MySQL 8 å…¼å®¹æ€§ç›¸å¯¹è¾ƒå¥½ï¼‰</p><p>Galera ç‰ˆæœ¬ 4 ï¼ˆå¯¹åº”10.6ï¼‰</p><p>Rocky Linux 8ï¼ˆå…³é—­ SELINUXï¼‰</p><p>å…³é—­é˜²ç«å¢™</p><h1 id="å®‰è£…è§„åˆ’"><a href="#å®‰è£…è§„åˆ’" class="headerlink" title="å®‰è£…è§„åˆ’"></a>å®‰è£…è§„åˆ’</h1><table><thead><tr><th align="left">æœåŠ¡å™¨åå­—</th><th align="left">IPè§„åˆ’</th></tr></thead><tbody><tr><td align="left">mariadb1</td><td align="left">100.64.128.201</td></tr><tr><td align="left">mariadb2</td><td align="left">100.64.128.202</td></tr><tr><td align="left">mariadb3</td><td align="left">100.64.128.203</td></tr></tbody></table><h1 id="å®‰è£…-æ¯å°æœåŠ¡å™¨éƒ½è¦é…ç½®å®‰è£…"><a href="#å®‰è£…-æ¯å°æœåŠ¡å™¨éƒ½è¦é…ç½®å®‰è£…" class="headerlink" title="å®‰è£…(æ¯å°æœåŠ¡å™¨éƒ½è¦é…ç½®å®‰è£…)"></a>å®‰è£…(æ¯å°æœåŠ¡å™¨éƒ½è¦é…ç½®å®‰è£…)</h1><h2 id="å…³é—­SElinux-å…³é—­é˜²ç«å¢™"><a href="#å…³é—­SElinux-å…³é—­é˜²ç«å¢™" class="headerlink" title="å…³é—­SElinux å…³é—­é˜²ç«å¢™"></a>å…³é—­SElinux å…³é—­é˜²ç«å¢™</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">systemctl <span class="hljs-built_in">disable</span> --now firewalld<br>sed -i <span class="hljs-string">&#x27;s/^SELINUX=enforcing$/SELINUX=disabled/&#x27;</span> /etc/selinux<span class="hljs-built_in">/config </span>&amp;&amp; setenforce 0<br><br></code></pre></td></tr></table></figure><h2 id="æ·»åŠ yumæº"><a href="#æ·»åŠ yumæº" class="headerlink" title="æ·»åŠ yumæº"></a>æ·»åŠ yumæº</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cat</span> &gt; /etc/yum.repos.d/mariadb.repo &lt;&lt;EOF<span class="hljs-meta"></span><br><span class="hljs-meta">[mariadb]</span><br><span class="hljs-attribute">name</span> = MariaDB<br><span class="hljs-attribute">baseurl</span> = https://mirrors.cloud.tencent.com/mariadb/yum/<span class="hljs-number">10</span>.<span class="hljs-number">6</span>/centos8-amd64<br><span class="hljs-attribute">module_hotfixes</span>=<span class="hljs-number">1</span><br><span class="hljs-attribute">gpgkey</span>=https://mirrors.cloud.tencent.com/mariadb/yum/RPM-GPG-KEY-MariaDB<br><span class="hljs-attribute">gpgcheck</span>=<span class="hljs-number">1</span><br><span class="hljs-attribute">EOF</span><br><br><span class="hljs-comment">## æ³¨æ„ï¼Œä½¿ç”¨äº†è…¾è®¯äº‘é•œåƒæºï¼Œmariadb 10.6</span><br><br></code></pre></td></tr></table></figure><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs axapta">yum install -y MariaDB-<span class="hljs-keyword">server</span> MariaDB-<span class="hljs-keyword">client</span> MariaDB-backup rsync galera<span class="hljs-number">-4</span><br><br><br><span class="hljs-meta">## å®‰è£…æ•°æ®åº“å’Œgalera</span><br><br></code></pre></td></tr></table></figure><h1 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h1><p>åœ¨RHELï¼ŒCentOSå’ŒSLESä¸Šï¼ŒMariaDBçš„è½¯ä»¶åŒ…æ†ç»‘äº†ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼š</p><ul><li><code>/etc/my.cnf</code></li><li><code>/etc/my.cnf.d/client.cnf</code></li><li><code>/etc/my.cnf.d/mysql-clients.cnf</code></li><li><code>/etc/my.cnf.d/server.cnf</code></li></ul><p>åœ¨ RHELã€CentOS å’Œ SLES ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè¯»å–ä»¥ä¸‹ç›®å½•ä¸­çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼š</p><ul><li><code>/etc/my.cnf.d/</code></li></ul><h2 id="æ€§èƒ½ä¼˜åŒ–å’Œç¼–ç é…ç½®ï¼ˆå¯å¿½ç•¥ï¼‰"><a href="#æ€§èƒ½ä¼˜åŒ–å’Œç¼–ç é…ç½®ï¼ˆå¯å¿½ç•¥ï¼‰" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–å’Œç¼–ç é…ç½®ï¼ˆå¯å¿½ç•¥ï¼‰"></a>æ€§èƒ½ä¼˜åŒ–å’Œç¼–ç é…ç½®ï¼ˆå¯å¿½ç•¥ï¼‰</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs abnf">vim /etc/my.cnf.d/server.cnf<br><br>[mysqld]<br>max_connections <span class="hljs-operator">=</span> <span class="hljs-number">4096</span><br>max_allowed_packet <span class="hljs-operator">=</span> <span class="hljs-number">128</span>M<br><br><span class="hljs-attribute">character-set-server</span> <span class="hljs-operator">=</span> utf8mb4<br><span class="hljs-attribute">collation-server</span> <span class="hljs-operator">=</span> utf8mb4_general_ci<br><br>innodb_buffer_pool_size <span class="hljs-operator">=</span> <span class="hljs-number">4</span>G<br>innodb_io_capacity <span class="hljs-operator">=</span> <span class="hljs-number">300</span><br><br>thread_cache_size<span class="hljs-operator">=</span><span class="hljs-number">64</span><br>thread_concurrency<span class="hljs-operator">=</span><span class="hljs-number">24</span><br><br>log_error                <span class="hljs-operator">=</span> mariadbd.err<br><br></code></pre></td></tr></table></figure><ul><li>æ€§èƒ½ä¼˜åŒ–é…ç½®ï¼Œæ¯å°æœåŠ¡å™¨å¯ä¸€æ ·</li><li>éœ€è¦æ ¹æ®è‡ªå·±çš„ç¡¬ä»¶é…ç½®è¿›è¡Œè°ƒæ•´ï¼Œä¸Šè¿°é…ç½®è¦æ±‚å†…å­˜å¤§äº4G.</li><li>innodb_buffer_pool_instancesåœ¨10.6ä¸­å·²åˆ é™¤</li><li>innodb_io_capacityé»˜è®¤ä¸º200</li></ul><h2 id="é›†ç¾¤é…ç½®"><a href="#é›†ç¾¤é…ç½®" class="headerlink" title="é›†ç¾¤é…ç½®"></a>é›†ç¾¤é…ç½®</h2><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[galera]</span><br><span class="hljs-comment"># Cluster Configuration</span><br><span class="hljs-attr">wsrep_on</span>=<span class="hljs-literal">ON</span><br><span class="hljs-attr">wsrep_provider</span>=/usr/lib64/galera-<span class="hljs-number">4</span>/libgalera_smm.so<br><span class="hljs-attr">wsrep_cluster_name</span>=JOJO1<br><span class="hljs-attr">wsrep_cluster_address</span>=<span class="hljs-string">&quot;gcomm://100.64.128.201,100.64.128.202,100.64.128.203&quot;</span><br><span class="hljs-attr">wsrep_node_name</span>=<span class="hljs-number">100.64</span>.<span class="hljs-number">128.201</span><br><span class="hljs-attr">wsrep_node_address</span>=<span class="hljs-number">100.64</span>.<span class="hljs-number">128.201</span><br><span class="hljs-comment">#wsrep_provider_options=&quot;gcache.size=300M; gcache.page_size=300M&quot;</span><br><span class="hljs-attr">binlog_format</span>=ROW<br><span class="hljs-attr">innodb_autoinc_lock_mode</span>=<span class="hljs-number">2</span><br><br></code></pre></td></tr></table></figure><ul><li>wsrep_cluster_addresséœ€è¦ä¿®æ”¹åŒ…å«æ‰€æœ‰èŠ‚ç‚¹çš„IPåœ°å€ã€‚</li><li>wsrep_node_name éƒ½ä¿®æ”¹ä¸ºå½“å‰æœåŠ¡å™¨èŠ‚ç‚¹IPåœ°å€å³å¯ã€‚</li></ul><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><table><thead><tr><th align="left">ç³»ç»Ÿå˜é‡&#x2F;é€‰é¡¹</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">wsrep_provider</td><td align="left">è®¾ç½® wsrep æä¾›ç¨‹åºçš„è·¯å¾„ã€‚è¿™æ˜¯æ–‡ä»¶çš„è·¯å¾„ã€‚ã€‚æ¯ä¸ªç‰ˆæœ¬å¯èƒ½ä¸å¤ªä¸€æ ·ã€‚</td></tr><tr><td align="left">wsrep_cluster_address</td><td align="left">å¯åŠ¨æ—¶è¦è¿æ¥åˆ°çš„ç¾¤é›†èŠ‚ç‚¹çš„åœ°å€ã€‚ä¸ºæ¯ä¸ªç¾¤é›†èŠ‚ç‚¹çš„ IP åœ°å€æˆ–åŸŸåçš„é€—å·åˆ†éš”åˆ—è¡¨ã€‚æœ€ä½³åšæ³•æ˜¯åœ¨æ­¤åˆ—è¡¨ä¸­åŒ…æ‹¬æ‰€æœ‰ç¾¤é›†èŠ‚ç‚¹ã€‚æ ¼å¼ï¼š   gcomm:&#x2F;&#x2F;</td></tr><tr><td align="left">wsrep_node_name</td><td align="left">è®¾ç½®å½“å‰èŠ‚ç‚¹åç§°</td></tr><tr><td align="left">wsrep_node_address</td><td align="left">è®¾ç½®å½“å‰èŠ‚ç‚¹çš„IPåœ°å€</td></tr><tr><td align="left">wsrep_cluster_name</td><td align="left">è®¾ç½®ç¾¤é›†çš„é€»è¾‘åç§°ã€‚æ‰€æœ‰ç¾¤é›†èŠ‚ç‚¹ä¸Šå¿…é¡»ç›¸åŒã€‚</td></tr><tr><td align="left">binlog_format</td><td align="left">è®¾ç½®ä¸ºROW ï¼ŒMariaDB Galera Cluster ä¸æ”¯æŒå…¶ä»–äºŒè¿›åˆ¶æ—¥å¿—æ ¼å¼ã€‚</td></tr><tr><td align="left">innodb_autoinc_lock_mode</td><td align="left">è®¾ç½®ä¸º 2ï¼ŒMariaDB Galera é›†ç¾¤ä¸æ”¯æŒå…¶ä»–è‡ªåŠ¨å¢é‡é”å®šæ¨¡å¼ã€‚</td></tr><tr><td align="left">wsrep_on</td><td align="left">è®¾ç½®ä¸ºON  ä»¥å¯ç”¨ MariaDB Galera é›†ç¾¤ã€‚</td></tr><tr><td align="left">wsrep_provider_options</td><td align="left">é€‰é¡¹å˜é‡ï¼Œgcache.size &#x3D; 6Gå¯ä»¥æŒ‡å®šç¾¤é›†ç¼“å­˜ï¼Œæé«˜æ€§èƒ½ã€‚</td></tr></tbody></table><h1 id="å¯åŠ¨å’ŒéªŒè¯"><a href="#å¯åŠ¨å’ŒéªŒè¯" class="headerlink" title="å¯åŠ¨å’ŒéªŒè¯"></a>å¯åŠ¨å’ŒéªŒè¯</h1><h2 id="å¼•å¯¼æ–°é›†ç¾¤"><a href="#å¼•å¯¼æ–°é›†ç¾¤" class="headerlink" title="å¼•å¯¼æ–°é›†ç¾¤"></a>å¼•å¯¼æ–°é›†ç¾¤</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># mariadb1  ï¼ˆç¬¬ä¸€ä¸ªå¯åŠ¨çš„éœ€è¦è¿è¡Œgalera_new_cluster è¿›è¡Œå¼•å¯¼ï¼Œå¦‚æœæ‰€ä»¥èŠ‚ç‚¹åŒæ—¶åœæ­¢ï¼Œä¹Ÿéœ€è¦æ­¤å‘½ä»¤ã€‚ï¼‰</span><br><br>galera_new_cluster<br>systemctl <span class="hljs-built_in">enable</span> mariadb<br><br><span class="hljs-comment"># mariadb2</span><br><br>systemctl <span class="hljs-built_in">enable</span> --now mariadb<br><br><span class="hljs-comment"># mariadb3</span><br><br>systemctl <span class="hljs-built_in">enable</span> --now mariadb<br><br></code></pre></td></tr></table></figure><h2 id="éªŒè¯é›†ç¾¤å¯åŠ¨æƒ…å†µ"><a href="#éªŒè¯é›†ç¾¤å¯åŠ¨æƒ…å†µ" class="headerlink" title="éªŒè¯é›†ç¾¤å¯åŠ¨æƒ…å†µ"></a>éªŒè¯é›†ç¾¤å¯åŠ¨æƒ…å†µ</h2><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">mysql -uroot -p -e &quot;SHOW STATUS LIKE <span class="hljs-emphasis">&#x27;wsrep_cluster_size&#x27;</span>&quot;<br><br><br>[root@mariadb1 ~]# mysql -uroot -p -e &quot;SHOW STATUS LIKE <span class="hljs-emphasis">&#x27;wsrep_cluster_size&#x27;</span>&quot;<br><span class="hljs-section">Enter password: </span><br><span class="hljs-section">+--------------------+-------+</span><br><span class="hljs-section">| Variable_name      | Value |</span><br><span class="hljs-section">+--------------------+-------+</span><br><span class="hljs-section">| wsrep_cluster_size | 3     |</span><br><span class="hljs-section">+--------------------+-------+</span><br><br></code></pre></td></tr></table></figure><p>åœ¨ä»»æ„èŠ‚ç‚¹è¿è¡Œï¼ŒæŸ¥çœ‹åœ¨çº¿èŠ‚ç‚¹æ•°é‡ä¸º3å³å¯ã€‚</p><h2 id="éªŒè¯é›†ç¾¤æ•°æ®åŒæ­¥"><a href="#éªŒè¯é›†ç¾¤æ•°æ®åŒæ­¥" class="headerlink" title="éªŒè¯é›†ç¾¤æ•°æ®åŒæ­¥"></a>éªŒè¯é›†ç¾¤æ•°æ®åŒæ­¥</h2><p>åœ¨mariadb1 åˆ›å»ºæ•°æ®åº“</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">mysql -e &quot;<span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> galera_test character <span class="hljs-keyword">set</span> utf8 <span class="hljs-keyword">collate</span> utf8_general_ci;&quot;<br><br></code></pre></td></tr></table></figure><p>åœ¨mariadb2å’Œ3æŸ¥çœ‹æ˜¯å¦åŒæ­¥ã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">mysql</span> -e <span class="hljs-string">&quot;show databases;&quot;</span><br><br></code></pre></td></tr></table></figure><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean">mariadb-secure-installation<br><br>## åˆå§‹åŒ–rootå¯†ç ï¼Œè¿œç¨‹è®¿é—®é…ç½®ï¼Œåˆ é™¤æµ‹è¯•æ•°æ®åº“ç­‰ã€‚<br><br></code></pre></td></tr></table></figure><h1 id="é‡å¯é›†ç¾¤"><a href="#é‡å¯é›†ç¾¤" class="headerlink" title="é‡å¯é›†ç¾¤"></a>é‡å¯é›†ç¾¤</h1><p>MariaDB galera cluster æ‰€æœ‰èŠ‚ç‚¹æœåŠ¡å…¨éƒ¨åœæ­¢åå†æ¬¡å¯åŠ¨ä¼šæŠ¥é”™ï¼Œéœ€è¦æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•å¯åŠ¨é›†ç¾¤ã€‚</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">[root@mariadb1 ~]<span class="hljs-meta"># vim /var/lib/mysql/grastate.dat</span><br><span class="hljs-meta"># GALERA saved state</span><br><span class="hljs-symbol">version:</span> <span class="hljs-number">2.1</span><br><span class="hljs-symbol">uuid:</span>    f4f3025f<span class="hljs-number">-6119</span><span class="hljs-number">-113</span>d<span class="hljs-number">-83e8</span>-ca4b232b71ed<br><span class="hljs-symbol">seqno:</span>   <span class="hljs-number">-1</span><br><span class="hljs-symbol">safe_to_bootstrap:</span> <span class="hljs-number">0</span><br><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹safe_to_bootstrapå‚æ•°æ”¹ä¸º1ï¼Œç„¶ååœ¨è¯¥èŠ‚ç‚¹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åå‚æ•°ä¼šè¢«é‡æ–°ç½®ä¸º0ï¼š</p><p>ä¹Ÿå¯ä»¥ç›´æ¥åˆ é™¤æ­¤æ–‡ä»¶å³å¯ã€‚</p><p>mariadb1 ï¼ˆç¬¬ä¸€ä¸ªå¯åŠ¨çš„èŠ‚ç‚¹ï¼‰</p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">galer<span class="hljs-built_in">a_new</span>_cluster<br><br></code></pre></td></tr></table></figure><p>mariadb2å’Œ3 ï¼ˆå…¶ä»–èŠ‚ç‚¹ï¼‰</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">systemctl <span class="hljs-literal">start</span> mariadb<br><br></code></pre></td></tr></table></figure><h1 id="é›†ç¾¤çŠ¶æ€æŸ¥çœ‹ï¼ˆå¥åº·æ£€æŸ¥ï¼‰"><a href="#é›†ç¾¤çŠ¶æ€æŸ¥çœ‹ï¼ˆå¥åº·æ£€æŸ¥ï¼‰" class="headerlink" title="é›†ç¾¤çŠ¶æ€æŸ¥çœ‹ï¼ˆå¥åº·æ£€æŸ¥ï¼‰"></a>é›†ç¾¤çŠ¶æ€æŸ¥çœ‹ï¼ˆå¥åº·æ£€æŸ¥ï¼‰</h1><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">[root<span class="hljs-meta">@localhost</span> ~]<span class="hljs-comment"># mysql </span><br>Welcome to the MariaDB monitor.  Commands end with ; or \g.<br>Your MariaDB connection id is 13<br>Server version: 10.6.12-MariaDB MariaDB Server<br><br>Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.<br><br>Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.<br><br>MariaDB [(none)]&gt; SHOW GLOBAL STATUS LIKE &#x27;wsrep_%&#x27;;<br>+-------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+<br>|<span class="hljs-string"> Variable_name                 </span>|<span class="hljs-string"> Value                                                                                                                                          </span>|<br>+-------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+<br>|<span class="hljs-string"> wsrep_local_state_uuid        </span>|<span class="hljs-string"> eb507a9d-cf73-11ed-aa89-df688f9a9d63                                                                                                           </span>|<br>|<span class="hljs-string"> wsrep_protocol_version        </span>|<span class="hljs-string"> 10                                                                                                                                             </span>|<br>|<span class="hljs-string"> wsrep_last_committed          </span>|<span class="hljs-string"> 3                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_replicated              </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_replicated_bytes        </span>|<span class="hljs-string"> 512                                                                                                                                            </span>|<br>|<span class="hljs-string"> wsrep_repl_keys               </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_repl_keys_bytes         </span>|<span class="hljs-string"> 32                                                                                                                                             </span>|<br>|<span class="hljs-string"> wsrep_repl_data_bytes         </span>|<span class="hljs-string"> 409                                                                                                                                            </span>|<br>|<span class="hljs-string"> wsrep_repl_other_bytes        </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_received                </span>|<span class="hljs-string"> 6                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_received_bytes          </span>|<span class="hljs-string"> 510                                                                                                                                            </span>|<br>|<span class="hljs-string"> wsrep_local_commits           </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_cert_failures     </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_replays           </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_send_queue        </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_send_queue_max    </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_send_queue_min    </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_send_queue_avg    </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_recv_queue        </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_recv_queue_max    </span>|<span class="hljs-string"> 2                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_recv_queue_min    </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_recv_queue_avg    </span>|<span class="hljs-string"> 0.166667                                                                                                                                       </span>|<br>|<span class="hljs-string"> wsrep_local_cached_downto     </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_flow_control_paused_ns  </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_flow_control_paused     </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_flow_control_sent       </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_flow_control_recv       </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_flow_control_active     </span>|<span class="hljs-string"> false                                                                                                                                          </span>|<br>|<span class="hljs-string"> wsrep_flow_control_requested  </span>|<span class="hljs-string"> false                                                                                                                                          </span>|<br>|<span class="hljs-string"> wsrep_cert_deps_distance      </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_apply_oooe              </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_apply_oool              </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_apply_window            </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_apply_waits             </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_commit_oooe             </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_commit_oool             </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_commit_window           </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_state             </span>|<span class="hljs-string"> 4                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_state_comment     </span>|<span class="hljs-string"> Synced                                                                                                                                         </span>|<br>|<span class="hljs-string"> wsrep_cert_index_size         </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_causal_reads            </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_cert_interval           </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_open_transactions       </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_open_connections        </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_incoming_addresses      </span>|<span class="hljs-string"> 100.64.128.201:0,100.64.128.203:0                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_cluster_weight          </span>|<span class="hljs-string"> 2                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_desync_count            </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_evs_delayed             </span>|<span class="hljs-string">                                                                                                                                                </span>|<br>|<span class="hljs-string"> wsrep_evs_evict_list          </span>|<span class="hljs-string">                                                                                                                                                </span>|<br>|<span class="hljs-string"> wsrep_evs_repl_latency        </span>|<span class="hljs-string"> 0/0/0/0/0                                                                                                                                      </span>|<br>|<span class="hljs-string"> wsrep_evs_state               </span>|<span class="hljs-string"> OPERATIONAL                                                                                                                                    </span>|<br>|<span class="hljs-string"> wsrep_gcomm_uuid              </span>|<span class="hljs-string"> 55a87cd0-cf72-11ed-b741-f670ec8e21cc                                                                                                           </span>|<br>|<span class="hljs-string"> wsrep_gmcast_segment          </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_applier_thread_count    </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_cluster_capabilities    </span>|<span class="hljs-string">                                                                                                                                                </span>|<br>|<span class="hljs-string"> wsrep_cluster_conf_id         </span>|<span class="hljs-string"> 2                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_cluster_size            </span>|<span class="hljs-string"> 2                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_cluster_state_uuid      </span>|<span class="hljs-string"> eb507a9d-cf73-11ed-aa89-df688f9a9d63                                                                                                           </span>|<br>|<span class="hljs-string"> wsrep_cluster_status          </span>|<span class="hljs-string"> Primary                                                                                                                                        </span>|<br>|<span class="hljs-string"> wsrep_connected               </span>|<span class="hljs-string"> ON                                                                                                                                             </span>|<br>|<span class="hljs-string"> wsrep_local_bf_aborts         </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_local_index             </span>|<span class="hljs-string"> 0                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_provider_capabilities   </span>|<span class="hljs-string"> :MULTI_MASTER:CERTIFICATION:PARALLEL_APPLYING:TRX_REPLAY:ISOLATION:PAUSE:CAUSAL_READS:INCREMENTAL_WRITESET:UNORDERED:PREORDERED:STREAMING:NBO: </span>|<br>|<span class="hljs-string"> wsrep_provider_name           </span>|<span class="hljs-string"> Galera                                                                                                                                         </span>|<br>|<span class="hljs-string"> wsrep_provider_vendor         </span>|<span class="hljs-string"> Codership Oy &lt;info@codership.com&gt;                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_provider_version        </span>|<span class="hljs-string"> 26.4.14(r06a0c285)                                                                                                                             </span>|<br>|<span class="hljs-string"> wsrep_ready                   </span>|<span class="hljs-string"> ON                                                                                                                                             </span>|<br>|<span class="hljs-string"> wsrep_rollbacker_thread_count </span>|<span class="hljs-string"> 1                                                                                                                                              </span>|<br>|<span class="hljs-string"> wsrep_thread_count            </span>|<span class="hljs-string"> 2                                                                                                                                              </span>|<br>+-------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+<br><br><br></code></pre></td></tr></table></figure><ul><li>wsrep_local_index &#x3D; 2 åœ¨é›†ç¾¤ä¸­çš„ç´¢å¼•å€¼</li><li>wsrep_readyä¸ºONï¼Œè¡¨ç¤ºé›†ç¾¤æ­£å¸¸è¿è¡Œã€‚</li><li>wsrep_cluster_statusä¸ºPrimaryï¼Œè¡¨ç¤ºèŠ‚ç‚¹ä¸ºä¸»èŠ‚ç‚¹ï¼Œæ­£å¸¸è¯»å†™ã€‚</li><li>wsrep_connected: å¦‚æœè¯¥å€¼ä¸ºOff,ä¸”wsrep_readyçš„å€¼ä¹Ÿä¸ºOff,åˆ™è¯´æ˜è¯¥èŠ‚ç‚¹æ²¡æœ‰è¿æ¥åˆ°é›†ç¾¤</li><li>wsrep_cluster_sizeä¸º3ï¼Œè¡¨ç¤ºé›†ç¾¤æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ã€‚</li><li>wsrep_cluster_state_uuid:åœ¨é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹çš„å€¼åº”è¯¥æ˜¯ç›¸åŒçš„,æœ‰ä¸åŒå€¼çš„èŠ‚ç‚¹,è¯´æ˜å…¶æ²¡æœ‰è¿æ¥å…¥é›†ç¾¤ã€‚</li><li>wsrep_cluster_conf_id:æ­£å¸¸æƒ…å†µä¸‹æ‰€æœ‰èŠ‚ç‚¹ä¸Šè¯¥å€¼æ˜¯ä¸€æ ·çš„.å¦‚æœå€¼ä¸åŒ,è¯´æ˜è¯¥èŠ‚ç‚¹è¢«ä¸´æ—¶â€åˆ†åŒºâ€äº†.å½“èŠ‚ç‚¹ä¹‹é—´ç½‘ç»œè¿æ¥æ¢å¤çš„æ—¶å€™åº”è¯¥ä¼šæ¢å¤ä¸€æ ·çš„å€¼ã€‚</li><li>wsrep_flow_control_paused:è¡¨ç¤ºå¤åˆ¶åœæ­¢äº†å¤šé•¿æ—¶é—´.å³è¡¨æ˜é›†ç¾¤å› ä¸ºSlaveå»¶è¿Ÿè€Œæ…¢çš„ç¨‹åº¦.å€¼ä¸º0~1,è¶Šé è¿‘0è¶Šå¥½,å€¼ä¸º1è¡¨ç¤ºå¤åˆ¶å®Œå…¨åœæ­¢.å¯ä¼˜åŒ–wsrep_slave_threadsçš„å€¼æ¥æ”¹å–„.</li><li>wsrep_flow_control_sent:è¡¨ç¤ºè¯¥èŠ‚ç‚¹å·²ç»åœæ­¢å¤åˆ¶äº†å¤šå°‘æ¬¡.</li><li>wsrep_incoming_addressesï¼šä»£è¡¨æ‰€æœ‰èŠ‚ç‚¹çš„IPåœ°å€</li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://blog.csdn.net/qq_35506960/article/details/120844297">https://blog.csdn.net/qq_35506960/article/details/120844297</a> </p><p><a href="https://mariadb.com/docs/server/deploy/community-cluster-cs10-6/">https://mariadb.com/docs/server/deploy/community-cluster-cs10-6/</a> </p><p><a href="https://dev.mysql.com/doc/refman/8.0/ja/innodb-configuring-io-capacity.html">https://dev.mysql.com/doc/refman/8.0/ja/innodb-configuring-io-capacity.html</a> </p><p><a href="https://mariadb.com/kb/en/what-is-mariadb-galera-cluster/">https://mariadb.com/kb/en/what-is-mariadb-galera-cluster/</a> </p><p><a href="https://mariadb.com/kb/en/getting-started-with-mariadb-galera-cluster/">https://mariadb.com/kb/en/getting-started-with-mariadb-galera-cluster/</a> </p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Elasticsearch-x-pack-core/">Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</a></li><li><a href="https://songxwn.com/Linux-growpart/">Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</a></li><li><a href="https://songxwn.com/elk_cluster/">Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>mariadb</tag>
      
      <tag>cluster</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</title>
    <link href="/ospf-route-FA/"/>
    <url>/ospf-route-FA/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ¬æ–‡ç« åŒ…æ‹¬å¤šè¿›ç¨‹ã€BGPè”åŠ¨é—®é¢˜ï¼ˆå»¶è¿Ÿæ”¶æ•›ï¼‰ã€FAåœ°å€ã€‚</p><p>æœ¬æ•™ç¨‹å‚è€ƒåä¸ºè®¤è¯ç³»åˆ—PPTã€‚</p><span id="more"></span><h1 id="OSPF-å¤šè¿›ç¨‹"><a href="#OSPF-å¤šè¿›ç¨‹" class="headerlink" title="OSPF å¤šè¿›ç¨‹"></a>OSPF å¤šè¿›ç¨‹</h1><ul><li>OSPFæ”¯æŒå¤šè¿›ç¨‹ï¼Œåœ¨åŒä¸€å°è·¯ç”±å™¨ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªä¸åŒçš„OSPFè¿›ç¨‹ï¼Œå®ƒä»¬ä¹‹é—´äº’ä¸å½±å“ï¼Œå½¼æ­¤ç‹¬ç«‹ã€‚ä¸åŒOSPFè¿›ç¨‹ä¹‹é—´çš„è·¯ç”±äº¤äº’ç›¸å½“äºä¸åŒè·¯ç”±åè®®ä¹‹é—´çš„è·¯ç”±äº¤äº’ã€‚</li><li>è·¯ç”±å™¨çš„ä¸€ä¸ªæ¥å£åªèƒ½å±äºæŸä¸€ä¸ªOSPFè¿›ç¨‹ã€‚</li></ul><p><img src="https://s3.bmp.ovh/imgs/2023/03/27/f5049d99b6316e39.png" srcset="/img/loading.gif" lazyload></p><ul><li>åº”ç”¨åœºæ™¯ï¼š</li><li>OSPFå¤šè¿›ç¨‹çš„ä¸€ä¸ªå…¸å‹åº”ç”¨å°±æ˜¯åœ¨VPNåœºæ™¯ã€‚</li><li>å¦‚å›¾ï¼ŒåŒä¸€å°PEè®¾å¤‡è¿æ¥äº†ä¸¤ä¸ªä¸åŒçš„VPNå®¢æˆ·ï¼Œå¹¶ä¸”PEå’ŒCEä¹‹é—´å‡éƒ¨ç½²OSPFï¼Œå› æ­¤å¯ä»¥é€šè¿‡åœ¨PEè®¾å¤‡ä¸Šéƒ¨ç½²å¤šè¿›ç¨‹å®ç°VPNå®¢æˆ·ä¹‹é—´çš„éš”ç¦»ã€‚</li></ul><p>PSï¼š</p><ul><li>VPNï¼šVirtual Private Networkï¼Œè™šæ‹Ÿä¸“ç”¨ç½‘ç»œã€‚è¿™é‡Œå•æŒ‡MPLS VPN</li><li>åˆ›å»ºOSPFè¿›ç¨‹æ—¶ï¼Œå¦‚æœæŒ‡å®šäº†VPNå®ä¾‹ï¼Œé‚£ä¹ˆOSPFè¿›ç¨‹å±äºæ­¤å®ä¾‹ï¼Œå¦åˆ™å±äºå…¨å±€å®ä¾‹ (è·¯ç”±è¡¨)ã€‚</li><li>OSPFçš„è¿›ç¨‹å·ä»…æœ‰æœ¬åœ°æ„ä¹‰ã€‚OSPFv3å¯ä»¥é…ç½®å®ä¾‹IDï¼Œé€šè¿‡æŠ¥æ–‡åŒºåˆ†ã€‚</li></ul><h1 id="OSPFä¸BGPè”åŠ¨ï¼ˆç­‰å¾…æ”¶æ•›ï¼‰"><a href="#OSPFä¸BGPè”åŠ¨ï¼ˆç­‰å¾…æ”¶æ•›ï¼‰" class="headerlink" title="OSPFä¸BGPè”åŠ¨ï¼ˆç­‰å¾…æ”¶æ•›ï¼‰"></a>OSPFä¸BGPè”åŠ¨ï¼ˆç­‰å¾…æ”¶æ•›ï¼‰</h1><h2 id="ç°è±¡è¯´æ˜"><a href="#ç°è±¡è¯´æ˜" class="headerlink" title="ç°è±¡è¯´æ˜"></a>ç°è±¡è¯´æ˜</h2><ul><li>å½“æœ‰æ–°çš„è®¾å¤‡åŠ å…¥åˆ°ç½‘ç»œä¸­ï¼Œæˆ–è€…è®¾å¤‡é‡å¯æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°åœ¨BGPæ”¶æ•›æœŸé—´å†…ç½‘ç»œæµé‡ä¸¢å¤±çš„ç°è±¡ã€‚è¿™æ˜¯IGPæ”¶æ•›é€Ÿåº¦æ¯”BGPå¿«é€ æˆçš„ã€‚</li><li>å½“OSPFæ”¶æ•›å®Œæˆçš„æ—¶å€™ï¼ŒBGPå¹¶æ²¡æœ‰æ”¶æ•›å®Œæˆï¼Œé€ æˆè·¯ç”±é»‘æ´ï¼Œè€ŒOSPFæ”¶æ•›å®Œæˆåä¼šæŠŠæµé‡å¼•ç”¨è¿‡æ¥ï¼Œå¯¼è‡´ä¸¢åŒ…ã€‚</li></ul><p>R1ã€R2ã€R3å’ŒR4è¿è¡ŒOSPFï¼Œå¹¶å»ºç«‹IBGPå…¨äº’è”ã€‚å…¶ä¸­R3æ˜¯R2çš„å¤‡ä»½è®¾å¤‡ã€‚</p><p>å½“ç½‘ç»œç¯å¢ƒç¨³å®šæ—¶ï¼ŒR1è®¿é—®10.1.5.5&#x2F;32çš„æµé‡è·¯å¾„ä¸ºï¼šR1-R2-R4-R5ã€‚</p><p><img src="https://i.328888.xyz/2023/03/27/iUpELX.png" srcset="/img/loading.gif" lazyload></p><ol><li>å½“R2æ•…éšœæ—¶ï¼Œæµé‡è·¯å¾„åˆ‡æ¢åˆ°ï¼šR1-R3-R4-R5ã€‚</li><li>å½“R2æ•…éšœæ¢å¤åï¼Œç”±äºIGPæ”¶æ•›é€Ÿåº¦æ¯”BGPå¿«ï¼Œå› æ­¤OSPFå…ˆæ”¶æ•›ã€‚æ­¤æ—¶R1è‹¥è¦è®¿é—®10.1.5.5&#x2F;32ï¼Œå…ˆæŸ¥BGPè·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºR5ï¼›å†æŸ¥IGPè·¯ç”±ï¼Œä¼šæ ¹æ®IGPè·¯ç”±ä¼ é€’ç»™R2ã€‚</li><li>R2æ”¶åˆ°è¯¥æµé‡åï¼Œä¼šæŸ¥BGPè·¯ç”±ã€‚ç”±äºBGPè¿˜æœªå®Œæˆæ”¶æ•›ï¼Œå‘ç°æ²¡æœ‰åˆ°è¾¾10.1.5.5&#x2F;32çš„è·¯ç”±ï¼Œåˆ™ä¸ä¼šè½¬å‘æ•°æ®ï¼Œé€ æˆæµé‡ä¸¢å¤±ã€‚</li></ol><h2 id="è§£å†³BGPæ”¶æ•›æ…¢å¯¼è‡´è·¯ç”±é»‘æ´çš„è§£å†³é…ç½®"><a href="#è§£å†³BGPæ”¶æ•›æ…¢å¯¼è‡´è·¯ç”±é»‘æ´çš„è§£å†³é…ç½®" class="headerlink" title="è§£å†³BGPæ”¶æ•›æ…¢å¯¼è‡´è·¯ç”±é»‘æ´çš„è§£å†³é…ç½®"></a>è§£å†³BGPæ”¶æ•›æ…¢å¯¼è‡´è·¯ç”±é»‘æ´çš„è§£å†³é…ç½®</h2><ul><li>é€šè¿‡ä½¿èƒ½OSPFä¸BGPè”åŠ¨ç‰¹æ€§ï¼Œå¯ä»¥è§£å†³æµé‡ä¸¢å¤±é—®é¢˜ã€‚</li><li>ä½¿èƒ½äº†OSPFä¸BGPè”åŠ¨ç‰¹æ€§çš„è®¾å¤‡ä¼šåœ¨è®¾å®šçš„è”åŠ¨æ—¶é—´å†…ä¿æŒä¸ºStubè·¯ç”±å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥è®¾å¤‡å‘å¸ƒçš„LSAä¸­çš„é“¾è·¯åº¦é‡å€¼ä¸ºæœ€å¤§å€¼ï¼ˆ65535ï¼‰ï¼Œä»è€Œå‘ŠçŸ¥å…¶å®ƒOSPFè®¾å¤‡ä¸è¦ä½¿ç”¨è¿™ä¸ªè·¯ç”±å™¨æ¥è½¬å‘æ•°æ®ã€‚</li></ul><p>åœ¨R2ä¸Šä½¿èƒ½BGPè”åŠ¨ï¼Œè¿™æ ·ï¼Œåœ¨BGPæ”¶æ•›å®Œæˆå‰ï¼ŒR1ä¸æŠŠæµé‡è½¬å‘åˆ°R2ä¸Šï¼Œè€Œæ˜¯ç»§ç»­ä½¿ç”¨å¤‡ä»½è®¾å¤‡R3è½¬å‘æµé‡ï¼Œç›´åˆ°R2ä¸Šçš„BGPè·¯ç”±å®Œæˆæ”¶æ•›ã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2023/03/27/11d0bb3427b2e308.png" srcset="/img/loading.gif" lazyload></p><p><strong>é…ç½®Stubè·¯ç”±å™¨ï¼š</strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs csharp">[<span class="hljs-meta">Huawei-ospf-1</span>] stub-routerÂ [<span class="hljs-keyword">on</span>-startupÂ [interval] ]<br>[<span class="hljs-meta">Huawei-ospf-1</span>] stub-routerÂ <span class="hljs-keyword">on</span>-startup <span class="hljs-number">100</span><br><br>é…ç½®Stubè·¯ç”±å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„è·¯ç”±é€‰è·¯ï¼Œé…ç½®äº†Stubè·¯ç”±å™¨çš„è·¯å¾„ä¸è¢«ä¼˜é€‰ã€‚<br>å®ç°æ–¹æ³•æ˜¯å°†åº¦é‡å€¼è®¾ä¸ºæœ€å¤§ï¼ˆ<span class="hljs-number">65535</span>ï¼‰ï¼Œå°½é‡é¿å…æ•°æ®ä»æ­¤è·¯ç”±å™¨è½¬å‘ã€‚ç”¨äºä¿æŠ¤æ­¤è·¯ç”±å™¨é“¾è·¯ï¼Œé€šå¸¸ä½¿ç”¨åœ¨å‡çº§ç­‰ç»´æŠ¤æ“ä½œçš„åœºæ™¯ã€‚<br><br></code></pre></td></tr></table></figure><p>å‘½ä»¤ï¼š[Huawei-ospf-1] stub-routerÂ [Â on-startupÂ [Â intervalÂ ] ]</p><p>on-startup [ interval ]ï¼šè®¾å¤‡åœ¨å‘ç”Ÿé‡å¯æˆ–æ•…éšœæ—¶ä¿æŒä¸ºStubè·¯ç”±å™¨çš„æ—¶é—´é—´éš”ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯5ï½65535ï¼Œå•ä½æ˜¯ç§’ï¼Œç¼ºçœå€¼æ˜¯500ç§’ã€‚</p><p>å¦‚æœæœªé…ç½®on-startupå‚æ•°ï¼Œåˆ™è¡¨ç¤ºè¯¥è®¾å¤‡å§‹ç»ˆä¿æŒä¸ºStubè·¯ç”±å™¨ï¼Œå³æ‰€æœ‰æ¥è‡ªè¿™ä¸ªè®¾å¤‡çš„è·¯ç”±æ¡ç›®Costå€¼å‡è®¾ä¸º65535ã€‚</p><p>å¦‚æœé…ç½®äº†on-startupå‚æ•°ï¼Œåˆ™è¡¨ç¤ºè¯¥è®¾å¤‡ä»…åœ¨é‡å¯æˆ–è€…æ•…éšœæ—¶ä¿æŒä¸ºStubè·¯ç”±å™¨ï¼Œä¿æŒæ—¶é—´ç”±intervalå‚æ•°å†³å®šã€‚æ­¤æ—¶è‹¥æœªé…ç½®intervalå‚æ•°ï¼Œåˆ™ä½¿ç”¨intervalçš„ç¼ºçœå€¼500ç§’ã€‚</p><h1 id="OSPFè½¬å‘åœ°å€-FA"><a href="#OSPFè½¬å‘åœ°å€-FA" class="headerlink" title="OSPFè½¬å‘åœ°å€-FA"></a>OSPFè½¬å‘åœ°å€-FA</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><ul><li>FAï¼ˆForwarding Addressï¼Œè½¬å‘åœ°å€ï¼‰ï¼š</li></ul><blockquote><p>åˆ°è¾¾æ‰€é€šå‘Šçš„ç›®çš„åœ°çš„æ•°æ®åŒ…åº”è¯¥è¢«è½¬å‘åˆ°çš„åœ°å€ï¼Œå¦‚æœè½¬å‘åœ°å€ä¸º0.0.0.0ï¼Œé‚£ä¹ˆæ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°å§‹å‘ASBRä¸Šã€‚</p><p>Type5 AS-External-LSA å’Œ Type7 NSSA LSAï¼š</p></blockquote><p><img src="https://s3.bmp.ovh/imgs/2023/03/27/1cfc6f10f98ee721.png" srcset="/img/loading.gif" lazyload></p><p><strong>æ³¨æ„OSPFçš„Type5 LSAå’ŒType7 LSAä¸­åŒ…å«ä¸€ä¸ªç‰¹åˆ«çš„å­—æ®µFAï¼ŒFAçš„å¼•å…¥ä½¿å¾—OSPFåœ¨æŸäº›ç‰¹æ®Šçš„åœºæ™¯ä¸‹å¯ä»¥é¿å…æ¬¡ä¼˜è·¯å¾„é—®é¢˜ã€‚</strong></p><h2 id="æ²¡æœ‰FAå¼•å‘çš„é—®é¢˜"><a href="#æ²¡æœ‰FAå¼•å‘çš„é—®é¢˜" class="headerlink" title="æ²¡æœ‰FAå¼•å‘çš„é—®é¢˜"></a>æ²¡æœ‰FAå¼•å‘çš„é—®é¢˜</h2><p><img src="https://s3.bmp.ovh/imgs/2023/03/27/6e7710e7d9bac54c.png" srcset="/img/loading.gif" lazyload></p><ul><li>R2ã€R3å’ŒR4è¿è¡ŒOSPFï¼Œå‡éƒ¨ç½²åœ¨Area0ä¸­ã€‚å…¶ä¸­R2å’ŒR3çš„GE0&#x2F;0&#x2F;1æ¥å£éƒ½æ¿€æ´»OSPFå¹¶å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯ä¸¤è€…ä¸å¤–éƒ¨è·¯ç”±å™¨R1å¹¶ä¸å»ºç«‹OSPFé‚»æ¥å…³ç³»ã€‚</li></ul><ol><li>R2é…ç½®åˆ°è¾¾10.1.1.1&#x2F;32çš„é™æ€è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸º10.1.123.1ã€‚</li><li>R2å°†é™æ€è·¯ç”±å¼•å…¥OSPFï¼Œäº§ç”ŸType5 LSAåœ¨åŒºåŸŸå†…æ³›æ´ªã€‚</li><li>R3æ¥æ”¶åˆ°R2äº§ç”Ÿçš„5ç±»LSAï¼Œè®¡ç®—å‡ºåˆ°è¾¾10.1.1.1&#x2F;32çš„å¤–éƒ¨è·¯ç”±ï¼Œå¹¶ä¸”å°†è·¯ç”±çš„ä¸‹ä¸€è·³æŒ‡å®šä¸ºR2ï¼ˆ10.1.123.2ï¼‰ã€‚</li></ol><ul><li>OSPFåŸŸå†…çš„è·¯ç”±å™¨å¦‚R4åˆ°è¾¾10.1.1.1&#x2F;32çš„è·¯å¾„æ˜¯ï¼šR4-R3-R2-R1ï¼Œè¯¥è·¯å¾„æ˜¯æ¬¡ä¼˜è·¯å¾„çš„ã€‚</li></ul><h2 id="åˆ©ç”¨FAè§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜"><a href="#åˆ©ç”¨FAè§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜" class="headerlink" title="åˆ©ç”¨FAè§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜"></a>åˆ©ç”¨FAè§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜</h2><p><img src="https://s3.bmp.ovh/imgs/2023/03/27/02b47167a8e0727b.png" srcset="/img/loading.gif" lazyload></p><ul><li>R2å‘OSPFåŸŸå†…é€šå‘Šåˆ°è¾¾10.1.1.1&#x2F;32çš„å¤–éƒ¨è·¯ç”±æ—¶ï¼Œä¸ºå¯¹åº”çš„Type5 LSAè®¾ç½®FAï¼Œå€¼ä¸ºå…¶è‡ªå·±åˆ°è¾¾è¯¥å¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€è·³ï¼š10.1.123.1ã€‚</li><li>å½“R3æ”¶åˆ°è¯¥LSAåï¼Œè®¡ç®—åˆ°è¾¾10.1.1.1&#x2F;32çš„è·¯ç”±æ—¶ï¼Œå‘ç°FAä¸ºé0ï¼Œå› æ­¤å®ƒè®¤ä¸ºåˆ°è¾¾ç›®æ ‡åœ°å€10.1.1.1&#x2F;32çš„ä¸‹ä¸€è·³ä¸ºFAæ‰€æŒ‡å®šçš„åœ°å€ï¼Œå³ï¼š10.1.123.1ã€‚</li><li>æœ‰FAåœ°å€åè·¯å¾„ï¼šR4-R3-R1</li></ul><h2 id="FAçš„å–å€¼"><a href="#FAçš„å–å€¼" class="headerlink" title="FAçš„å–å€¼"></a>FAçš„å–å€¼</h2><ul><li>å½“ASBRå¼•å…¥å¤–éƒ¨è·¯ç”±æ—¶ï¼Œè‹¥Type5 LSAä¸­çš„FAå­—æ®µä¸º0ï¼Œè¡¨ç¤ºè·¯ç”±å™¨è®¤ä¸ºåˆ°è¾¾ç›®çš„ç½‘æ®µçš„æ•°æ®åŒ…åº”è¯¥å‘å¾€è¯¥ASBRï¼›è‹¥Type5 LSAä¸­çš„FAå­—æ®µä¸ä¸º0ï¼Œè¡¨ç¤ºè·¯ç”±å™¨è®¤ä¸ºåˆ°è¾¾ç›®çš„ç½‘æ®µçš„æ•°æ®åŒ…åº”è¯¥å‘å¾€è¿™ä¸ªFAæ‰€æ ‡è¯†çš„è®¾å¤‡ã€‚</li><li>å½“ä»¥ä¸‹æ¡ä»¶å…¨éƒ¨æ»¡è¶³æ—¶ï¼ŒFAå­—æ®µæ‰å¯ä»¥è¢«è®¾ç½®ä¸ºé0ï¼š</li></ul><blockquote><p>ASBRåœ¨å…¶è¿æ¥å¤–éƒ¨ç½‘ç»œçš„æ¥å£ï¼ˆå¤–éƒ¨è·¯ç”±çš„å‡ºæ¥å£ï¼‰ä¸Šæ¿€æ´»äº†OSPFï¼›</p><p>è¯¥æ¥å£æ²¡æœ‰è¢«é…ç½®ä¸ºSilent-Interfaceï¼›</p><p>è¯¥æ¥å£çš„OSPFç½‘ç»œç±»å‹ä¸ºBroadcastæˆ–NBMAï¼›</p><p>è¯¥æ¥å£çš„IPåœ°å€åœ¨OSPFé…ç½®çš„networkå‘½ä»¤æŒ‡å®šçš„ç½‘æ®µèŒƒå›´å†…ï¼›</p><p>åˆ°è¾¾FAåœ°å€çš„è·¯ç”±å¿…é¡»æ˜¯OSPFåŒºåŸŸå†…éƒ¨è·¯ç”±æˆ–åŒºåŸŸé—´è·¯ç”±ï¼Œè¿™æ ·æ¥æ”¶åˆ°è¯¥å¤–éƒ¨LSAçš„è·¯ç”±å™¨æ‰èƒ½å¤ŸåŠ è½½è¯¥LSAè¿›å…¥è·¯ç”±è¡¨ã€‚åŠ è½½çš„å¤–éƒ¨LSAç”Ÿæˆçš„è·¯ç”±æ¡ç›®ä¸‹ä¸€è·³ä¸åˆ°è¾¾FAåœ°å€çš„ä¸‹ä¸€è·³ç›¸åŒã€‚</p></blockquote><ul><li><strong>NSSAåŒºåŸŸType7 LSAè½¬åŒ–ä¸ºType5 LSAï¼š</strong></li></ul><blockquote><p>ä¸ºäº†å°†NSSAåŒºåŸŸå¼•å…¥çš„å¤–éƒ¨è·¯ç”±å‘å¸ƒåˆ°å…¶å®ƒåŒºåŸŸï¼Œéœ€è¦æŠŠType7 LSAè½¬åŒ–ä¸ºType5 LSAä»¥ä¾¿åœ¨æ•´ä¸ªOSPFç½‘ç»œä¸­é€šå‘Šã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œè½¬æ¢è·¯ç”±å™¨æ˜¯NSSAåŒºåŸŸä¸­Router IDæœ€å¤§çš„åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼ˆABRï¼‰ã€‚</p><p>LSAå¤´éƒ¨Optionså­—æ®µä¸­çš„P-bitï¼ˆPropagate bitï¼‰ç”¨äºå‘ŠçŸ¥è½¬åŒ–è·¯ç”±å™¨è¯¥æ¡Type7 LSAæ˜¯å¦éœ€è¦è½¬åŒ–ä¸ºType5 LSAã€‚åªæœ‰P-bitç½®ä½å¹¶ä¸”FAä¸ä¸º0çš„Type7 LSAæ‰èƒ½è½¬åŒ–ä¸ºType5 LSAã€‚</p><p>åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨äº§ç”Ÿçš„Type7 LSAç¼ºçœè·¯ç”±ä¸ä¼šç½®ä½P-bitã€‚</p></blockquote><p><strong>æ³¨æ„ï¼šæ‰€æœ‰çš„OSPF LSAæœ‰ç›¸åŒçš„LSAå¤´éƒ¨ï¼ŒP-bitåœ¨LSAå¤´éƒ¨ä¸­çš„Optionså­—æ®µã€‚</strong></p><h2 id="æ¡ˆä¾‹ï¼šNSSAåœºæ™¯ä¸‹FAçš„å…¸å‹åº”ç”¨"><a href="#æ¡ˆä¾‹ï¼šNSSAåœºæ™¯ä¸‹FAçš„å…¸å‹åº”ç”¨" class="headerlink" title="æ¡ˆä¾‹ï¼šNSSAåœºæ™¯ä¸‹FAçš„å…¸å‹åº”ç”¨"></a>æ¡ˆä¾‹ï¼šNSSAåœºæ™¯ä¸‹FAçš„å…¸å‹åº”ç”¨</h2><ul><li>å½“NSSAåŒºåŸŸä¸­æœ‰å¤šä¸ªABRæ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®è§„åˆ™è‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªABRä½œä¸ºè½¬æ¢å™¨ï¼Œå°†Type7 LSAè½¬æ¢ä¸ºType5 LSAï¼Œå…¶ä»–ABRä¸åšLSAè½¬æ¢ã€‚</li><li>å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœä¸è€ƒè™‘FAï¼Œç”±äºR3çš„Router IDæ¯”R2å¤§ï¼Œå› æ­¤å®ƒå°†æ‰§è¡Œ7è½¬5çš„åŠ¨ä½œï¼Œå¦‚æ­¤ä¸€æ¥ï¼ŒR1å°†è®¤ä¸ºå¿…é¡»ç»ç”±ABRï¼ˆR3ï¼‰åˆ°è¾¾ç›®çš„ç½‘ç»œã€‚è¿™æ ·ï¼Œæµé‡ä¾¿ä¼šè¢«å¼•å¯¼åˆ°ä½å¸¦å®½é“¾è·¯ï¼Œå³R1-R3-R4-R5ã€‚</li></ul><p><img src="https://s3.bmp.ovh/imgs/2023/03/27/769a5e388cca1a05.png" srcset="/img/loading.gif" lazyload></p><ul><li><strong>å¦‚å›¾æ‰€ç¤ºï¼š</strong></li></ul><blockquote><p>R5å¼•å…¥ç›´è¿å¤–éƒ¨è·¯ç”±ï¼Œä¸”å°†FAè®¾ä¸ºè‡ªå·±è®¿é—®ç›®çš„ç½‘æ®µ10.1.5.0&#x2F;24çš„åœ°å€ï¼š10.1.45.5ã€‚</p><p>R3æ‰§è¡ŒType7 LSAè½¬æ¢Type5 LSAåŠ¨ä½œï¼Œç»§ç»­æºå¸¦FAï¼š10.1.45.5ã€‚</p><p>R1æ”¶åˆ°åï¼Œä¼šåœ¨è‡ªå·±çš„OSPFè·¯ç”±è¡¨ä¸­æŸ¥è¯¢åˆ°è¾¾è¿™ä¸ªFAçš„è·¯ç”±ï¼Œå‘ç°åœ¨OSPFè·¯ç”±è¡¨ä¸­èƒ½å¤Ÿæ‰¾åˆ°åŒ¹é…è¿™ä¸ªFAçš„è·¯ç”±ï¼Œå°±ä½¿ç”¨åˆ°è¾¾è¿™ä¸ªFAçš„ä¸‹ä¸€è·³åœ°å€ä½œä¸ºè¿™æ¡å¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€ã€‚</p><p>å› æ­¤ï¼ŒR1æœ€ç»ˆä¼šé€šè¿‡R1-R2-R4-R5è·¯å¾„ï¼Œè®¿é—®ç›®çš„ç½‘æ®µ10.1.5.0&#x2F;24ã€‚</p></blockquote><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/Juniper_RE-Protect/">Juniper REé˜²æŠ¤-è¿‡æ»¤SSH&Telnetç™»å½•</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>ospf</tag>
      
      <tag>datacom</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Frostmourne (éœœä¹‹å“€ä¼¤)æ—¥å¿—ç›‘æ§ç³»ç»Ÿéƒ¨ç½²å®‰è£…</title>
    <link href="/frostmourne_install/"/>
    <url>/frostmourne_install/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><code>Frostmourne</code>(éœœä¹‹å“€ä¼¤)æ˜¯æ±½è½¦ä¹‹å®¶ç»é”€å•†æŠ€æœ¯éƒ¨ç›‘æ§ç³»ç»Ÿçš„å¼€æºç‰ˆæœ¬ï¼Œç”¨äºå¸®åŠ©ç›‘æ§å‡ ä¹æ‰€æœ‰æ•°æ®åº“æ•°æ®(åŒ…æ‹¬<code>Elasticsearch</code>,Â <code>Prometheus</code>,Â <code>SkyWalking</code>,Â <code>MySql</code>Â ç­‰ç­‰)ã€‚å¦‚æœä½ å·²ç»å»ºç«‹èµ·äº†æ—¥å¿—ç³»ç»Ÿï¼Œ æŒ‡æ ‡ä½“ç³»ï¼Œå´è‹¦æ¼äºæ²¡æœ‰ä¸€ä¸ªé…å¥—ç›‘æ§ç³»ç»Ÿï¼Œä¹Ÿè®¸å®ƒèƒ½å¸®åˆ°ä½ ã€‚</p><p>æ”¯æŒæ•°æ®æºï¼šElasticsearch, HTTP, SkyWalking, Prometheus, InfluxDB, MySQL&#x2F;TiDb, ClickHouse, SqlServer, PING, IotDB, Telnet</p><p>æ”¯æŒå‘Šè­¦å‘é€æ–¹å¼ï¼šé’‰é’‰(æœºå™¨äºº)ã€ä¼ä¸šå¾®ä¿¡(æœºå™¨äºº)ã€é£ä¹¦æœºå™¨äººã€OneMessageæœºå™¨äººã€Emailã€çŸ­ä¿¡ã€HTTPã€‚ï¼ˆtext, markdownï¼‰</p><p>æ”¯æŒLDAPè®¤è¯å’Œè‡ªåŠ¨åˆ›å»ºç”¨æˆ·ã€‚</p><p><code>Elasticsearch</code>æ•°æ®æŸ¥è¯¢ã€åˆ†äº«å’Œä¸‹è½½</p><p>æŠ¥è­¦æ¶ˆæ¯æŠ‘åˆ¶åŠŸèƒ½ï¼Œé˜²æ­¢æ¶ˆæ¯è½°ç‚¸ï¼›ä¹Ÿæœ‰æŠ¥è­¦å‡çº§åŠŸèƒ½ï¼Œé¿å…æ•…éšœç›¸å…³æ–¹é•¿æ—¶é—´å¾—ä¸åˆ°é€šçŸ¥ã€‚</p><span id="more"></span><p>Githubåœ°å€ï¼š<a href="https://github.com/AutohomeCorp/frostmourne">https://github.com/AutohomeCorp/frostmourne</a> </p><p>ç¯å¢ƒè¦æ±‚ï¼šJAVA8-14ã€Mysql 8æ•°æ®åº“ã€‚</p><p>æ•™ç¨‹ä½¿ç”¨Linuxç‰ˆæœ¬ï¼šRocky Linux 8 ï¼ˆå…³é—­SELinuxï¼‰</p><p>ç‰ˆæœ¬ï¼šéƒ¨ç½²1.0ç‰ˆæœ¬</p><p>æ³¨æ„ï¼šç›®å‰ä¸æ”¯æŒES8 çš„åŠ å¯†è®¤è¯ï¼Œéœ€è¦ç­‰åæœŸæ”¯æŒJAVA 17ã€‚</p><h1 id="ä½¿ç”¨ZIPåŒ…éƒ¨ç½²ï¼ˆä½¿ç”¨Linuxç¯å¢ƒï¼‰"><a href="#ä½¿ç”¨ZIPåŒ…éƒ¨ç½²ï¼ˆä½¿ç”¨Linuxç¯å¢ƒï¼‰" class="headerlink" title="ä½¿ç”¨ZIPåŒ…éƒ¨ç½²ï¼ˆä½¿ç”¨Linuxç¯å¢ƒï¼‰"></a>ä½¿ç”¨ZIPåŒ…éƒ¨ç½²ï¼ˆä½¿ç”¨Linuxç¯å¢ƒï¼‰</h1><h2 id="ä¸‹è½½JDKï¼ˆæ¨èä½¿ç”¨JDK8ï¼‰"><a href="#ä¸‹è½½JDKï¼ˆæ¨èä½¿ç”¨JDK8ï¼‰" class="headerlink" title="ä¸‹è½½JDKï¼ˆæ¨èä½¿ç”¨JDK8ï¼‰"></a>ä¸‹è½½JDKï¼ˆæ¨èä½¿ç”¨JDK8ï¼‰</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell"><br>dnf install wget tree<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment"># å®‰è£…wget tree</span></span><br><br>cd /opt<br>mkdir java1.8<br>cd /opt/java1.8<br>wget --execute robots=off -nc -nd -r -l1 -A &#x27;*.gz&#x27; https://mirrors.tuna.tsinghua.edu.cn/Adoptium/8/jdk/x64/linux/<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment"># ä¸‹è½½OpenJDK8äºŒè¿›åˆ¶åŒ…ï¼Œæºä¸ºæ¸…åå¤§å­¦æºï¼Œä¼šè‡ªåŠ¨ä¸‹è½½æœ€æ–°ç‰ˆã€‚</span></span><br><br>tar -zxvf OpenJDK8U-jdk_*.tar.gz <br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment"># è§£å‹</span></span><br><br>tree -L 2 /opt/java1.8/<br>/opt/java1.8/<br>â”œâ”€â”€ jdk8u362-b09<br>â”‚Â Â  â”œâ”€â”€ ASSEMBLY_EXCEPTION<br>â”‚Â Â  â”œâ”€â”€ bin<br>â”‚Â Â  â”œâ”€â”€ include<br>â”‚Â Â  â”œâ”€â”€ jre<br>â”‚Â Â  â”œâ”€â”€ lib<br>â”‚Â Â  â”œâ”€â”€ LICENSE<br>â”‚Â Â  â”œâ”€â”€ man<br>â”‚Â Â  â”œâ”€â”€ NOTICE<br>â”‚Â Â  â”œâ”€â”€ release<br>â”‚Â Â  â”œâ”€â”€ sample<br>â”‚Â Â  â”œâ”€â”€ src.zip<br>â”‚Â Â  â””â”€â”€ THIRD_PARTY_README<br>â””â”€â”€ OpenJDK8U-jdk_x64_linux_hotspot_8u362b09.tar.gz<br><br>7 directories, 7 files<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰æ–‡ä»¶æ ‘</span></span><br><br></code></pre></td></tr></table></figure><p>PSï¼šJDKä¹Ÿå¯ä»¥æ‰‹åŠ¨å»<a href="https://mirrors.tuna.tsinghua.edu.cn/Adoptium/8/jdk/x64/linux/">https://mirrors.tuna.tsinghua.edu.cn/Adoptium/8/jdk/x64/linux/</a>  ç›®å½•ä¸‹è¿›è¡Œä¸‹è½½æœ€æ–°ç‰ˆã€‚</p><h2 id="éƒ¨ç½²Mysqlï¼ˆå»ºè®®ä¸º8ç‰ˆæœ¬ï¼‰"><a href="#éƒ¨ç½²Mysqlï¼ˆå»ºè®®ä¸º8ç‰ˆæœ¬ï¼‰" class="headerlink" title="éƒ¨ç½²Mysqlï¼ˆå»ºè®®ä¸º8ç‰ˆæœ¬ï¼‰"></a>éƒ¨ç½²Mysqlï¼ˆå»ºè®®ä¸º8ç‰ˆæœ¬ï¼‰</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs clean">dnf install mysql-server<br><br>##Rocky <span class="hljs-number">8</span>æºé»˜è®¤å®‰è£…mysql8<br><br>systemctl enable --now mysqld<br><br>systemctl status mysqld.service <br><br>## è®¾ç½®å¼€æœºå¹¶å¯åŠ¨ï¼ŒæŸ¥çœ‹å¯åŠ¨çŠ¶æ€<br><br></code></pre></td></tr></table></figure><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">mysql_secure_installation <br><br><span class="hljs-comment">## åˆå§‹åŒ–Mysql</span><br><br><br><span class="hljs-comment">## å¦‚ä¸‹ï¼Œéƒ½é€‰æ‹©Yå³å¯ï¼Œå¯†ç ç­‰çº§é€‰æ‹©0ï¼Œç„¶åé…ç½®rootå¯†ç ã€‚</span><br><br><br>Securing <span class="hljs-keyword">the</span> MySQL server deployment.<br><br>Connecting <span class="hljs-built_in">to</span> MySQL <span class="hljs-keyword">using</span> <span class="hljs-keyword">a</span> blank password.<br><br>VALIDATE PASSWORD COMPONENT can be used <span class="hljs-built_in">to</span> test passwords<br><span class="hljs-keyword">and</span> improve security. It checks <span class="hljs-keyword">the</span> strength <span class="hljs-keyword">of</span> password<br><span class="hljs-keyword">and</span> allows <span class="hljs-keyword">the</span> users <span class="hljs-built_in">to</span> <span class="hljs-built_in">set</span> only those passwords which are<br>secure enough. Would you like <span class="hljs-built_in">to</span> setup VALIDATE PASSWORD component?<br><br>Press y|Y <span class="hljs-keyword">for</span> Yes, <span class="hljs-keyword">any</span> other key <span class="hljs-keyword">for</span> No: y<br><br>There are <span class="hljs-literal">three</span> levels <span class="hljs-keyword">of</span> password validation policy:<br><br>LOW    Length &gt;= <span class="hljs-number">8</span><br>MEDIUM Length &gt;= <span class="hljs-number">8</span>, <span class="hljs-keyword">numeric</span>, mixed <span class="hljs-keyword">case</span>, <span class="hljs-keyword">and</span> special <span class="hljs-keyword">characters</span><br>STRONG Length &gt;= <span class="hljs-number">8</span>, <span class="hljs-keyword">numeric</span>, mixed <span class="hljs-keyword">case</span>, special <span class="hljs-keyword">characters</span> <span class="hljs-keyword">and</span> dictionary                  <span class="hljs-built_in">file</span><br><br>Please enter <span class="hljs-number">0</span> = LOW, <span class="hljs-number">1</span> = MEDIUM <span class="hljs-keyword">and</span> <span class="hljs-number">2</span> = STRONG: <span class="hljs-number">0</span><br>Please <span class="hljs-built_in">set</span> <span class="hljs-keyword">the</span> password <span class="hljs-keyword">for</span> root here.<br><br>New password: <br><br>Re-enter <span class="hljs-built_in">new</span> password: <br><br>Estimated strength <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> password: <span class="hljs-number">50</span> <br>Do you wish <span class="hljs-built_in">to</span> continue <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> password provided?(Press y|Y <span class="hljs-keyword">for</span> Yes, <span class="hljs-keyword">any</span> other key <span class="hljs-keyword">for</span> No) : y<br>By default, <span class="hljs-keyword">a</span> MySQL installation has <span class="hljs-keyword">an</span> anonymous user,<br>allowing anyone <span class="hljs-built_in">to</span> <span class="hljs-built_in">log</span> <span class="hljs-keyword">into</span> MySQL <span class="hljs-keyword">without</span> having <span class="hljs-built_in">to</span> have<br><span class="hljs-keyword">a</span> user account created <span class="hljs-keyword">for</span> them. This is intended only <span class="hljs-keyword">for</span><br>testing, <span class="hljs-keyword">and</span> <span class="hljs-built_in">to</span> make <span class="hljs-keyword">the</span> installation go <span class="hljs-keyword">a</span> bit smoother.<br>You should remove them <span class="hljs-keyword">before</span> moving <span class="hljs-keyword">into</span> <span class="hljs-keyword">a</span> production<br>environment.<br><br>Remove anonymous users? (Press y|Y <span class="hljs-keyword">for</span> Yes, <span class="hljs-keyword">any</span> other key <span class="hljs-keyword">for</span> No) : y<br>Success.<br><br><br>Normally, root should only be allowed <span class="hljs-built_in">to</span> connect <span class="hljs-built_in">from</span><br><span class="hljs-string">&#x27;localhost&#x27;</span>. This ensures that someone cannot guess <span class="hljs-keyword">at</span><br><span class="hljs-keyword">the</span> root password <span class="hljs-built_in">from</span> <span class="hljs-keyword">the</span> network.<br><br>Disallow root login remotely? (Press y|Y <span class="hljs-keyword">for</span> Yes, <span class="hljs-keyword">any</span> other key <span class="hljs-keyword">for</span> No) : y<br>Success.<br><br>By default, MySQL comes <span class="hljs-keyword">with</span> <span class="hljs-keyword">a</span> database named <span class="hljs-string">&#x27;test&#x27;</span> that<br>anyone can access. This is also intended only <span class="hljs-keyword">for</span> testing,<br><span class="hljs-keyword">and</span> should be removed <span class="hljs-keyword">before</span> moving <span class="hljs-keyword">into</span> <span class="hljs-keyword">a</span> production<br>environment.<br><br><br>Remove test database <span class="hljs-keyword">and</span> access <span class="hljs-built_in">to</span> <span class="hljs-keyword">it</span>? (Press y|Y <span class="hljs-keyword">for</span> Yes, <span class="hljs-keyword">any</span> other key <span class="hljs-keyword">for</span> No) : y<br> - Dropping test database...<br>Success.<br><br> - Removing privileges <span class="hljs-keyword">on</span> <span class="hljs-title">test</span> <span class="hljs-title">database</span>...<br>Success.<br><br>Reloading <span class="hljs-keyword">the</span> privilege tables will ensure that all changes<br>made so far will take effect immediately.<br><br>Reload privilege tables now? (Press y|Y <span class="hljs-keyword">for</span> Yes, <span class="hljs-keyword">any</span> other key <span class="hljs-keyword">for</span> No) : y<br>Success.<br><br>All done! <br><br></code></pre></td></tr></table></figure><h3 id="åˆ›å»ºæ•°æ®åº“å¯¼å…¥SQLæ–‡ä»¶"><a href="#åˆ›å»ºæ•°æ®åº“å¯¼å…¥SQLæ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ•°æ®åº“å¯¼å…¥SQLæ–‡ä»¶"></a>åˆ›å»ºæ•°æ®åº“å¯¼å…¥SQLæ–‡ä»¶</h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">wget https://github.com/AutohomeCorp/frostmourne/blob/master/doc/mysql-schema/frostmourne.sql<br><br>## å¯èƒ½éœ€è¦æŒ‚å›½é™…ä»£ç†ï¼Œæˆ–æµè§ˆå™¨ä¸‹è½½ï¼Œä½¿ç”¨SCPä¸Šä¼ å³å¯.<br><br>mysql -uroot -p &lt; frostmourne.sql<br><br>#è¾“å…¥å¯†ç å³å¯å¯¼å…¥åˆ›å»ºæ•°æ®åº“ã€‚<br><br>mysql -uroot -p<br><span class="hljs-section">mysql&gt; show databases;</span><br><span class="hljs-section">+--------------------+</span><br><span class="hljs-section">| Database           |</span><br><span class="hljs-section">+--------------------+</span><br>| frostmourne        |<br>| information<span class="hljs-emphasis">_schema |</span><br><span class="hljs-emphasis">| mysql              |</span><br><span class="hljs-emphasis">| performance_</span>schema |<br><span class="hljs-section">| sys                |</span><br><span class="hljs-section">+--------------------+</span><br>5 rows in set (9527.01 sec)<br><br><br>#æŸ¥çœ‹æ•°æ®åº“æ˜¯å¦æ­£å¸¸åˆ›å»º, quitå‘½ä»¤é€€å‡ºã€‚<br><br></code></pre></td></tr></table></figure><h2 id="ä¸‹è½½frostmourne"><a href="#ä¸‹è½½frostmourne" class="headerlink" title="ä¸‹è½½frostmourne"></a>ä¸‹è½½frostmourne</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs awk">cd /opt<br>mkdir frostmourne<br>cd frostmourne<br><br>wget https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/AutohomeCorp/</span>frostmourne<span class="hljs-regexp">/releases/</span>download<span class="hljs-regexp">/1.0-RELEASE/</span>frostmourne-monitor-<span class="hljs-number">1.0</span>-RELEASE.zip<br><br><span class="hljs-comment">## å¯èƒ½éœ€è¦æŒ‚å›½é™…ä»£ç†ï¼Œæˆ–æµè§ˆå™¨ä¸‹è½½ï¼Œä½¿ç”¨SCPä¸Šä¼ åˆ°optç›®å½•å³å¯.</span><br><span class="hljs-comment">## Github ä¸‹è½½åœ°å€ https://github.com/AutohomeCorp/frostmourne/releases</span><br><br>dnf install unzip <br><br>unzip frostmourne-monitor*.zip <br><br>tree <br>.<br>â”œâ”€â”€ application.properties<br>â”œâ”€â”€ env<br>â”œâ”€â”€ frostmourne-monitor-<span class="hljs-number">1.0</span>-RELEASE.jar<br>â”œâ”€â”€ frostmourne-monitor-<span class="hljs-number">1.0</span>-RELEASE.zip<br>â””â”€â”€ scripts<br>    â”œâ”€â”€ shutdown.sh<br>    â””â”€â”€ startup.sh<br><br><span class="hljs-number">1</span> directory, <span class="hljs-number">6</span> files<br><span class="hljs-comment">## æ–‡ä»¶æ ‘å¦‚ä¸Šã€‚</span><br><br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹ENV-ç¯å¢ƒæ–‡ä»¶ï¼Œé…ç½®javaè·¯å¾„"><a href="#ä¿®æ”¹ENV-ç¯å¢ƒæ–‡ä»¶ï¼Œé…ç½®javaè·¯å¾„" class="headerlink" title="ä¿®æ”¹ENV ç¯å¢ƒæ–‡ä»¶ï¼Œé…ç½®javaè·¯å¾„"></a>ä¿®æ”¹ENV ç¯å¢ƒæ–‡ä»¶ï¼Œé…ç½®javaè·¯å¾„</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/opt/</span>frostmourne/env <br><br><br>JAVA_HOME=<span class="hljs-regexp">/opt/</span>java1.<span class="hljs-number">8</span>/jdk8u362-b09<br><span class="hljs-comment">##é…ç½®æ–‡ä»¶ä¸Šé¢æ“ä½œè§£å‹çš„JDKè·¯å¾„å³å¯</span><br><br>JAVA_OPTS=<span class="hljs-string">&quot;-Xms1200m -Xmx2000m -Xss1024K -XX:PermSize=128m -XX:MaxPermSize=256m -Dfile.encoding=utf-8&quot;</span><br><span class="hljs-comment">##JAVAå‚æ•°ï¼Œå¯é€‚å½“æ”¹å¤§å†…å­˜ç­‰å‚æ•°ã€‚</span><br><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹å¯åŠ¨appé…ç½®(ä¹Ÿå¯ä»¥é…ç½®é‚®ä»¶å‘é€æœåŠ¡å™¨å’ŒLDAP)</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs routeros">vim /opt/frostmourne/application.properties <br><br><span class="hljs-attribute">alarmlog_reserve_days</span>=30<br><span class="hljs-comment">#é…ç½®ç›‘æ§æ—¥å¿—ä¿ç•™å¤©æ•°</span><br><br><span class="hljs-attribute">datasource_frostmourne_url</span>=jdbc:mysql://127.0.0.1:3306/frostmourne?characterEncoding=utf8<br><span class="hljs-comment">#é…ç½®mysqlæ•°æ®åº“IPåœ°å€ã€æ•°æ®åº“åå­—ã€ç¼–ç ã€‚</span><br><br><span class="hljs-attribute">datasource_frostmourne_username</span>=root<br><span class="hljs-attribute">datasource_frostmourne_password</span>=Wow@123<br><span class="hljs-comment">#é…ç½®mysqlæ•°æ®åº“è´¦å·å¯†ç </span><br><br><br><span class="hljs-attribute">frostmourne_monitor_address</span>=192.168.124.100<br><br><span class="hljs-comment">#é…ç½®ä¸ºæœ¬æœºIPåœ°å€å³å¯</span><br><br><span class="hljs-attribute">frostmourne_message_title</span>=Wow<br><span class="hljs-comment">#é…ç½®å®ä¾‹åå­—</span><br><br></code></pre></td></tr></table></figure><h3 id="å¯åŠ¨æµ‹è¯•"><a href="#å¯åŠ¨æµ‹è¯•" class="headerlink" title="å¯åŠ¨æµ‹è¯•"></a>å¯åŠ¨æµ‹è¯•</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/opt/</span>frostmourne<span class="hljs-regexp">/scripts/</span>startup.sh <br><br>./startup.sh: line <span class="hljs-number">7</span>: dos2unix: command not found<br>LOG_DIR: <span class="hljs-regexp">/opt/</span>frostmourne<span class="hljs-regexp">/scripts/</span>../logs<br>PID_FOLDER: <span class="hljs-regexp">/opt/</span>frostmourne<span class="hljs-regexp">/scripts/</span>../pid<br>Sun Mar <span class="hljs-number">26</span> <span class="hljs-number">16</span>:<span class="hljs-number">42</span>:<span class="hljs-number">27</span> CST <span class="hljs-number">2023</span> ==== Starting ==== <br>Application is running as root (UID <span class="hljs-number">0</span>). This is considered insecure.<br>Started [<span class="hljs-number">5477</span>]<br>Waiting <span class="hljs-keyword">for</span> server startup..<br>Sun Mar <span class="hljs-number">26</span> <span class="hljs-number">16</span>:<span class="hljs-number">42</span>:<span class="hljs-number">37</span> CST <span class="hljs-number">2023</span> Server started <span class="hljs-keyword">in</span> <span class="hljs-number">10</span> seconds<br><br>ss -an | grep <span class="hljs-number">10054</span><br>tcp   LISTEN <span class="hljs-number">0</span>      <span class="hljs-number">100</span>                    *:<span class="hljs-number">10054</span>           *:*                  <br><br><span class="hljs-comment">## æŸ¥çœ‹10054ç«¯å£ç›‘å¬å³å¯åˆ¤æ–­å·²æ­£å¸¸å¯åŠ¨ã€‚</span><br><br><span class="hljs-regexp">/opt/</span>frostmourne<span class="hljs-regexp">/scripts/</span>shutdown.sh <br><br><span class="hljs-comment">## åœæ­¢æœåŠ¡</span><br><br>                 <br><br></code></pre></td></tr></table></figure><p>Webè®¿é—®ï¼š  http:&#x2F;&#x2F;192.168.124.100:10054    å³å¯æµ‹è¯•ï¼Œæ³¨æ„æ›¿æ¢IP</p><p>admin ç®¡ç†è´¦å·é»˜è®¤çš„è´¦å·å¯†ç æ˜¯123456</p><p>æ³¨æ„ï¼šå¼€å¯äº†LDAPè®¤è¯ï¼Œadminè´¦å·ä»ç„¶å¯ä»¥ç”¨åˆå§‹å¯†ç ç™»å½•ã€‚</p><h2 id="é…ç½®ä¸ºSystemdè‡ªå®šä¹‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#é…ç½®ä¸ºSystemdè‡ªå®šä¹‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="é…ç½®ä¸ºSystemdè‡ªå®šä¹‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨"></a>é…ç½®ä¸ºSystemdè‡ªå®šä¹‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs routeros">vim /usr/lib/systemd/system/frostmourne.service <br><br><br>[Unit]<br><span class="hljs-attribute">Description</span>=frost<br><span class="hljs-attribute">After</span>=network.target mysqld.service<br><br>[Service]<br><span class="hljs-attribute">User</span>=root<br><span class="hljs-attribute">Type</span>=forking<br><span class="hljs-attribute">ExecStart</span>=/opt/frostmourne/scripts/startup.sh<br><span class="hljs-attribute">ExecStop</span>=/opt/frostmourne/scripts/shutdown.sh<br><span class="hljs-attribute">RemainAfterExit</span>=<span class="hljs-literal">yes</span><br><br><br><br>[Install]<br><span class="hljs-attribute">WantedBy</span>=multi-user.target<br><br><span class="hljs-comment">##å†™å…¥åˆ°æ–‡ä»¶ä¿å­˜ã€‚</span><br><br>systemctl daemon-reload<br><span class="hljs-comment">## åŠ è½½è‡ªå®šä¹‰æœåŠ¡</span><br>systemctl start frostmourne.service <br>systemctl status frostmourne.service <br><br><span class="hljs-comment">## å°è¯•å¯åŠ¨ï¼Œå¹¶æŸ¥çœ‹çŠ¶æ€ã€‚</span><br>systemctl <span class="hljs-built_in">enable</span> frostmourne.service <br><br><span class="hljs-comment">## è®¾ç½®å¼€å¯åŠå¹¶å¯åŠ¨</span><br><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šéœ€è¦ç­‰å¾…ç½‘ç»œæœåŠ¡å’Œmysqlå¯åŠ¨ä¹‹åï¼Œæ‰ä¼šå¯åŠ¨ã€‚</p><h1 id="æŠ€æœ¯æ¶æ„"><a href="#æŠ€æœ¯æ¶æ„" class="headerlink" title="æŠ€æœ¯æ¶æ„"></a>æŠ€æœ¯æ¶æ„</h1><p><code>frostmourne-vue</code>ï¼šå‰ç«¯é¡¹ç›®ï¼Œä½¿ç”¨<code>vue-element-template</code>å®ç°ï¼Œæ‰“åŒ…æ—¶ä¼šæŠŠç”Ÿæˆçš„èµ„æºæ–‡ä»¶æ„å»ºåˆ°<code>frostmourne-monitor</code></p><ul><li><code>frostmourne-monitor</code>ï¼šç›‘æ§è¿è¡Œä¸»ä½“æœåŠ¡</li></ul><p><img src="https://s3.bmp.ovh/imgs/2023/03/26/03ee6a3d6abcf82b.png" srcset="/img/loading.gif" lazyload></p><h2 id="ä¸»è¦æŠ€æœ¯æ ˆ"><a href="#ä¸»è¦æŠ€æœ¯æ ˆ" class="headerlink" title="ä¸»è¦æŠ€æœ¯æ ˆ"></a>ä¸»è¦æŠ€æœ¯æ ˆ</h2><ul><li><code>springboot 2.x</code></li><li><code>element ui</code></li><li><code>vue-admin-template</code></li><li><code>xxl-job</code></li><li><code>mybatis</code></li><li><code>freemarker</code></li><li><code>elasticsearch</code></li><li><code>InfluxDB</code></li><li><code>jjwt</code></li><li><code>nashorn</code></li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/AutohomeCorp/frostmourne">https://github.com/AutohomeCorp/frostmourne</a> </p><p>æ³¨æ„ï¼šæ¨èé…åˆ<a href="https://songxwn.com/elk/">https://songxwn.com/elk/</a>  ESéƒ¨ç½²ä½¿ç”¨ã€‚<br>é›†ç¾¤ï¼šå®‰è£…æ•™ç¨‹ï¼š<a href="https://songxwn.com/elk_cluster/">https://songxwn.com/elk_cluster/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Elasticsearch-x-pack-core/">Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</a></li><li><a href="https://songxwn.com/Linux-growpart/">Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</a></li><li><a href="https://songxwn.com/elk_cluster/">Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>syslog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Veeam Backup Replication 12 å®‰è£…å’Œæ¿€æ´»</title>
    <link href="/Veeam12/"/>
    <url>/Veeam12/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>åªéœ€å•ä¸ªå¹³å°å³å¯ä¿æŠ¤å¹¶ç®¡ç†æ‰€æœ‰å·¥ä½œè´Ÿè½½ã€åº”ç”¨åŠæ•°æ®ï¼šäº‘ç«¯ã€è™šæ‹Ÿã€ç‰©ç†ã€SaaSã€Kubernetesã€VMwareã€Hyper-Vã€Windowsã€Linuxã€UNIXã€NASã€AWSã€Azureã€ä¼ä¸šåº”ç”¨ç­‰ã€‚</p><p>ä¸ªäººä¸»è¦ç”¨äºå¤‡ä»½ESXiä¸Šçš„è™šæ‹Ÿæœºï¼Œå¯ä»¥å®ç°å•æ¬¡å®Œæ•´å¤‡ä»½ï¼Œå’Œå®šæ—¶çš„å¢é‡å¤‡ä»½ã€‚</p><p>æ­¤æ–‡ç« æä¾›äº†ISOå®‰è£…æ–‡ä»¶çš„ä¸‹è½½å’Œå®‰è£…æ¿€æ´»ã€‚</p><span id="more"></span><h1 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h1><p>ISO å…·ä½“ç‰ˆæœ¬ä¸ºï¼š 12.0.0.1420_20230209<br><a href="https://download2.veeam.com/VBR/v12/VeeamBackup&Replication_12.0.0.1420_20230209.iso">å®˜æ–¹ç½‘ç«™ä¸‹è½½ISO</a></p><p><a href="https://vault.digiboy.ir/veeam/VeeamBackup&Replication_12.0.0.1420_20230209.iso">ç¬¬ä¸‰æ–¹å­˜æ¡£ä¸‹è½½ISO</a></p><h2 id="å®‰è£…è¦æ±‚ï¼ˆæ¨èï¼‰"><a href="#å®‰è£…è¦æ±‚ï¼ˆæ¨èï¼‰" class="headerlink" title="å®‰è£…è¦æ±‚ï¼ˆæ¨èï¼‰"></a>å®‰è£…è¦æ±‚ï¼ˆæ¨èï¼‰</h2><ul><li>æ“ä½œç³»ç»Ÿæ¨è Windows Server 2016-2022</li><li>CPUè¦æ±‚è‡³å°‘å››ä¸ªå†…æ ¸ã€å†…å­˜å»ºè®®4GBä»¥ä¸Šã€‚</li><li>å­˜å‚¨ç©ºé—´å»ºè®®100GBä»¥ä¸Šï¼Œå¤‡ä»½ç”¨ç©ºé—´æ ¹æ®éœ€æ±‚æ¥ç®—ã€‚</li><li>æ•°æ®åº“å¯ä½¿ç”¨è‡ªå¸¦çš„PostgreSQL 15.1 æˆ–å®‰è£… SQL Server 2012-2022è¿›è¡Œä½¿ç”¨ã€‚</li></ul><p>æ³¨æ„ï¼šå®‰è£…è¦æ–­ç½‘å®‰è£…ï¼Œå¦åˆ™è¦æ±‚æˆæƒæ–‡ä»¶æ‰èƒ½ï¼Œä¸”ä¼šè”ç½‘éªŒè¯ã€‚</p><p>PSï¼šç›®å‰æ”¯æŒVMware ESXi 6.0-8.0ç‰ˆæœ¬</p><h2 id="å®‰è£…é¡ºåº"><a href="#å®‰è£…é¡ºåº" class="headerlink" title="å®‰è£…é¡ºåº"></a>å®‰è£…é¡ºåº</h2><p>éœ€è¦å®‰è£…VBRä¹‹åï¼Œå†å®‰è£…VBEM</p><h1 id="æ¿€æ´»è½¯ä»¶ä¸ºä¸“ä¸šç‰ˆ"><a href="#æ¿€æ´»è½¯ä»¶ä¸ºä¸“ä¸šç‰ˆ" class="headerlink" title="æ¿€æ´»è½¯ä»¶ä¸ºä¸“ä¸šç‰ˆ"></a>æ¿€æ´»è½¯ä»¶ä¸ºä¸“ä¸šç‰ˆ</h1><h2 id="ä¸‹è½½æ›¿æ¢æ–‡ä»¶"><a href="#ä¸‹è½½æ›¿æ¢æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ›¿æ¢æ–‡ä»¶"></a>ä¸‹è½½æ›¿æ¢æ–‡ä»¶</h2><p><a href="https://songxwn.com/file/Veeam_12_P.7z">æ›¿æ¢æ–‡ä»¶ä¸‹è½½</a></p><p>ä¸‹è½½åè§£å‹ï¼Œä¼šæœ‰ä¸‹åˆ—æ–‡ä»¶</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">VeeamLicense</span>.</span></span>dll<br>#æ›¿æ¢æ–‡ä»¶<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Veeam_ASv11_1500</span>.</span></span>lic<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Veeam_BackupRep_v12_5000_1</span>.</span></span>lic<br>#æˆæƒæ–‡ä»¶<br><br></code></pre></td></tr></table></figure><h2 id="åœæ­¢æœåŠ¡å’Œæ›¿æ¢æ–‡ä»¶"><a href="#åœæ­¢æœåŠ¡å’Œæ›¿æ¢æ–‡ä»¶" class="headerlink" title="åœæ­¢æœåŠ¡å’Œæ›¿æ¢æ–‡ä»¶"></a>åœæ­¢æœåŠ¡å’Œæ›¿æ¢æ–‡ä»¶</h2><p>å®‰è£…å®Œè½¯ä»¶ä¹‹å</p><p>ä½¿ç”¨ç®¡ç†å‘˜è¿è¡ŒPowerShell æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š</p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-built_in">get-service</span> -<span class="hljs-string">displayname</span> <span class="hljs-string">Veeam</span>* | <span class="hljs-string">stop-service</span><br><span class="hljs-built_in">get-service</span> -<span class="hljs-string">displayname</span> <span class="hljs-string">Veeam</span>*<br><br></code></pre></td></tr></table></figure><p>ç„¶åè¿›å…¥C:\Program Files\Common Files\Veeam ç›®å½•ä¸‹ï¼Œå°†VeeamLicense.dll è¦†ç›–åˆ°å…¶ç›®å½•ä¸‹ã€‚</p><h2 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h2><p>ç„¶åè¿è¡Œæ‰€æœ‰æœåŠ¡</p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-built_in">get-service</span> -<span class="hljs-string">displayname</span> <span class="hljs-string">Veeam</span>* | <span class="hljs-string">start-service</span><br><br></code></pre></td></tr></table></figure><h2 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h2><p>æ‰“å¼€Veeam Backup &amp; Replication Console è½¯ä»¶ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„èœå•ï¼Œé€‰æ‹©Licenseé€‰é¡¹ï¼Œç‚¹å‡»installï¼Œé€‰æ‹©</p><p>Veeam_BackupRep_v12_5000_1.lic æ–‡ä»¶å¯¼å…¥å®‰è£…å³å¯æ¿€æ´»ã€‚</p><h2 id="å‚è€ƒæ¥æº"><a href="#å‚è€ƒæ¥æº" class="headerlink" title="å‚è€ƒæ¥æº"></a>å‚è€ƒæ¥æº</h2><p><a href="https://www.digiboy.ir/11840/veeam-backup-replication-12-0-0-1420/">https://www.digiboy.ir/11840/veeam-backup-replication-12-0-0-1420/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/VMware_Vsphere8_key/">VMware Vsphere 8 åºåˆ—å·</a></li><li><a href="https://songxwn.com/ESXi8_IPMI/">VMware ESXi 8 ä½¿ç”¨IPMITool</a></li><li><a href="https://songxwn.com/ESXI_CVE-2021-21974/">ESXi å‹’ç´¢ç—…æ¯’ESXiArgs å…¶CVE-2021-21974æ¼æ´åˆ†æå’Œæ¢å¤</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>VMware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>esxi</tag>
      
      <tag>vmware</tag>
      
      <tag>backups</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ESXi å‹’ç´¢ç—…æ¯’ESXiArgs å…¶CVE-2021-21974æ¼æ´åˆ†æå’Œæ¢å¤</title>
    <link href="/ESXI_CVE-2021-21974/"/>
    <url>/ESXI_CVE-2021-21974/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><ul><li>è¯¥æ¼æ´ç¼–å·ä¸º<a href="https://www.vmware.com/security/advisories/VMSA-2021-0002.html">CVE-2021-21974</a>ï¼Œç”± OpenSLP æœåŠ¡ä¸­çš„å †æº¢å‡ºé—®é¢˜å¼•èµ·ï¼Œæœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…å¯ä»¥æ­¤è¿›è¡Œä½å¤æ‚åº¦æ”»å‡»ã€‚</li><li>è¯¥æ¼æ´ä¸»è¦å½±å“6.x ç‰ˆå’Œ 6.7ã€7.0ç‰ˆæœ¬ä¹‹å‰çš„ ESXi ç®¡ç†ç¨‹åºï¼Œ2021å¹´2æœˆ23æ—¥ ï¼ŒVMwareæ›¾å‘å¸ƒè¡¥ä¸ä¿®å¤äº†è¯¥æ¼æ´ã€‚ï¼ˆåœ¨æ­¤ä¹‹åå‘å¸ƒçš„ç‰ˆæœ¬ä¸å½±å“ï¼‰</li><li>è¯¥æ¼æ´å¯åŠ¨ä¹‹åï¼Œä¸»è¦ç ´åè¡Œä¸ºä¸ºåœæ­¢æ‰€æœ‰è™šæ‹Ÿæœºï¼Œå¹¶åŠ å¯†æ‰€æœ‰æ•°æ®æ–‡ä»¶ã€‚</li><li>å› ä¸ºä¸ä¼šåŠ å¯†å¤§æ–‡ä»¶ï¼Œæ‰€ä»¥æœ‰å¾ˆå¤§å¯èƒ½æ€§è¿›è¡Œæ¢å¤æ“ä½œã€‚</li></ul><span id="more"></span><h2 id="å…·ä½“å½±å“ç‰ˆæœ¬"><a href="#å…·ä½“å½±å“ç‰ˆæœ¬" class="headerlink" title="å…·ä½“å½±å“ç‰ˆæœ¬"></a>å…·ä½“å½±å“ç‰ˆæœ¬</h2><p>å¤§äºä»¥ä¸‹ç‰ˆæœ¬åˆ™ä¸å—å½±å“</p><ul><li>ESXi versions 7.x prior to ESXi70U1c-17325551</li><li>ESXi versions 6.7.x prior to ESXi670-202102401-SG</li><li>ESXi versions 6.5.x prior to ESXi650-202102101-SG</li></ul><h1 id="è¢«æ”»å‡»ä¹‹åçš„è®¿é—®ç®¡ç†ç•Œé¢ç¤ºä¾‹"><a href="#è¢«æ”»å‡»ä¹‹åçš„è®¿é—®ç®¡ç†ç•Œé¢ç¤ºä¾‹" class="headerlink" title="è¢«æ”»å‡»ä¹‹åçš„è®¿é—®ç®¡ç†ç•Œé¢ç¤ºä¾‹"></a>è¢«æ”»å‡»ä¹‹åçš„è®¿é—®ç®¡ç†ç•Œé¢ç¤ºä¾‹</h1><p><img src="https://s3.bmp.ovh/imgs/2023/02/07/aafd8c55b6dac39d.png" srcset="/img/loading.gif" lazyload></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="çº¿ä¸Šç”Ÿäº§ç¯å¢ƒESXIé˜²æŠ¤æ–¹æ¡ˆ"><a href="#çº¿ä¸Šç”Ÿäº§ç¯å¢ƒESXIé˜²æŠ¤æ–¹æ¡ˆ" class="headerlink" title="çº¿ä¸Šç”Ÿäº§ç¯å¢ƒESXIé˜²æŠ¤æ–¹æ¡ˆ"></a>çº¿ä¸Šç”Ÿäº§ç¯å¢ƒESXIé˜²æŠ¤æ–¹æ¡ˆ</h1><ul><li><p>åœæ­¢SLPæœåŠ¡ï¼Œå¹¶åœæ­¢å¼€æœºå¯åŠ¨ã€‚ï¼ˆSSHç™»å½•ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">/etc/init.d/slpd stop<br>chkconfig slpd off<br></code></pre></td></tr></table></figure></li><li><p>é˜²ç«å¢™è¿‡æ»¤å…¬ç½‘IPè®¿é—®SLPç­‰æœåŠ¡ã€‚(ç½‘ç»œ-é˜²ç«å¢™-CIM SLPæœåŠ¡é™åˆ¶è®¿é—®IP)</p></li><li><p>åœæœºå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚</p></li></ul><h1 id="å®‰å…¨é¢„é˜²æ–¹æ¡ˆ"><a href="#å®‰å…¨é¢„é˜²æ–¹æ¡ˆ" class="headerlink" title="å®‰å…¨é¢„é˜²æ–¹æ¡ˆ"></a>å®‰å…¨é¢„é˜²æ–¹æ¡ˆ</h1><ol><li>å®‰è£…ESXIç³»ç»Ÿå°½é‡ä½¿ç”¨æœ€æ–°ç‰ˆå‘å¸ƒç‰ˆæœ¬ã€‚å‡å°‘å®‰å…¨æ¼æ´ã€‚</li><li>ç®¡ç†å°½é‡ä½¿ç”¨å†…ç½‘IPï¼Œä¸ä½¿ç”¨å…¬ç½‘IPï¼Œå‡å°‘æ”»å‡»é¢ã€‚</li><li>ESXIå¯†ç è®¾å®šå°½é‡å¤æ‚ï¼Œé˜²æ­¢æš´åŠ›ç ´è§£å¯†ç ã€‚</li><li>å¯ä»¥è€ƒè™‘å®šæœŸå¤‡ä»½ESXIé…ç½®å’Œè™šæ‹Ÿæœºæ–‡ä»¶ã€‚</li></ol><h1 id="å…¶ä»–è¯´æ˜"><a href="#å…¶ä»–è¯´æ˜" class="headerlink" title="å…¶ä»–è¯´æ˜"></a>å…¶ä»–è¯´æ˜</h1><ul><li>è™½æ”»å‡»è€…è¯´æ˜å·²ç›—å–æ•°æ®ï¼Œä½†ä»å†å²æµé‡æ¥çœ‹ï¼Œæ²¡æœ‰è¿™ä¸ªå¯èƒ½æ€§ã€‚</li><li>è¢«æ”»å‡»åï¼Œæ•°æ®æ–‡ä»¶ä¼šè¢«å¼ºåŠ å¯†ï¼Œå‡ ä¹ä¸å¯èƒ½ç”¨æ­£å¸¸æ‰‹æ®µæ¢å¤ã€‚</li><li>ç›®å‰ä»ç½‘ä¸Šå…¬å¸ƒè¢«æ”»å‡»æ•°æ®æ¥çœ‹ï¼Œä¸­å›½å¤§é™†å—åˆ°çš„æ”»å‡»å‡ ä¹æ²¡æœ‰ã€‚ï¼ˆå³ä½¿æœ‰å¤§é‡æš´éœ²ä¸”æœªæ‰“è¡¥ä¸çš„ESXIï¼‰</li></ul><h1 id="æ¢å¤æ‰‹æ®µ"><a href="#æ¢å¤æ‰‹æ®µ" class="headerlink" title="æ¢å¤æ‰‹æ®µ"></a>æ¢å¤æ‰‹æ®µ</h1><p>å› è¯¥ç—…æ¯’åªä¼šåŠ å¯†åƒ.vmdk .vmxè¿™æ ·çš„å°æ–‡ä»¶ï¼Œä½†ä¸åŠ å¯†server-flat.vmdkå¤§æ–‡ä»¶ã€‚<br>æ‰€ä»¥æœ‰å¾ˆå¤§çš„å¯èƒ½æ¢å¤å¯¼å‡ºæ•°æ®ã€‚</p><p>è¯¦ç»†æ•™ç¨‹ï¼š <a href="https://enes.dev/">https://enes.dev</a></p><p>æˆ–è€…ä½¿ç”¨CISA æœºæ„æä¾›çš„æ¢å¤è„šæœ¬ï¼š<a href="https://github.com/cisagov/ESXiArgs-Recover">https://github.com/cisagov/ESXiArgs-Recover</a></p><h1 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h1><p><a href="https://www.freebuf.com/news/356626.html">æ–°å‹å‹’ç´¢è½¯ä»¶æ­£æ”»å‡»å…¨çƒVMware ESXi æœåŠ¡å™¨ - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a></p><p><a href="https://kb.vmware.com/s/article/76372">How to Disable&#x2F;Enable the SLP Service on VMware ESXi (76372)</a></p><p><a href="https://security.macnica.co.jp/blog/2023/02/esxiesxiargs.html#:~:text=%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E3%81%A7%E3%81%AEESXi%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B36.7.0%E3%80%816.5.0%E3%80%816.0.0%E3%80%815.5.0*1%E3%81%AE%E5%90%88%E8%A8%88%E5%8F%B0%E6%95%B0%E3%81%8C57%2C446%E5%8F%B0%E3%80%81%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E3%81%A7%E3%81%AE%E8%A2%AB%E5%AE%B3%E7%B7%8F%E6%95%B0%E3%81%AF3%2C162%E5%8F%B0%E3%81%A7%E8%A2%AB%E5%AE%B3%E7%99%BA%E7%94%9F%E5%89%B2%E5%90%88%E3%81%AF5.5%EF%BC%85%E3%81%A8%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%B9%B3%E5%9D%87%E3%81%A7%E3%81%82%E3%82%8B5.5%EF%BC%85%E4%BB%A5%E4%B8%8A%E8%A2%AB%E5%AE%B3%E3%82%92%E5%8F%97%E3%81%91%E3%81%A6%E3%81%84%E3%82%8B%E3%80%81%E3%83%95%E3%83%A9%E3%83%B3%E3%82%B9%E3%80%81%E3%83%95%E3%82%A3%E3%83%B3%E3%83%A9%E3%83%B3%E3%83%89%E3%80%81%E3%82%AB%E3%83%8A%E3%83%80%E3%80%81%E3%83%89%E3%82%A4%E3%83%84%E3%81%A8%E8%A8%80%E3%81%A3%E3%81%9F%E3%82%A6%E3%82%AF%E3%83%A9%E3%82%A4%E3%83%8A%E6%94%AF%E6%8F%B4%E3%81%AB%E7%A9%8D%E6%A5%B5%E7%9A%84%E3%81%AA%E5%9B%BD%E3%81%A7%E3%81%AF%E5%A4%9A%E3%81%8F%E3%81%AE%E8%A2%AB%E5%AE%B3%E3%81%8C%E7%99%BA%E7%94%9F%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%82%82%E8%A6%8B%E3%81%88%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%81%AE%E6%94%BB%E6%92%83%E3%81%8C%E3%82%A6%E3%82%AF%E3%83%A9%E3%82%A4%E3%83%8A%E6%83%85%E5%8B%A2%E3%81%AB%E9%96%A2%E9%80%A3%E3%81%99%E3%82%8B%E3%82%82%E3%81%AE%E3%81%8B%E3%81%AF%E3%80%81%E3%81%93%E3%82%8C%E3%81%A0%E3%81%91%E3%81%A7%E3%81%AF%E5%88%A4%E6%96%AD%E3%83%BB%E6%96%AD%E5%AE%9A%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8C%E3%80%81%E3%83%87%E3%83%BC%E3%82%BF%E4%B8%8A%E3%81%AF%E4%BD%95%E3%82%89%E3%81%8B%E3%81%AE%E9%96%A2%E9%80%A3%E3%81%8C%E3%81%82%E3%82%8B%E3%81%A8%E6%84%9F%E3%81%98%E3%81%96%E3%82%8B%E3%82%92%E5%BE%97%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82%E5%AE%9F%E9%9A%9B%E3%81%AB%E8%A7%A3%E6%9E%90%E3%82%92%E8%A1%8C%E3%81%A3%E3%81%9F%E3%83%99%E3%83%B3%E3%83%80%E3%81%AE%E6%83%85%E5%A0%B1%E3%82%82%E5%BE%85%E3%81%A1%E3%81%9F%E3%81%84%E3%81%A8%E6%80%9D%E3%81%84%E3%81%BE%E3%81%99%E3%80%82">VMwareç¤¾ã®ESXiã‚µãƒ¼ãƒã‚’ç‹™ã†ãƒ©ãƒ³ã‚µãƒ ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ ESXiArgsã«é–¢ã™ã‚‹èª¿æŸ» - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç ”ç©¶ã‚»ãƒ³ã‚¿ãƒ¼ãƒ–ãƒ­ã‚° (macnica.co.jp)</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/VMware_Vsphere8_key/">VMware Vsphere 8 åºåˆ—å·</a></li><li><a href="https://songxwn.com/ESXi8_IPMI/">VMware ESXi 8 ä½¿ç”¨IPMITool</a></li><li><a href="https://songxwn.com/Veeam12/">Veeam Backup Replication 12 å®‰è£…å’Œæ¿€æ´»</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>VMware</category>
      
    </categories>
    
    
    <tags>
      
      <tag>esxi</tag>
      
      <tag>vmware</tag>
      
      <tag>security</tag>
      
      <tag>netwrok</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Juniper Junosç³»ç»Ÿæ¶æ„å’Œå‘½ä»¤æ¨¡å¼æµ…è°ˆ</title>
    <link href="/Juniper_Junos/"/>
    <url>/Juniper_Junos/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>Junos OS æ˜¯æ”¯æŒç»åšç½‘ç»œå¹¿æ³›çš„ç‰©ç†å’Œè™šæ‹Ÿç½‘ç»œåŠå®‰å…¨äº§å“ç»„åˆçš„å•ä¸€æ“ä½œç³»ç»Ÿã€‚</p><p>Junos OS åŒ…æ‹¬ä»¥ä¸‹æ¶æ„å˜åŒ–ï¼š</p><ul><li>è£¸æœºä¸Šè¿è¡Œçš„ Junos OS FreeBSD 6ã€‚è¿™æ˜¯åŸºäº FreeBSD 6 å†…æ ¸çš„ Junos OSã€‚ï¼ˆå¾ˆè€ç‰ˆæœ¬ï¼‰</li><li>Junos OS FreeBSD 10 æˆ–æ›´é«˜ç‰ˆæœ¬çš„è£¸æœºä¸Šã€‚è¿™æ˜¯åŸºäºå‡çº§åçš„ FreeBSD å†…æ ¸çš„ Junos OSã€‚ä» Junos OS 15.1 ç‰ˆå¼€å§‹ï¼ŒæŸäº›ç¡¬ä»¶å¹³å°è¿è¡Œå‡çº§ç‰ˆ FreeBSD çš„ Junos OSã€‚ä» Junos OS ç‰ˆæœ¬ 16.1 å¼€å§‹ï¼Œå‡çº§ç‰ˆ FreeBSD çš„ Junos OS å¯ä½œä¸ºè®¿å®¢è™šæ‹Ÿæœº ï¼ˆVMï¼‰ åœ¨ Linux è™šæ‹Ÿæœºä¸»æœºä¸Šè¿è¡Œã€‚æœ‰å…³è¿è¡Œå…·æœ‰å‡çº§åçš„ FreeBSD çš„ Junos OS çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·åœ¨åŠŸèƒ½æ¢ç´¢å™¨ä¸­æœç´¢Â <strong>Junos å†…æ ¸å‡çº§åˆ° FreeBSD 10+</strong>Â ï¼šÂ <a href="https://apps.juniper.net/feature-explorer/feature-info.html?fKey=6880&fn=Junos+kernel+upgrade+to+FreeBSD+10+">Junos å†…æ ¸å‡çº§åˆ° FreeBSD 10+</a>Â ã€‚ï¼ˆç°æœ‰è®¾å¤‡ç‰ˆæœ¬ï¼Œè£¸æœºè·‘Linuxï¼ŒKVMè™šæ‹ŸåŒ–è·‘REå¼•æ“ï¼‰</li><li>Junos OS Evolvedã€‚æœ‰å…³Â <a href="https://www.juniper.net/documentation/us/en/software/junos/evo-overview/index.html">Junos OS Evolved çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… JunosÂ® OS Evolved</a>Â å’ŒÂ <a href="https://www.juniper.net/documentation/us/en/software/junos/evo-install-upgrade/index.html">JunosÂ® OS Evolved è½¯ä»¶å®‰è£…å’Œå‡çº§æŒ‡å—</a>Â ã€‚ï¼ˆè£¸æœºç›´æ¥è·‘Junos OSï¼Œæ›´å¼€æ”¾ï¼Œå¯ä»¥è¿è¡Œç¬¬ä¸‰æ–¹å®¹å™¨ï¼‰</li></ul><span id="more"></span><h2 id="æ¶æ„æ¦‚è¿°"><a href="#æ¶æ„æ¦‚è¿°" class="headerlink" title="æ¶æ„æ¦‚è¿°"></a>æ¶æ„æ¦‚è¿°</h2><p>ä¸‹å›¾ä¸ºJunos OSçš„æ¶æ„å›¾</p><p><img src="https://s3.bmp.ovh/imgs/2023/01/08/337d34067c7d54d2.png" srcset="/img/loading.gif" lazyload></p><p>ä½¿ç”¨Intel X86 CPUç¡¬ä»¶ï¼Œè¿è¡ŒLinuxï¼Œä½¿ç”¨<a href="https://www.redhat.com/zh/topics/virtualization/what-is-KVM">KVMè™šæ‹ŸåŒ–</a>è¿è¡Œ REï¼ˆè·¯ç”±å¼•æ“ï¼‰ï¼ŒREç³»ç»Ÿä¸ºç”¨æˆ·ç›´æ¥æ¥è§¦çš„ç³»ç»Ÿï¼ŒåŸºäºFreeBSDå†…æ ¸ã€‚</p><p>Linuxå»æ§åˆ¶FPCÂ è½¬å‘ï¼Œæ§åˆ¶ç‰©ç†æ¥å£ã€‚REä¸FPCé€šä¿¡ä¸‹å‘è½¬å‘ã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2023/01/08/1c533b4569c2b2cc.png" srcset="/img/loading.gif" lazyload></p><h1 id="å‘½ä»¤è¡Œæ¨¡å¼"><a href="#å‘½ä»¤è¡Œæ¨¡å¼" class="headerlink" title="å‘½ä»¤è¡Œæ¨¡å¼"></a>å‘½ä»¤è¡Œæ¨¡å¼</h1><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs 1c">root<span class="hljs-meta">#</span><br>root<span class="hljs-meta"># uname </span><br>FreeBSD<br><br></code></pre></td></tr></table></figure><p>Junos shellæ¨¡å¼ ï¼ˆFreeBSD ä¸‹shï¼‰ï¼Œä½¿ç”¨rootç™»å½•çš„é»˜è®¤æ¨¡å¼ã€‚</p><p>å¤„äºJunosåº•å±‚ï¼Œå¯ä»¥æ“ä½œFreeBSDç³»ç»Ÿã€‚</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gauss">root<span class="hljs-meta"># cli</span><br>root<span class="hljs-comment">@&gt;</span><br><span class="hljs-comment">root@</span>&gt; <span class="hljs-keyword">show</span> version <br><br></code></pre></td></tr></table></figure><p>ä¼ ç»Ÿç½‘ç»œè®¾å¤‡çš„CLIï¼Œæ“ä½œæ¨¡å¼ã€‚</p><p>ä½¿ç”¨æ­¤æ¨¡å¼æ˜¾ç¤ºè®¾å¤‡çš„å½“å‰çŠ¶æ€ã€‚åœ¨æ“ä½œæ¨¡å¼ä¸‹ï¼Œæ‚¨è¾“å…¥å‘½ä»¤æ¥ç›‘æ§ç½‘ç»œæ“ä½œç³»ç»Ÿã€è®¾å¤‡å’Œç½‘ç»œè¿æ¥å¹¶å¯¹å…¶è¿›è¡Œæ•…éšœæ’é™¤ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-symbol">root@</span>&gt; configure <br>Entering configuration mode<br><br><span class="hljs-symbol">root@</span># <br><br></code></pre></td></tr></table></figure><p>ä¼ ç»Ÿç½‘ç»œè®¾å¤‡çš„CLIï¼Œé…ç½®æ¨¡å¼ã€‚</p><p>ä½¿ç”¨æ­¤æ¨¡å¼é…ç½®è®¾å¤‡ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œæ‚¨è¾“å…¥è¯­å¥ä»¥é…ç½®è®¾å¤‡çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬æ¥å£ã€å¸¸è§„è·¯ç”±ä¿¡æ¯ã€è·¯ç”±åè®®ã€ç”¨æˆ·è®¿é—®ä»¥åŠå¤šä¸ªç³»ç»Ÿå’Œç¡¬ä»¶å±æ€§ã€‚Â Junos OSÂ å°†é…ç½®å­˜å‚¨ä¸ºé…ç½®è¯­å¥çš„å±‚æ¬¡ç»“æ„ã€‚</p><h2 id="åˆ‡æ¢"><a href="#åˆ‡æ¢" class="headerlink" title="åˆ‡æ¢"></a>åˆ‡æ¢</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">user</span><span class="hljs-variable">@host</span><span class="hljs-operator">&gt;</span> <br><span class="hljs-keyword">user</span><span class="hljs-variable">@host</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">start</span> shell<br><span class="hljs-operator">%</span><br><span class="hljs-operator">%</span> su<br>Password:<br><br>root#<br><br></code></pre></td></tr></table></figure><p>érootè´¦å·ç™»å½•ï¼Œè¿›å…¥CLIæ“ä½œæ¨¡å¼ã€‚è¾“å…¥å‘½ä»¤å¯ä»¥è¿›å…¥FreeBSD shellæ¨¡å¼ï¼Œè®¿é—®Junosåº•å±‚ã€‚</p><p>ä½†è´¦å·æƒé™æ˜¯æ™®é€šè´¦å·ï¼Œå¯ä»¥ä½¿ç”¨su,åˆ‡æ¢ä¸ºrootè´¦å·ï¼Œæé«˜æƒé™ã€‚</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs elixir">root<span class="hljs-comment"># uname </span><br><span class="hljs-title class_">FreeBSD</span><br>root<span class="hljs-comment"># vhclient -s</span><br>root<span class="hljs-variable">@host</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># uname</span><br><span class="hljs-title class_">Linux</span><br><br></code></pre></td></tr></table></figure><p>è¿›å…¥Linux shellæ¨¡å¼</p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h1><p> <a href="https://www.juniper.net/documentation/cn/zh/software/junos/junos-overview/index.html">Junos æ¦‚è¿°</a></p><p> <a href="https://www.juniper.net/documentation/cn/zh/software/junos/cli/topics/topic-map/cli-overview.html">CLIæ¦‚è¦</a></p><p> <a href="https://www.juniper.net/documentation/cn/zh/software/junos/junos-install-upgrade/topics/topic-map/vm-host-overview.html">è™šæ‹Ÿä¸»æœº</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/team_nav/">éƒ¨ç½²å›¢é˜ŸæœåŠ¡å¯¼èˆªç½‘ç«™ Team-nav</a></li><li><a href="https://songxwn.com/ESXI_CVE-2021-21974/">ESXi å‹’ç´¢ç—…æ¯’ESXiArgs å…¶CVE-2021-21974æ¼æ´åˆ†æå’Œæ¢å¤</a></li><li><a href="https://songxwn.com/Juniper_RE-Protect/">Juniper REé˜²æŠ¤-è¿‡æ»¤SSH&Telnetç™»å½•</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>netwrok</category>
      
    </categories>
    
    
    <tags>
      
      <tag>netwrok</tag>
      
      <tag>linux</tag>
      
      <tag>juniper</tag>
      
      <tag>freebsd</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Juniper REé˜²æŠ¤-è¿‡æ»¤SSH&amp;Telnetç™»å½•</title>
    <link href="/Juniper_RE-Protect/"/>
    <url>/Juniper_RE-Protect/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>1ã€æœ¬æ•™ç¨‹ä»…é€‚ç”¨äºJuniper MXç³»åˆ—å’ŒQFXç³»åˆ—è®¾å¤‡ã€‚ï¼ˆéªŒè¯è¿‡ï¼‰</p><p>2ã€æäº¤é…ç½®æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨å¯è‡ªåŠ¨å›é€€çš„æäº¤ï¼Œé˜²æ­¢æ— æ³•è¿œç¨‹ç®¡ç†ã€‚</p><p>3ã€æœ¬æ•™ç¨‹ä¸»è¦ç”¨äºJuniperè®¾å¤‡çš„ç™»å½•é˜²æŠ¤ï¼Œé™åˆ¶IPç™»å½•SSHæˆ–Telnetç­‰è¿œç¨‹æ§åˆ¶åè®®ã€‚</p><p>PSï¼šè®¾å¤‡å¦‚æœæœ‰å…¬ç½‘IPï¼Œå‡ ä¹æ— æ—¶ä¸åˆ»éƒ½æœ‰æ‰«æå’Œç™»å½•æ”»å‡»ã€‚è€Œä¸”JuniperæŸäº›ç‰ˆæœ¬æœ‰Bugå¯èƒ½å› æ­¤é‡å¯ã€‚</p><span id="more"></span><h1 id="é…ç½®å‘½ä»¤"><a href="#é…ç½®å‘½ä»¤" class="headerlink" title="é…ç½®å‘½ä»¤"></a>é…ç½®å‘½ä»¤</h1><h2 id="ç¼–å†™è¿‡æ»¤è§„åˆ™"><a href="#ç¼–å†™è¿‡æ»¤è§„åˆ™" class="headerlink" title="ç¼–å†™è¿‡æ»¤è§„åˆ™"></a>ç¼–å†™è¿‡æ»¤è§„åˆ™</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs none">set firewall family inet filter RE-Protect term management_permit from source-address 192.168.2.0/24<br>set firewall family inet filter RE-Protect term management_permit from source-address 172.16.0.1/24<br>set firewall family inet filter RE-Protect term management_permit from protocol tcp<br>set firewall family inet filter RE-Protect term management_permit from destination-port telnet<br>set firewall family inet filter RE-Protect term management_permit from destination-port ssh<br>set firewall family inet filter RE-Protect term management_permit from destination-port ftp<br>set firewall family inet filter RE-Protect term management_permit then accept<br>set firewall family inet filter RE-Protect term management_deny from protocol tcp<br>set firewall family inet filter RE-Protect term management_deny from destination-port telnet<br>set firewall family inet filter RE-Protect term management_deny from destination-port ssh<br>set firewall family inet filter RE-Protect term management_deny from destination-port ftp<br>set firewall family inet filter RE-Protect term management_deny then reject<br>set firewall family inet filter RE-Protect term other-permit then accept<br><br></code></pre></td></tr></table></figure><ul><li>management_permit è¯­å¥åŒ¹é…æŒ‡å®šæºåœ°å€è®¿é—®SSH Telnet ftpåè®®å…è®¸ã€‚</li><li>management_deny è¯­å¥åŒ¹é…è®¿é—®SSH Telnet ftpåè®®æ‹’ç»ã€‚</li><li>other-permit è¯­å¥å…è®¸æ‰€æœ‰ã€‚</li></ul><p><strong>æ³¨æ„ï¼šæ­¤è§„åˆ™åªåŒ¹é…äº†IPv4</strong></p><h2 id="åº”ç”¨åˆ°lo0å£"><a href="#åº”ç”¨åˆ°lo0å£" class="headerlink" title="åº”ç”¨åˆ°lo0å£"></a>åº”ç”¨åˆ°lo0å£</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">set</span> interfaces lo0 unit <span class="hljs-number">0</span> <span class="hljs-keyword">family</span> <span class="hljs-type">inet</span> <span class="hljs-keyword">filter</span> <span class="hljs-keyword">input</span> RE-Protect<br><br></code></pre></td></tr></table></figure><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°†è¿‡æ»¤è§„åˆ™åº”ç”¨åˆ° lo0.0å£çš„å…¥æ–¹å‘ï¼Œå³å¯å…¨å±€ç”Ÿæ•ˆã€‚</li></ul><h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">show</span> firewall log<br><br><span class="hljs-attribute">Log</span>:<br><span class="hljs-attribute">Time</span>      Filter  Action  Interface     Protocol   Src Addr        Dest Addr<br><span class="hljs-attribute">15</span>:<span class="hljs-number">17</span>:<span class="hljs-number">11</span>  pfe     R       ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>.<span class="hljs-number">0</span>    TCP        <span class="hljs-number">192.168.255.1</span>   <span class="hljs-number">192.168.255.2</span><br><span class="hljs-attribute">15</span>:<span class="hljs-number">12</span>:<span class="hljs-number">04</span>  pfe     R       ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>.<span class="hljs-number">0</span>    TCP        <span class="hljs-number">192.168.255.1</span>   <span class="hljs-number">192.168.255.2</span><br><br></code></pre></td></tr></table></figure><ul><li>è¾“å‡ºç¡®è®¤æ¥è‡ª 192.168.255.1 æºåœ°å€ çš„ä¿¡æ¯æµä¸è¿‡æ»¤å™¨æœ¯è¯­åŒ¹é…ã€‚åˆ—<code>Action</code>æ˜¾ç¤ºä¸€ä¸ª<code>R</code>æ¥æŒ‡ç¤ºè¿™äº›æ•°æ®åŒ…è¢«æ‹’ç»ã€‚è¿˜åˆ—å‡ºäº†æ¥å£ã€ä¼ è¾“åè®®ä»¥åŠ æºå’Œç›®æ ‡åœ°å€ã€‚è¿™äº›ç»“æœç¡®è®¤æ­¤ç¤ºä¾‹çš„é˜²ç«å¢™è¿‡æ»¤å™¨å·¥ä½œæ­£å¸¸ã€‚</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">show <span class="hljs-built_in">log</span> <span class="hljs-keyword">messages</span> | <span class="hljs-keyword">last</span> <span class="hljs-number">100</span> | <span class="hljs-keyword">match</span> ssh <br><br></code></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹æ—¥å¿—åŒ¹é…sshï¼Œå¯æŸ¥çœ‹æ˜¯å¦æœ‰sshç™»å½•å¤±è´¥æ—¥å¿—ã€‚æ— åˆ™ç”Ÿæ•ˆã€‚</li></ul><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-keyword">show</span> <span class="hljs-keyword">system</span> connections    <br><br></code></pre></td></tr></table></figure><ul><li>å¯æŸ¥çœ‹ç›‘å¬ç«¯å£ä¸å»ºç«‹çš„è¿æ¥ã€‚</li></ul><h2 id="loå£åŠ å…¥VRFå¯¼è‡´SSHè¿‡æ»¤ä¸ç”Ÿæ•ˆ"><a href="#loå£åŠ å…¥VRFå¯¼è‡´SSHè¿‡æ»¤ä¸ç”Ÿæ•ˆ" class="headerlink" title="loå£åŠ å…¥VRFå¯¼è‡´SSHè¿‡æ»¤ä¸ç”Ÿæ•ˆ"></a>loå£åŠ å…¥VRFå¯¼è‡´SSHè¿‡æ»¤ä¸ç”Ÿæ•ˆ</h2><ul><li>å°†è¿‡æ»¤è§„åˆ™åº”ç”¨åˆ°lo0.0 çš„ç¡®å¯ä»¥å…¨å±€ç”Ÿæ•ˆï¼Œä½†æ˜¯åœ¨æ²¡æœ‰lo0å…¶ä»–å­æ¥å£æœªè¢«é…ç½®åˆ°å…¶ä»–routing-instancesæƒ…å†µã€‚å¦‚æœé…ç½®äº†ï¼Œæ­¤routing-instancesçš„IPæ˜¯ä¸å—åŒ¹é…è§„åˆ™å½±å“ã€‚</li><li>åªéœ€è¦å•ç‹¬åŒ¹é…åŠ å…¥routing-instancesçš„lo0çš„è¿‡æ»¤è§„åˆ™å³å¯ã€‚</li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.juniper.net/documentation/cn/zh/software/junos/routing-policy/topics/example/firewall-filter-stateless-example-trusted-source-block-telnet-and-ssh-access.html">Juniperæ–‡æ¡£</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>juniper</tag>
      
      <tag>ssh</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HCIE Datacom-01.2 IGPé«˜çº§ç‰¹æ€§-OSPF-è·¯ç”±æ§åˆ¶</title>
    <link href="/ospf-route-c/"/>
    <url>/ospf-route-c/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><strong>OSPFçš„è·¯ç”±æ§åˆ¶åŒ…æ‹¬ï¼š</strong></p><ul><li>è°ƒæ•´OSPFçš„æ¥å£å¼€é”€</li><li>è®¾ç½®ç­‰ä»·è·¯ç”±</li><li>å¼•å…¥å¤–éƒ¨è·¯ç”±</li><li>è·¯ç”±èšåˆ</li><li>ç¼ºçœè·¯ç”±é€šå‘Š</li><li>Filter-Policy</li><li>å¯¹å‘é€çš„LSAè¿›è¡Œè¿‡æ»¤</li><li>å¯¹ABR Type3 LSAè¿›è¡Œè¿‡æ»¤</li><li>è®¾ç½®LSDBä¸­External LSAçš„æœ€å¤§æ•°é‡</li><li>æ¡ˆä¾‹</li></ul><p>æœ¬æ–‡ç« å‚è€ƒåä¸ºè®¤è¯ç³»åˆ—PPT</p><span id="more"></span><h2 id="ç­‰ä»·è·¯ç”±"><a href="#ç­‰ä»·è·¯ç”±" class="headerlink" title="ç­‰ä»·è·¯ç”±"></a>ç­‰ä»·è·¯ç”±</h2><ul><li><p>å½“è·¯ç”±è¡¨ä¸­å­˜åœ¨åˆ°è¾¾åŒä¸€ç›®çš„åœ°å€ï¼Œä¸”åŒä¸€è·¯ç”±åè®®å‘ç°çš„å¤šæ¡è·¯ç”±æ—¶ï¼Œè‹¥è¿™å‡ æ¡è·¯ç”±çš„å¼€é”€å€¼ï¼ˆCostï¼‰ä¹Ÿç›¸åŒï¼Œé‚£ä¹ˆè¿™äº›è·¯ç”±å°±æ˜¯ç­‰ä»·è·¯ç”±ï¼Œå¯ä»¥å®ç°è´Ÿè½½åˆ†æ‹…ã€‚ï¼ˆOSPFé€‰è·¯åŸºæœ¬é Costå€¼ï¼‰</p></li><li><p>è®¾å¤‡å°†æŒ‰ç…§è´Ÿè½½åˆ†æ‹…çš„æ–¹å¼ä»å¤šæ¡ç­‰ä»·è·¯ç”±å‘é€æŠ¥æ–‡åˆ°åŒä¸€ç›®çš„åœ°å€ã€‚</p><p>   è®¾ç½®è¿›è¡Œè´Ÿè½½åˆ†æ‹…çš„ç­‰ä»·è·¯ç”±çš„æœ€å¤§æ•°é‡ï¼š</p></li></ul><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span> maximum load-balancingÂ number<br><br></code></pre></td></tr></table></figure><p>PSï¼šé»˜è®¤ä¸º1ï¼Œä¸è¿›è¡Œç­‰ä»·è·¯ç”±ã€‚</p><p>å‘½ä»¤è¯´æ˜ï¼š</p><p>[Huawei-ospf-1] maximum load-balancingÂ number</p><p>numberï¼šç­‰ä»·è·¯ç”±çš„æœ€å¤§æ•°é‡ã€‚è®¾å¤‡å‹å·ä¸åŒï¼Œå–å€¼èŒƒå›´ä¸åŒï¼Œå…·ä½“è¯·å‚è€ƒç›¸åº”è®¾å¤‡çš„äº§å“æ–‡æ¡£ã€‚</p><h2 id="ç­‰ä»·è·¯ç”±é…ç½®ä¸¾ä¾‹"><a href="#ç­‰ä»·è·¯ç”±é…ç½®ä¸¾ä¾‹" class="headerlink" title="ç­‰ä»·è·¯ç”±é…ç½®ä¸¾ä¾‹"></a>ç­‰ä»·è·¯ç”±é…ç½®ä¸¾ä¾‹</h2><p><img src="https://s3.bmp.ovh/imgs/2022/12/25/6d24f71b442758ea.png" srcset="/img/loading.gif" lazyload></p><p>é€šè¿‡é…ç½®ï¼Œè¦æ±‚R1å¯ä»¥é€šè¿‡R1-R3è·¯å¾„è®¿é—®R3çš„ç¯å›å£åœ°å€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡R1-R2-R3è·¯å¾„è®¿é—®R3çš„ç¯å›å£åœ°å€ã€‚</p><p>1ã€å„è®¾å¤‡é…ç½®æ¥å£åœ°å€åŠéƒ¨ç½²OSPFã€‚ï¼ˆç•¥ï¼‰</p><p>2ã€R1é…ç½®è·¯ç”±è´Ÿè½½åˆ†æ‹…ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[R1]</span> ospf<br><span class="hljs-string">[R1-ospf-1]</span> maximum load-balancing <span class="hljs-number">3</span><br><br></code></pre></td></tr></table></figure><p>3ã€ç»“æœéªŒè¯ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">[R1]display ip routing-table <br><span class="hljs-section">Route Flags: R - relay, D - download to fib</span><br><span class="hljs-section">-------------------------------------------------------------------------------------------</span><br><br>Destination/Mask Proto   Pre  Cost   Flags NextHop     Interface<br>10.1.3.3/32    OSPF    10   10       D   10.1.13.3   GigabitEthernet0/0/0<br><span class="hljs-code">                    OSPF    10   10       D   10.1.12.2   GigabitEthernet0/0/1</span><br><br></code></pre></td></tr></table></figure><h2 id="ç¼ºçœè·¯ç”±"><a href="#ç¼ºçœè·¯ç”±" class="headerlink" title="ç¼ºçœè·¯ç”±"></a>ç¼ºçœè·¯ç”±</h2><ul><li>OSPFå®é™…ç»„ç½‘åº”ç”¨ä¸­ï¼ŒåŒºåŸŸè¾¹ç•Œå’Œè‡ªæ²»ç³»ç»Ÿè¾¹ç•Œé€šå¸¸éƒ½æ˜¯ç”±å¤šä¸ªè·¯ç”±å™¨ç»„æˆçš„å¤šå‡ºå£å†—ä½™å¤‡ä»½æˆ–è€…è´Ÿè½½åˆ†æ‹…ã€‚æ­¤æ—¶ï¼Œä¸ºäº†å‡å°‘è·¯ç”±è¡¨çš„å®¹é‡ï¼Œå¯ä»¥é…ç½®ç¼ºçœè·¯ç”±ï¼Œä¿è¯ç½‘ç»œçš„é«˜å¯ç”¨æ€§ã€‚</li><li>OSPFç¼ºçœè·¯ç”±é€šå¸¸åº”ç”¨äºä¸‹é¢ä¸¤ç§æƒ…å†µï¼š</li></ul><blockquote><p>ç”±åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼ˆABRï¼‰å‘å¸ƒType3 LSAï¼Œç”¨æ¥æŒ‡å¯¼ç‰¹æ®ŠåŒºåŸŸå†…è·¯ç”±å™¨è¿›è¡ŒåŒºåŸŸä¹‹é—´æŠ¥æ–‡çš„è½¬å‘ã€‚</p><p>ç”±è‡ªæ²»ç³»ç»Ÿè¾¹ç•Œè·¯ç”±å™¨ï¼ˆASBRï¼‰å‘å¸ƒType5 LSAæˆ–Type7 LSAï¼Œç”¨æ¥æŒ‡å¯¼OSPFè·¯ç”±åŸŸå†…è·¯ç”±å™¨è¿›è¡ŒåŸŸå¤–æŠ¥æ–‡çš„è½¬å‘ã€‚</p></blockquote><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/17a4e512cd1419d4.png" srcset="/img/loading.gif" lazyload></p><ul><li>ç¼ºçœè·¯ç”±æ˜¯æŒ‡ç›®çš„åœ°å€å’Œæ©ç éƒ½æ˜¯0çš„è·¯ç”±ã€‚å½“è®¾å¤‡æ— ç²¾ç¡®åŒ¹é…çš„è·¯ç”±æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡ç¼ºçœè·¯ç”±è¿›è¡ŒæŠ¥æ–‡è½¬å‘ã€‚ç”±äºOSPFè·¯ç”±çš„åˆ†çº§ç®¡ç†ï¼ŒType3ç¼ºçœè·¯ç”±çš„ä¼˜å…ˆçº§é«˜äºType5æˆ–Type7è·¯ç”±ã€‚</li><li>æ™®é€šåŒºåŸŸï¼š</li></ul><blockquote><p>ç¼ºçœæƒ…å†µä¸‹ï¼Œæ™®é€šOSPFåŒºåŸŸå†…çš„OSPFè·¯ç”±å™¨æ˜¯ä¸ä¼šäº§ç”Ÿç¼ºçœè·¯ç”±çš„ï¼Œå³ä½¿å®ƒæœ‰ç¼ºçœè·¯ç”±ã€‚å½“è¯¥è·¯ç”±å™¨éœ€è¦å‘OSPFå‘å¸ƒç¼ºçœè·¯ç”±æ—¶ï¼Œå¿…é¡»æ‰‹å·¥æ‰§è¡Œdefault-route-advertiseå‘½ä»¤ï¼Œé…ç½®å®Œæˆåï¼Œè·¯ç”±å™¨ä¼šäº§ç”Ÿä¸€ä¸ªç¼ºçœASE LSAï¼ˆType5 LSAï¼‰ï¼Œå¹¶ä¸”é€šå‘Šåˆ°æ•´ä¸ªOSPFè‡ªæ²»ç³»ç»Ÿä¸­ã€‚</p></blockquote><ul><li>StubåŒºåŸŸï¼š</li></ul><blockquote><p>StubåŒºåŸŸä¸å…è®¸è‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„è·¯ç”±ï¼ˆType5 LSAï¼‰åœ¨åŒºåŸŸå†…ä¼ æ’­ã€‚åŒºåŸŸå†…çš„è·¯ç”±å™¨å¿…é¡»é€šè¿‡ABRå­¦åˆ°è‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„è·¯ç”±ã€‚</p><p>StubåŒºåŸŸçš„ABRä¼šè‡ªåŠ¨äº§ç”Ÿä¸€æ¡ç¼ºçœçš„Type3 LSAé€šå‘Šåˆ°æ•´ä¸ªStubåŒºåŸŸã€‚ABRé€šè¿‡è¯¥ç¼ºçœè·¯ç”±ï¼Œå°†åˆ°è¾¾ASå¤–éƒ¨çš„æµé‡å¸å¼•åˆ°è‡ªå·±è¿™é‡Œï¼Œç„¶åé€šè¿‡ABRè½¬å‘å‡ºå»ã€‚</p></blockquote><ul><li>Totally StubåŒºåŸŸï¼š</li></ul><blockquote><p>Totally StubåŒºåŸŸæ—¢ä¸å…è®¸è‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„è·¯ç”±ï¼ˆType5 LSAï¼‰åœ¨åŒºåŸŸå†…ä¼ æ’­ï¼Œä¹Ÿä¸å…è®¸åŒºåŸŸé—´è·¯ç”±ï¼ˆType3 LSAï¼‰åœ¨åŒºåŸŸå†…ä¼ æ’­ã€‚åŒºåŸŸå†…çš„è·¯ç”±å™¨å¿…é¡»é€šè¿‡ABRå­¦åˆ°è‡ªæ²»ç³»ç»Ÿå¤–éƒ¨å’Œå…¶ä»–åŒºåŸŸçš„è·¯ç”±ã€‚</p><p>Totally StubåŒºåŸŸçš„ABRä¼šè‡ªåŠ¨äº§ç”Ÿä¸€æ¡ç¼ºçœçš„Type3 LSAé€šå‘Šåˆ°æ•´ä¸ªStubåŒºåŸŸã€‚ABRé€šè¿‡è¯¥ç¼ºçœè·¯ç”±ï¼Œå°†åˆ°è¾¾ASå¤–éƒ¨å’Œå…¶å®ƒåŒºåŸŸçš„æµé‡å¸å¼•åˆ°è‡ªå·±è¿™é‡Œï¼Œç„¶åé€šè¿‡ABRè½¬å‘å‡ºå»ã€‚</p></blockquote><ul><li>NSSAåŒºåŸŸï¼š</li></ul><blockquote><p>å¦‚æœå¸Œæœ›åˆ°è¾¾è‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„è·¯ç”±é€šè¿‡æœ¬åŒºåŸŸï¼ˆNSSAåŒºåŸŸï¼‰çš„ASBRåˆ°è¾¾ï¼Œè€Œå…¶å®ƒå¤–éƒ¨è·¯ç”±é€šè¿‡å…¶å®ƒåŒºåŸŸå‡ºå»ã€‚æ­¤æ—¶ï¼ŒABRä¼šäº§ç”Ÿä¸€æ¡Type7 LSAçš„ç¼ºçœè·¯ç”±ï¼Œé€šå‘Šåˆ°æ•´ä¸ªNSSAåŒºåŸŸå†…ã€‚è¿™æ ·ï¼Œé™¤äº†æŸå°‘éƒ¨åˆ†è·¯ç”±é€šè¿‡NSSAçš„ASBRåˆ°è¾¾ï¼Œå…¶å®ƒè·¯ç”±éƒ½å¯ä»¥é€šè¿‡NSSAçš„ABRåˆ°è¾¾å…¶å®ƒåŒºåŸŸçš„ASBRå‡ºå»ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨ABRä¸Šæ— è®ºè·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨ç¼ºçœè·¯ç”±0.0.0.0ï¼Œéƒ½ä¼šäº§ç”ŸType7 LSAçš„ç¼ºçœè·¯ç”±ã€‚</p><p>å¦‚æœå¸Œæœ›æ‰€æœ‰çš„å¤–éƒ¨è·¯ç”±åªé€šè¿‡æœ¬åŒºåŸŸï¼ˆNSSAåŒºåŸŸï¼‰çš„ASBRåˆ°è¾¾ï¼Œåˆ™å¿…é¡»åœ¨ASBRä¸Šæ‰‹åŠ¨æ‰§è¡Œnssa [default-route-advertise]å‘½ä»¤è¿›è¡Œé…ç½®ï¼Œä½¿ASBRäº§ç”Ÿä¸€æ¡ç¼ºçœçš„NSSA LSAï¼ˆType7 LSAï¼‰ï¼Œé€šå‘Šåˆ°æ•´ä¸ªNSSAåŒºåŸŸå†…ã€‚è¿™æ ·ï¼Œæ‰€æœ‰çš„å¤–éƒ¨è·¯ç”±å°±åªèƒ½é€šè¿‡æœ¬åŒºåŸŸNSSAçš„ASBRåˆ°è¾¾ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨ASBRä¸Šåªæœ‰å½“è·¯ç”±è¡¨ä¸­å­˜åœ¨ç¼ºçœè·¯ç”±0.0.0.0æ—¶ï¼Œæ‰ä¼šäº§ç”ŸType7 LSAçš„ç¼ºçœè·¯ç”±ã€‚</p><p>æ³¨æ„ï¼šå› ä¸ºç¼ºçœè·¯ç”±åªæ˜¯åœ¨æœ¬NSSAåŒºåŸŸå†…æ³›æ´ªï¼Œå¹¶æ²¡æœ‰æ³›æ´ªåˆ°æ•´ä¸ªOSPFåŸŸä¸­ï¼Œæ‰€ä»¥æœ¬NSSAåŒºåŸŸå†…çš„è·¯ç”±å™¨åœ¨æ‰¾ä¸åˆ°è·¯ç”±ä¹‹åå¯ä»¥ä»è¯¥NSSAçš„ASBRå‡ºå»ï¼Œä½†ä¸èƒ½å®ç°å…¶ä»–OSPFåŸŸçš„è·¯ç”±ä»è¿™ä¸ªå‡ºå£å‡ºå»ã€‚Type7 LSAç¼ºçœè·¯ç”±ä¸ä¼šåœ¨ABRä¸Šè½¬æ¢æˆType5 LSAç¼ºçœè·¯ç”±æ³›æ´ªåˆ°æ•´ä¸ªOSPFåŸŸã€‚</p></blockquote><ul><li>Totally NSSAåŒºåŸŸï¼š</li></ul><blockquote><p>Totally NSSAçš„ABRä¼šè‡ªåŠ¨å‘è¯¥åŒºåŸŸä¸‹å‘ä½¿ç”¨Type3 LSAæè¿°çš„ç¼ºçœè·¯ç”±ï¼Œè€ŒTotally NSSAçš„ASBRåˆ™ä¸ä¼šè‡ªåŠ¨ä¸‹å‘ç¼ºçœè·¯ç”±ã€‚å› æ­¤ï¼Œåœ¨è¯¥åœºæ™¯ä¸‹ï¼Œå¯¹äºåŒºåŸŸå†…çš„è·¯ç”±å™¨è€Œè¨€ï¼Œå¯ä»¥é€šè¿‡ASBRå¼•å…¥çš„å¤–éƒ¨è·¯ç”±åˆ°è¾¾ç›¸åº”çš„å¤–éƒ¨ç½‘æ®µã€é€šè¿‡ABRä¸‹å‘çš„ç¼ºçœè·¯ç”±åˆ°è¾¾å…¶ä»–ç½‘æ®µã€‚</p><p>å¦‚æœå¸Œæœ›Totally NSSAå†…çš„è·¯ç”±å™¨é€‰æ‹©ASBRä½œä¸ºé»˜è®¤å‡ºå£ï¼Œè€Œä¸æ˜¯ABRï¼Œé‚£ä¹ˆéœ€è¦è®©ASBRä¹Ÿä¸‹å‘ç¼ºçœè·¯ç”±ï¼Œæ­¤æ—¶å¿…é¡»åœ¨ASBRä¸Šæ‰‹å·¥æ‰§è¡Œé…ç½®ã€‚</p></blockquote><h3 id="å°†ç¼ºçœè·¯ç”±é€šå‘Šåˆ°OSPFè·¯ç”±åŒºåŸŸ"><a href="#å°†ç¼ºçœè·¯ç”±é€šå‘Šåˆ°OSPFè·¯ç”±åŒºåŸŸ" class="headerlink" title="å°†ç¼ºçœè·¯ç”±é€šå‘Šåˆ°OSPFè·¯ç”±åŒºåŸŸ"></a>å°†ç¼ºçœè·¯ç”±é€šå‘Šåˆ°OSPFè·¯ç”±åŒºåŸŸ</h3><p>1ã€å°†ç¼ºçœè·¯ç”±é€šå‘Šåˆ°æ™®é€šOSPFåŒºåŸŸã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei-ospf<span class="hljs-number">-1</span>] <span class="hljs-keyword">default</span>-route-advertiseÂ [ [Â <span class="hljs-keyword">always</span>Â |Â permit-calculate-otherÂ ] |Â <span class="hljs-keyword">cost</span>Â <span class="hljs-keyword">cost</span>Â |Â <span class="hljs-keyword">type</span>Â <span class="hljs-keyword">type</span>Â |Â route-<span class="hljs-keyword">policy</span>Â route-<span class="hljs-keyword">policy</span>-<span class="hljs-type">name</span>Â [Â match-<span class="hljs-keyword">any</span>Â ] ]<br><br></code></pre></td></tr></table></figure><p>ç¼ºçœæƒ…å†µä¸‹ï¼Œåœ¨æ™®é€šOSPFåŒºåŸŸå†…çš„OSPFè®¾å¤‡ä¸äº§ç”Ÿç¼ºçœè·¯ç”±ã€‚</p><p>2ã€æŒ‡å®šType3 Summary-LSAçš„ç¼ºçœå¼€é”€å€¼ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei-ospf<span class="hljs-number">-1</span>] <span class="hljs-keyword">default</span>-route-advertiseÂ <span class="hljs-keyword">summary</span>Â <span class="hljs-keyword">cost</span>Â <span class="hljs-keyword">cost</span><br><br></code></pre></td></tr></table></figure><h4 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h4><ul><li>import-route (OSPF)å‘½ä»¤ä¸èƒ½å¼•å…¥å¤–éƒ¨è·¯ç”±çš„ç¼ºçœè·¯ç”±ã€‚å½“éœ€è¦å¼•å…¥å…¶ä»–åè®®äº§ç”Ÿçš„ç¼ºçœè·¯ç”±æ—¶ï¼Œå¿…é¡»åœ¨ASBRä¸Šé…ç½®default-route-advertiseå‘½ä»¤ï¼Œå‘å¸ƒç¼ºçœè·¯ç”±åˆ°æ•´ä¸ªæ™®é€šOSPFåŒºåŸŸã€‚</li><li>OSPFè·¯ç”±åŸŸä¸­åœ¨é€šå‘Šç¼ºçœè·¯ç”±å‰ï¼Œä¼šæ¯”è¾ƒç¼ºçœè·¯ç”±çš„ä¼˜å…ˆçº§ã€‚å¦‚æœåœ¨æŸOSPFè®¾å¤‡ä¸ŠåŒæ—¶é…ç½®äº†é™æ€ç¼ºçœè·¯ç”±ï¼Œè¦ä½¿OSPFé€šå‘Šçš„ç¼ºçœè·¯ç”±åŠ å…¥åˆ°å½“å‰çš„è·¯ç”±è¡¨ä¸­ï¼Œåˆ™å¿…é¡»ä¿è¯æ‰€é…ç½®çš„é™æ€ç¼ºçœè·¯ç”±çš„ä¼˜å…ˆçº§æ¯”OSPFé€šå‘Šçš„ç¼ºçœè·¯ç”±çš„ä¼˜å…ˆçº§ä½ã€‚</li></ul><h4 id="å‘½ä»¤è¯´æ˜ï¼š"><a href="#å‘½ä»¤è¯´æ˜ï¼š" class="headerlink" title="å‘½ä»¤è¯´æ˜ï¼š"></a>å‘½ä»¤è¯´æ˜ï¼š</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei-ospf<span class="hljs-number">-1</span>] <span class="hljs-keyword">default</span>-route-advertiseÂ [ [Â <span class="hljs-keyword">always</span>Â |Â permit-calculate-otherÂ ] |Â <span class="hljs-keyword">cost</span>Â <span class="hljs-keyword">cost</span>Â |Â <span class="hljs-keyword">type</span>Â <span class="hljs-keyword">type</span>Â |Â route-<span class="hljs-keyword">policy</span>Â route-<span class="hljs-keyword">policy</span>-<span class="hljs-type">name</span>Â [Â match-<span class="hljs-keyword">any</span>Â ] ]<br><br></code></pre></td></tr></table></figure><ul><li>alwaysï¼šæ— è®ºæœ¬æœºæ˜¯å¦å­˜åœ¨æ¿€æ´»çš„éæœ¬OSPFç¼ºçœè·¯ç”±ï¼Œéƒ½ä¼šäº§ç”Ÿå¹¶å‘å¸ƒä¸€ä¸ªæè¿°ç¼ºçœè·¯ç”±çš„LSAã€‚</li></ul><blockquote><p>å¦‚æœé…ç½®äº†alwayså‚æ•°ï¼Œè®¾å¤‡ä¸å†è®¡ç®—æ¥è‡ªå…¶ä»–è®¾å¤‡çš„ç¼ºçœè·¯ç”±ã€‚</p><p>å¦‚æœæ²¡æœ‰é…ç½®alwayså‚æ•°ï¼Œæœ¬æœºè·¯ç”±è¡¨ä¸­å¿…é¡»æœ‰æ¿€æ´»çš„éæœ¬OSPFç¼ºçœè·¯ç”±æ—¶æ‰ç”Ÿæˆç¼ºçœè·¯ç”±çš„LSAã€‚</p></blockquote><ul><li>permit-calculate-otherï¼šæœ¬æœºå¿…é¡»å­˜åœ¨æ¿€æ´»çš„éæœ¬OSPFç¼ºçœè·¯ç”±æ—¶æ‰ä¼šäº§ç”Ÿå¹¶å‘å¸ƒä¸€ä¸ªç¼ºçœè·¯ç”±çš„LSAï¼Œä¸”è®¾å¤‡ä»ç„¶è®¡ç®—æ¥è‡ªäºå…¶ä»–è®¾å¤‡çš„ç¼ºçœè·¯ç”±ã€‚</li><li>type typeï¼šæŒ‡å®šå¤–éƒ¨è·¯ç”±çš„ç±»å‹ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼ä¸º1æˆ–2ï¼Œç¼ºçœå€¼æ˜¯2ã€‚</li></ul><blockquote><p>å€¼ä¸º1ï¼šç¬¬ä¸€ç±»å¤–éƒ¨è·¯ç”±</p><p>å€¼ä¸º2ï¼šç¬¬äºŒç±»å¤–éƒ¨è·¯ç”±</p></blockquote><ul><li>route-policy route-policy-nameï¼šé€šè¿‡è·¯ç”±ç­–ç•¥ï¼Œå®ç°åœ¨è·¯ç”±è¡¨ä¸­æœ‰åŒ¹é…çš„éOSPFäº§ç”Ÿçš„ç¼ºçœè·¯ç”±è¡¨é¡¹æ—¶ï¼ŒæŒ‰è·¯ç”±ç­–ç•¥æ‰€é…ç½®çš„å‚æ•°å‘å¸ƒç¼ºçœè·¯ç”±ã€‚å­—ç¬¦ä¸²å½¢å¼ï¼ŒåŒºåˆ†å¤§å°å†™ï¼Œä¸æ”¯æŒç©ºæ ¼ï¼Œé•¿åº¦èŒƒå›´æ˜¯1ï½40ã€‚å½“è¾“å…¥çš„å­—ç¬¦ä¸²ä¸¤ç«¯ä½¿ç”¨åŒå¼•å·æ—¶ï¼Œå¯åœ¨å­—ç¬¦ä¸²ä¸­è¾“å…¥ç©ºæ ¼ã€‚</li><li>match-anyï¼šé€šè¿‡è·¯ç”±ç­–ç•¥ï¼Œå®ç°åœ¨è·¯ç”±è¡¨ä¸­æœ‰åŒ¹é…çš„è·¯ç”±è¡¨é¡¹æ—¶ï¼ŒæŒ‰è·¯ç”±ç­–ç•¥æ‰€é…ç½®çš„å‚æ•°å‘å¸ƒç¼ºçœè·¯ç”±ã€‚</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei-ospf<span class="hljs-number">-1</span>] <span class="hljs-keyword">default</span>-route-advertiseÂ <span class="hljs-keyword">summary</span>Â <span class="hljs-keyword">cost</span>Â <span class="hljs-keyword">cost</span><br><br></code></pre></td></tr></table></figure><ul><li>summaryï¼šå‘å¸ƒæŒ‡å®šç¼ºçœè·¯ç”±çš„Type3 LSAã€‚åœ¨é€‰ç”¨è¯¥å‚æ•°æ—¶ï¼Œå¿…é¡»é¦–å…ˆä½¿èƒ½VPNï¼Œå¦åˆ™è·¯ç”±ä¸èƒ½å‘å¸ƒã€‚</li><li>cost costï¼šæŒ‡å®šè¯¥LSAçš„å¼€é”€å€¼ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯0ï½16777214ã€‚ç¼ºçœå€¼æ˜¯1ã€‚</li></ul><p><strong>å…¶ä»–è¯´æ˜ï¼š</strong></p><ul><li>alwayså‚æ•°ï¼š</li></ul><blockquote><p>ASBRå·²ç»æœ‰ç¼ºçœè·¯ç”±ï¼Œæ‰§è¡Œdefault-route-advertiseå‘½ä»¤ï¼Œå°†åœ¨æ•´ä¸ªOSPFåŒºåŸŸä¸­é€šå‘Šç¼ºçœè·¯ç”±0.0.0.0ã€‚</p><p>ASBRæ²¡æœ‰ç¼ºçœè·¯ç”±ï¼Œæ‰§è¡Œdefault-route-advertiseå‘½ä»¤æ—¶æŒ‰ç…§ä»¥ä¸‹éœ€æ±‚é€‰æ‹©æ˜¯å¦é…ç½®alwayså‚æ•°ã€‚</p><p>å¦‚æœé…ç½®alwayså‚æ•°ï¼Œæ— è®ºASBRæ˜¯å¦æœ‰ç¼ºçœè·¯ç”±éƒ½å°†åœ¨æ•´ä¸ªOSPFåŒºåŸŸä¸­é€šå‘Šç¼ºçœè·¯ç”±0.0.0.0ï¼Œå¹¶ä¸”ä¸å†è®¡ç®—æ¥è‡ªå…¶ä»–è®¾å¤‡çš„ç¼ºçœè·¯ç”±ã€‚</p><p>å¦‚æœæ²¡æœ‰é…ç½®alwayså‚æ•°ï¼ŒASBRçš„è·¯ç”±è¡¨ä¸­å¿…é¡»æœ‰æ¿€æ´»çš„éOSPFï¼ˆBGPé™¤å¤–ï¼‰ç¼ºçœè·¯ç”±æ—¶æ‰ç”Ÿæˆç¼ºçœè·¯ç”±çš„LSAã€‚</p></blockquote><ul><li>match-anyå‚æ•°ï¼š</li></ul><blockquote><p>ä½¿ç”¨å¸¦match-anyå‚æ•°çš„è·¯ç”±ç­–ç•¥æ—¶ï¼Œå¦‚æœæœ‰å¤šæ¡è·¯ç”±é€šè¿‡ç­–ç•¥ï¼Œé€‰å–æœ€ä¼˜è€…æ¥ç”Ÿæˆç¼ºçœLSAã€‚è·¯ç”±é€šè¿‡ç­–ç•¥æ—¶ï¼Œé€‰å–æœ€ä¼˜è€…çš„åŸåˆ™æŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°ä½çš„é¡ºåºå¦‚ä¸‹ï¼š</p><p>è·¯ç”±è®¾ç½®äº†typeçš„ä¼˜å…ˆäºæœªè®¾ç½®çš„ï¼Œå¦‚æœéƒ½è®¾ç½®äº†typeï¼Œå€¼è¶Šå°è¶Šä¼˜å…ˆã€‚</p><p>è·¯ç”±è®¾ç½®äº†costçš„ä¼˜å…ˆäºæœªè®¾ç½®çš„ï¼Œå¦‚æœéƒ½è®¾ç½®äº†costï¼Œå€¼è¶Šå°è¶Šä¼˜å…ˆã€‚</p><p>è·¯ç”±è®¾ç½®äº†tagçš„ä¼˜å…ˆäºæœªè®¾ç½®çš„ï¼Œ å¦‚æœéƒ½è®¾ç½®äº†tagï¼Œå€¼è¶Šå°è¶Šä¼˜å…ˆã€‚</p></blockquote><h2 id="è·¯ç”±èšåˆ"><a href="#è·¯ç”±èšåˆ" class="headerlink" title="è·¯ç”±èšåˆ"></a>è·¯ç”±èšåˆ</h2><p><strong>èƒŒæ™¯ä¿¡æ¯</strong></p><p>å½“OSPFç½‘ç»œè§„æ¨¡è¾ƒå¤§æ—¶ï¼Œé…ç½®è·¯ç”±èšåˆï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘è·¯ç”±è¡¨ä¸­çš„æ¡ç›®ï¼Œå‡å°å¯¹ç³»ç»Ÿèµ„æºçš„å ç”¨ï¼Œä¸å½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚æ­¤å¤–ï¼Œå¦‚æœè¢«èšåˆçš„IPåœ°å€èŒƒå›´å†…çš„æŸæ¡é“¾è·¯é¢‘ç¹Upå’ŒDownï¼Œè¯¥å˜åŒ–å¹¶ä¸ä¼šé€šå‘Šåˆ°è¢«èšåˆçš„IPåœ°å€èŒƒå›´å¤–çš„è®¾å¤‡ã€‚å› æ­¤ï¼Œå¯ä»¥é¿å…ç½‘ç»œä¸­çš„è·¯ç”±éœ‡è¡ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†ç½‘ç»œçš„ç¨³å®šæ€§ã€‚</p><p>ABRå‘å…¶å®ƒåŒºåŸŸå‘é€è·¯ç”±ä¿¡æ¯æ—¶ï¼Œä»¥ç½‘æ®µä¸ºå•ä½ç”ŸæˆType3 LSAã€‚å½“åŒºåŸŸä¸­å­˜åœ¨è¿ç»­çš„ç½‘æ®µï¼ˆå…·æœ‰ç›¸åŒå‰ç¼€çš„è·¯ç”±ä¿¡æ¯ï¼‰æ—¶ï¼Œå¯ä»¥é€šè¿‡abr-summaryå‘½ä»¤å°†è¿™äº›ç½‘æ®µèšåˆæˆä¸€ä¸ªç½‘æ®µï¼ŒABRå‘å…¶ä»–åŒºåŸŸåªå‘é€ä¸€æ¡èšåˆåçš„LSAï¼Œæ‰€æœ‰æŒ‡å®šçš„èšåˆç½‘æ®µèŒƒå›´çš„LSAå°†ä¸ä¼šå†è¢«å•ç‹¬å‘é€ã€‚ä»è€Œå‡å°è·¯ç”±è¡¨çš„è§„æ¨¡ï¼Œæé«˜äº¤æ¢æœºçš„æ€§èƒ½ã€‚</p><p>è¯·åœ¨è¿è¡ŒOSPFåè®®çš„äº¤æ¢æœºä¸Šè¿›è¡Œä»¥ä¸‹é…ç½®ã€‚</p><ul><li><strong>é…ç½®ABRè·¯ç”±èšåˆ</strong></li></ul><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs smali">1ã€æ‰§è¡Œå‘½ä»¤system-viewï¼Œè¿›å…¥ç³»ç»Ÿè§†å›¾ã€‚<br>2ã€æ‰§è¡Œå‘½ä»¤ospf [ process-id ]ï¼Œè¿›å…¥OSPFè¿›ç¨‹è§†å›¾ã€‚<br>3ã€æ‰§è¡Œå‘½ä»¤area area-idï¼Œè¿›å…¥OSPFåŒºåŸŸè§†å›¾ã€‚<br>4ã€æ‰§è¡Œå‘½ä»¤<br>abr-summary ip-address mask [ [ cost &#123; cost | inherit-minimum &#125; | [ advertise [ generate-null0-route ] |<span class="hljs-built_in"> not-advertise </span>| generate-null0-route [ advertise ] ] ] * ]<br>é…ç½®OSPFçš„ABRè·¯ç”±èšåˆã€‚<br><br></code></pre></td></tr></table></figure><ul><li><strong>é…ç½®ASBRè·¯ç”±èšåˆ</strong></li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">æ‰§è¡Œå‘½ä»¤<span class="hljs-keyword">system</span>-<span class="hljs-keyword">view</span>ï¼Œè¿›å…¥ç³»ç»Ÿè§†å›¾ã€‚<br><br>æ‰§è¡Œå‘½ä»¤ospf [ process-id ]ï¼Œè¿›å…¥OSPFè¿›ç¨‹è§†å›¾ã€‚<br><br>ï¼ˆå¯é€‰ï¼‰æ‰§è¡Œå‘½ä»¤<br>asbr-<span class="hljs-keyword">summary</span> <span class="hljs-keyword">type</span> nssa-trans-<span class="hljs-keyword">type</span>-reference [ <span class="hljs-keyword">cost</span> nssa-trans-<span class="hljs-keyword">cost</span>-reference ]ï¼Œ<br>é…ç½®OSPFè®¾ç½®èšåˆè·¯ç”±ç±»å‹ï¼ˆ<span class="hljs-keyword">Type</span>ï¼‰å’Œå¼€é”€å€¼ï¼ˆ<span class="hljs-keyword">Cost</span>ï¼‰æ—¶è€ƒè™‘Type7è½¬æ¢åˆ°Type5çš„LSAã€‚<br><br>ç¼ºçœæƒ…å†µä¸‹ï¼ŒOSPFåœ¨è®¾ç½®èšåˆè·¯ç”±ç±»å‹å’Œå¼€é”€æ—¶ä¸è€ƒè™‘Type7è½¬æ¢åˆ°Type5çš„LSAã€‚<br><br>æ‰§è¡Œå‘½ä»¤<br>asbr-<span class="hljs-keyword">summary</span> ip-address mask [ <span class="hljs-keyword">not</span>-advertise | tag tag | <span class="hljs-keyword">cost</span> <span class="hljs-keyword">cost</span> | distribute-delay <span class="hljs-type">interval</span> ] *ï¼Œ<br>é…ç½®OSPFçš„ASBRè·¯ç”±èšåˆã€‚<br><br></code></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong></p><p>åœ¨é…ç½®è·¯ç”±èšåˆåï¼Œæœ¬åœ°OSPFè®¾å¤‡çš„è·¯ç”±è¡¨ä¿æŒä¸å˜ã€‚ä½†æ˜¯å…¶ä»–OSPFè®¾å¤‡çš„è·¯ç”±è¡¨ä¸­å°†åªæœ‰ä¸€æ¡èšåˆè·¯ç”±ï¼Œæ²¡æœ‰å…·ä½“è·¯ç”±ã€‚ç›´åˆ°ç½‘ç»œä¸­è¢«èšåˆçš„è·¯ç”±éƒ½å‡ºç°æ•…éšœè€Œæ¶ˆå¤±æ—¶ï¼Œè¯¥èšåˆè·¯ç”±æ‰ä¼šæ¶ˆå¤±ã€‚</p><h2 id="å¯¹å‘é€çš„LSAè¿›è¡Œè¿‡æ»¤"><a href="#å¯¹å‘é€çš„LSAè¿›è¡Œè¿‡æ»¤" class="headerlink" title="å¯¹å‘é€çš„LSAè¿›è¡Œè¿‡æ»¤"></a>å¯¹å‘é€çš„LSAè¿›è¡Œè¿‡æ»¤</h2><ul><li>å½“ä¸¤å°è·¯ç”±å™¨ä¹‹é—´å­˜åœ¨å¤šæ¡é“¾è·¯æ—¶ï¼Œå¯ä»¥åœ¨æŸäº›é“¾è·¯ä¸Šé€šè¿‡å¯¹å‘é€çš„LSAè¿›è¡Œè¿‡æ»¤ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡ä¼ ï¼ŒèŠ‚çœå¸¦å®½èµ„æºã€‚</li><li>é€šè¿‡å¯¹OSPFæ¥å£å‡ºæ–¹å‘çš„LSAè¿›è¡Œè¿‡æ»¤å¯ä»¥ä¸å‘é‚»å±…å‘é€æ— ç”¨çš„LSAï¼Œä»è€Œå‡å°‘é‚»å±…LSDBçš„å¤§å°ï¼Œæé«˜ç½‘ç»œæ”¶æ•›é€Ÿåº¦ã€‚</li></ul><p>æ³¨æ„ï¼šOSPFæ˜¯é“¾è·¯çŠ¶æ€åŠ¨æ€è·¯ç”±åè®®ï¼Œäº’ç›¸ä¸ç›´æ¥å‘é€è·¯ç”±ï¼Œæ— æ³•é€šè¿‡è·¯ç”±ç­–ç•¥ç­‰å·¥å…·è¿›è¡Œè¿‡æ»¤å‘é€è·¯ç”±ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">é…ç½®å¯¹OSPFæ¥å£å‡ºæ–¹å‘çš„LSAè¿›è¡Œè¿‡æ»¤ï¼š<br><br></code></pre></td></tr></table></figure><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs fortran">[Huawei-GigabitEthernet0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span>] ospf filter-lsa-<span class="hljs-keyword">out</span>Â &#123;Â <span class="hljs-built_in">all</span>Â | &#123;Â summaryÂ [Â aclÂ &#123;Â acl-<span class="hljs-keyword">number</span>Â |Â acl-<span class="hljs-keyword">name</span>Â &#125;Â ] |Â aseÂ [Â aclÂ &#123;Â acl-<span class="hljs-keyword">number</span>Â |Â acl-<span class="hljs-keyword">name</span>Â &#125;Â ] |Â nssaÂ [Â aclÂ &#123;Â acl-<span class="hljs-keyword">number</span>Â |Â acl-<span class="hljs-keyword">name</span>Â &#125;Â ] &#125;Â &#125;<br><br></code></pre></td></tr></table></figure><p>å¯¹äºå·²ç»å‘é€çš„LSAï¼Œè¦åˆ°3600ç§’æ‰èƒ½è¾¾åˆ°è€åŒ–æ—¶é—´ã€‚</p><h4 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h4><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs fortran">[Huawei-GigabitEthernet0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span>] ospf filter-lsa-<span class="hljs-keyword">out</span>Â &#123;Â <span class="hljs-built_in">all</span>Â | &#123;Â summaryÂ [Â aclÂ &#123;Â acl-<span class="hljs-keyword">number</span>Â |Â acl-<span class="hljs-keyword">name</span>Â &#125;Â ] |Â aseÂ [Â aclÂ &#123;Â acl-<span class="hljs-keyword">number</span>Â |Â acl-<span class="hljs-keyword">name</span>Â &#125;Â ] |Â nssaÂ [Â aclÂ &#123;Â acl-<span class="hljs-keyword">number</span>Â |Â acl-<span class="hljs-keyword">name</span>Â &#125;Â ] &#125;Â &#125;<br><br></code></pre></td></tr></table></figure><p>allï¼šå¯¹é™¤Grace LSAå¤–çš„æ‰€æœ‰LSAè¿›è¡Œè¿‡æ»¤ã€‚</p><p>summaryï¼šå¯¹Network Summary LSAï¼ˆType3 LSAï¼‰è¿›è¡Œè¿‡æ»¤ã€‚</p><p>aseï¼šå¯¹AS External LSAï¼ˆType5 LSAï¼‰è¿›è¡Œè¿‡æ»¤ã€‚</p><p>nssaï¼šå¯¹NSSA LSAï¼ˆType7 LSAï¼‰è¿›è¡Œè¿‡æ»¤ã€‚</p><p>acl acl-numberï¼šæŒ‡å®šåŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨ç¼–å·ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯2000ï½2999ã€‚</p><p>acl acl-nameï¼šæŒ‡å®šè®¿é—®æ§åˆ¶åˆ—è¡¨åç§°ã€‚å­—ç¬¦ä¸²å½¢å¼ï¼Œä¸æ”¯æŒç©ºæ ¼ï¼ŒåŒºåˆ†å¤§å°å†™ï¼Œé•¿åº¦èŒƒå›´æ˜¯1ï½32ï¼Œä»¥è‹±æ–‡å­—æ¯aï½zæˆ–Aï½Zå¼€å§‹ã€‚</p><h3 id="å¯¹ABR-Type3-LSAè¿›è¡Œè¿‡æ»¤"><a href="#å¯¹ABR-Type3-LSAè¿›è¡Œè¿‡æ»¤" class="headerlink" title="å¯¹ABR Type3 LSAè¿›è¡Œè¿‡æ»¤"></a>å¯¹ABR Type3 LSAè¿›è¡Œè¿‡æ»¤</h3><ul><li>å¯¹åŒºåŸŸå†…å‡ºã€å…¥æ–¹å‘ABR Type3 LSAï¼ˆSummary LSAï¼‰è®¾ç½®è¿‡æ»¤æ¡ä»¶ï¼Œåªæœ‰é€šè¿‡è¿‡æ»¤çš„LSAæ‰èƒ½è¢«å‘å¸ƒå’Œæ¥æ”¶ã€‚</li><li>é€šè¿‡å¯¹åŒºåŸŸå†…çš„LSAè¿›è¡Œè¿‡æ»¤å¯ä»¥ä¸å‘é‚»å±…å‘é€æ— ç”¨çš„LSAï¼Œä»è€Œå‡å°‘LSDBçš„å¤§å°ï¼Œæé«˜ç½‘ç»œæ”¶æ•›é€Ÿåº¦ã€‚</li></ul><p> é…ç½®å¯¹åŒºåŸŸå†…å‡ºæ–¹å‘çš„Type3 LSAè¿›è¡Œè¿‡æ»¤ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei-ospf<span class="hljs-number">-1</span>-area<span class="hljs-number">-0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>] <span class="hljs-keyword">filter</span>Â &#123;Â acl-numberÂ |Â acl-<span class="hljs-type">name</span>Â acl-<span class="hljs-type">name</span>Â |Â ip-prefixÂ ip-prefix-<span class="hljs-type">name</span>Â |Â route-<span class="hljs-keyword">policy</span>Â route-<span class="hljs-keyword">policy</span>-<span class="hljs-type">name</span>Â &#125;Â export<br><br></code></pre></td></tr></table></figure><p>é…ç½®å¯¹åŒºåŸŸå†…å…¥æ–¹å‘çš„Type3 LSAè¿›è¡Œè¿‡æ»¤ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">[Huawei-ospf<span class="hljs-number">-1</span>-area<span class="hljs-number">-0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>] <span class="hljs-keyword">filter</span>Â &#123;Â acl-numberÂ |Â acl-<span class="hljs-type">name</span>Â acl-<span class="hljs-type">name</span>Â |Â ip-prefixÂ ip-prefix-<span class="hljs-type">name</span>Â |Â route-<span class="hljs-keyword">policy</span>Â route-<span class="hljs-keyword">policy</span>-<span class="hljs-type">name</span>Â &#125;Â <span class="hljs-keyword">import</span><br><br></code></pre></td></tr></table></figure><h4 id="å‘½ä»¤-1"><a href="#å‘½ä»¤-1" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h4><p>[Huawei-ospf-1-area-0.0.0.1] filterÂ {Â acl-numberÂ |Â acl-nameÂ acl-nameÂ |Â ip-prefixÂ ip-prefix-nameÂ |Â route-policyÂ route-policy-nameÂ }Â export</p><p>acl-numberï¼šæŒ‡å®šåŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨å·ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯2000ï½2999ã€‚</p><h4 id="ä½¿èƒ½Mesh-Groupç‰¹æ€§"><a href="#ä½¿èƒ½Mesh-Groupç‰¹æ€§" class="headerlink" title="ä½¿èƒ½Mesh-Groupç‰¹æ€§"></a>ä½¿èƒ½Mesh-Groupç‰¹æ€§</h4><p><strong>èƒŒæ™¯ä¿¡æ¯</strong></p><p>å½“äº¤æ¢æœºå’Œé‚»å±…å­˜åœ¨å¹¶è¡Œé“¾è·¯æ—¶ï¼Œä½¿èƒ½Mesh-Groupç‰¹æ€§ï¼Œå¯ä»¥å‡è½»é“¾è·¯çš„å‹åŠ›ã€‚</p><p>Mesh-Groupæ—¶ä»¥é‚»å±…çš„Router-idå”¯ä¸€æ ‡è¯†ä¸€ä¸ªGroupã€‚æ˜¯å‡ æ¡å¹¶è¡Œçš„LSAï¼Œåˆå¹¶ä¸ºä¸€ä¸ªç»„ï¼Œåªæ³›æ´ªä¸€æ¬¡ã€‚åªæœ‰åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶çš„æ¥å£æ‰èƒ½å±äºåŒä¸€ä¸ªMesh-Groupï¼š</p><ul><li>å±äºç›¸åŒåŒºåŸŸå’ŒOSPFè¿›ç¨‹</li><li>æ¥å£çŠ¶æ€å¤§äºExchange</li><li>åªè¿ç€åŒä¸€ä¸ªé‚»å±…</li></ul><p>è¯·åœ¨è¿è¡ŒOSPFåè®®çš„äº¤æ¢æœºä¸Šè¿›è¡Œä»¥ä¸‹é…ç½®ã€‚</p><h4 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h4><ol><li><p>æ‰§è¡Œå‘½ä»¤system-viewï¼Œè¿›å…¥ç³»ç»Ÿè§†å›¾ã€‚</p></li><li><p>æ‰§è¡Œå‘½ä»¤ospfÂ [Â </p><p><em>process-id</em></p><p>Â ]ï¼Œè¿›å…¥OSPFè¿›ç¨‹è§†å›¾ã€‚</p></li><li><p>æ‰§è¡Œå‘½ä»¤mesh-group enableï¼Œä½¿èƒ½Mesh-Groupç‰¹æ€§ã€‚</p></li></ol><h2 id="OSPF-Database-Overflowæ¦‚è¿°ï¼ˆæ•°æ®åº“æº¢å‡ºï¼‰"><a href="#OSPF-Database-Overflowæ¦‚è¿°ï¼ˆæ•°æ®åº“æº¢å‡ºï¼‰" class="headerlink" title="OSPF Database Overflowæ¦‚è¿°ï¼ˆæ•°æ®åº“æº¢å‡ºï¼‰"></a>OSPF Database Overflowæ¦‚è¿°ï¼ˆæ•°æ®åº“æº¢å‡ºï¼‰</h2><ul><li>OSPFè¦æ±‚åŒä¸€ä¸ªåŒºåŸŸä¸­çš„è·¯ç”±å™¨ä¿å­˜ç›¸åŒçš„LSDBã€‚éšç€ç½‘ç»œä¸Šè·¯ç”±æ•°é‡ä¸æ–­å¢åŠ ï¼Œä¸€äº›è·¯ç”±å™¨ç”±äºç³»ç»Ÿèµ„æºæœ‰é™ï¼Œä¸èƒ½å†æ‰¿è½½å¦‚æ­¤å¤šçš„è·¯ç”±ä¿¡æ¯ï¼Œè¿™ç§çŠ¶æ€å°±è¢«ç§°ä¸ºæ•°æ®åº“è¶…é™ï¼ˆOSPF Database Overflowï¼‰ã€‚</li><li>å¯¹äºè·¯ç”±ä¿¡æ¯ä¸æ–­å¢åŠ å¯¼è‡´è·¯ç”±å™¨ç³»ç»Ÿèµ„æºè€—å°½è€Œå¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡é…ç½®Stubæˆ–NSSAåŒºåŸŸæ¥è§£å†³ï¼Œ<strong>ä½†Stubæˆ–NSSAåŒºåŸŸçš„æ–¹æ¡ˆä¸èƒ½è§£å†³åŠ¨æ€è·¯ç”±å¢é•¿å¯¼è‡´çš„æ•°æ®åº“è¶…é™é—®é¢˜</strong>ã€‚ä¸ºäº†è§£å†³æ•°æ®åº“è¶…é™å¼•å‘çš„é—®é¢˜ï¼Œé€šè¿‡è®¾ç½®LSDBä¸­External LSAçš„æœ€å¤§æ¡ç›®æ•°ï¼Œå¯ä»¥åŠ¨æ€é™åˆ¶æ•°æ®åº“çš„è§„æ¨¡ã€‚ï¼ˆç‰¹æ®ŠåŒºåŸŸåªä¼šé™åˆ¶ç”Ÿæˆè·¯ç”±æ¡ç›®ï¼Œä½†ä¸ä¼šé™åˆ¶æ¥æ”¶LSAï¼‰</li></ul><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs delphi">è®¾ç½®OSPFçš„LSDBä¸­<span class="hljs-keyword">External</span> LSAçš„æœ€å¤§æ¡ç›®æ•°ï¼š<br><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[Huawei-ospf-1]</span> lsdb-<span class="hljs-attribute">overflow</span>-limitÂ number<br><br></code></pre></td></tr></table></figure><p>å½“OSPFå¼•å…¥çš„å¤–éƒ¨è·¯ç”±ï¼ˆType5 LSAå’ŒType7 LSAï¼‰æ•°é‡è¶…è¿‡å…è®¸çš„èŒƒå›´ï¼Œä¼šå¯¼è‡´è¶…å‡ºçš„å¤–éƒ¨è·¯ç”±æ— æ³•å¾—åˆ°æ­£å¸¸å¤„ç†ï¼Œä¸¢å¤±å¼•å…¥çš„è·¯ç”±ã€‚ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œé€šè¿‡é…ç½®OSPFçš„LSDBä¸­External LSAçš„æœ€å¤§æ¡ç›®æ•°ï¼Œä¿è¯å¼•å…¥çš„å¤–éƒ¨è·¯ç”±åœ¨ä¸€ä¸ªåˆç†çš„èŒƒå›´å†…ï¼Œè°ƒæ•´å’Œä¼˜åŒ–OSPFç½‘ç»œã€‚</p><p>å‘½ä»¤ï¼š[Huawei-ospf-1] lsdb-overflow-limitÂ number</p><p>numberï¼šæŒ‡å®šLSDBä¸­External LSAçš„æœ€å¤§æ¡ç›®æ•°ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½1000000ã€‚</p><h3 id="é¿å…OSPF-Database-Overflowå·¥ä½œåŸç†"><a href="#é¿å…OSPF-Database-Overflowå·¥ä½œåŸç†" class="headerlink" title="é¿å…OSPF Database Overflowå·¥ä½œåŸç†"></a>é¿å…OSPF Database Overflowå·¥ä½œåŸç†</h3><ul><li>ä¸ºäº†é¿å…æ•°æ®åº“è¶…é™ï¼Œå¯ä»¥è®¾ç½®è·¯ç”±å™¨ä¸Šéç¼ºçœå¤–éƒ¨è·¯ç”±æ•°é‡çš„ä¸Šé™ã€‚</li><li>OSPFç½‘ç»œä¸­æ‰€æœ‰è·¯ç”±å™¨éƒ½é…ç½®ç›¸åŒçš„ä¸Šé™å€¼ï¼Œåªè¦è·¯ç”±å™¨ä¸Šå¤–éƒ¨è·¯ç”±çš„æ•°é‡è¾¾åˆ°è¯¥ä¸Šé™ï¼Œè·¯ç”±å™¨å°±è¿›å…¥OverflowçŠ¶æ€ï¼Œå¹¶åŒæ—¶å¯åŠ¨OverflowçŠ¶æ€å®šæ—¶å™¨ï¼ˆé»˜è®¤è¶…æ—¶æ—¶é—´ä¸º5ç§’ï¼‰ï¼Œè·¯ç”±å™¨åœ¨å®šæ—¶å™¨è¶…è¿‡5ç§’åè‡ªåŠ¨é€€å‡ºOverflowçŠ¶æ€ã€‚<img src="https://s3.bmp.ovh/imgs/2022/12/31/741d4f6a6e8e83cb.png" srcset="/img/loading.gif" lazyload></li></ul><h2 id="è·¯ç”±æ§åˆ¶é…ç½®æ¡ˆä¾‹"><a href="#è·¯ç”±æ§åˆ¶é…ç½®æ¡ˆä¾‹" class="headerlink" title="è·¯ç”±æ§åˆ¶é…ç½®æ¡ˆä¾‹"></a>è·¯ç”±æ§åˆ¶é…ç½®æ¡ˆä¾‹</h2><h3 id="OSPFè·¯ç”±æ§åˆ¶é…ç½®ä¸¾ä¾‹-è¿‡æ»¤LSA3ï¼Œå‘é€é»˜è®¤è·¯ç”±"><a href="#OSPFè·¯ç”±æ§åˆ¶é…ç½®ä¸¾ä¾‹-è¿‡æ»¤LSA3ï¼Œå‘é€é»˜è®¤è·¯ç”±" class="headerlink" title="OSPFè·¯ç”±æ§åˆ¶é…ç½®ä¸¾ä¾‹(è¿‡æ»¤LSA3ï¼Œå‘é€é»˜è®¤è·¯ç”±)"></a>OSPFè·¯ç”±æ§åˆ¶é…ç½®ä¸¾ä¾‹(è¿‡æ»¤LSA3ï¼Œå‘é€é»˜è®¤è·¯ç”±)</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/8b9eec40783d83a7.png" srcset="/img/loading.gif" lazyload></p><ul><li>å¦‚å›¾æ‰€ç¤ºï¼Œä¸ºå‡å°‘R3çš„LSAæ•°é‡ï¼ŒåŒæ—¶ç¡®ä¿R3å¯ä»¥å’Œå…¶å®ƒåŒºåŸŸå†…çš„è·¯ç”±å™¨æ­£å¸¸é€šè¡Œï¼Œè¦æ±‚ï¼š</li></ul><blockquote><p>R2ä¸å‘Area1ä¸­æ³¨å…¥Type3 LSAã€‚</p><p>R2å‘å¸ƒç¼ºçœè·¯ç”±ã€‚</p></blockquote><p>1ã€å„è®¾å¤‡é…ç½®æ¥å£åœ°å€åŠéƒ¨ç½²OSPFã€‚ï¼ˆç•¥ï¼‰</p><p>2ã€é…ç½®R2è¿‡æ»¤Type3 LSAã€‚</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[<span class="hljs-built_in">R2</span>] acl <span class="hljs-number">2000</span><br>[<span class="hljs-built_in">R2</span>-acl-basic-<span class="hljs-number">2000</span>] rule deny <br>[<span class="hljs-built_in">R2</span>-acl-basic-<span class="hljs-number">2000</span>] quit<br>[<span class="hljs-built_in">R2</span>] ospf<br>[<span class="hljs-built_in">R2</span>-ospf-<span class="hljs-number">1</span>] <span class="hljs-meta">area</span> <span class="hljs-number">1</span><br>[<span class="hljs-built_in">R2</span>-ospf-<span class="hljs-number">1</span>-<span class="hljs-meta">area</span>-<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>] filter <span class="hljs-number">2000</span> <span class="hljs-meta">import</span><br><br></code></pre></td></tr></table></figure><p>PSï¼šæœ¬è´¨ä¸Šå’Œé…ç½®StubåŒºåŸŸæ²¡å•¥åŒºåˆ«ã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/8b9eec40783d83a7.png" srcset="/img/loading.gif" lazyload></p><h4 id="éªŒè¯é…ç½®"><a href="#éªŒè¯é…ç½®" class="headerlink" title="éªŒè¯é…ç½®"></a>éªŒè¯é…ç½®</h4><p>1ã€æŸ¥çœ‹R3çš„LSDBã€‚</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dns">[R3]display ospf lsdb<br> OSPF Process <span class="hljs-number">1</span> with Router ID <span class="hljs-number">10.1.23.3</span><br> Link State Database <br>         Area: <span class="hljs-number">0.0.0.1</span><br> Type LinkState ID AdvRouterAge  Len  Sequence   Metric<br> Router <span class="hljs-number">10.1.23.3</span>       <span class="hljs-number">10.1.23.3</span> <span class="hljs-number">731</span>  <span class="hljs-number">48</span>    <span class="hljs-number">80000004</span>       <span class="hljs-number">1</span><br> Router  <span class="hljs-number">10.1.12.2</span>       <span class="hljs-number">10.1.12.2</span><span class="hljs-number">406</span>  <span class="hljs-number">36</span>    <span class="hljs-number">80000008</span>       <span class="hljs-number">1</span><br> Network <span class="hljs-number">10.1.23.2</span>       <span class="hljs-number">10.1.12.2</span><span class="hljs-number">730</span>  <span class="hljs-number">32</span>    <span class="hljs-number">80000002</span>       <span class="hljs-number">0</span><br> <br>               AS External Database<br> Type      LinkState ID AdvRouterAge  Len  Sequence   Metric<br> External  <span class="hljs-number">0.0.0.0</span>         <span class="hljs-number">10.1.12.2</span><span class="hljs-number">406</span>  <span class="hljs-number">36</span>   <span class="hljs-number">80000001</span>       <span class="hljs-number">1</span><br> <br>å¯ä»¥çœ‹åˆ°Area1å†…è®¾å¤‡R3çš„LSDBä¸­æ²¡æœ‰Type3 LSAï¼Œä½†æ˜¯æœ‰Type5ç¼ºçœLSAã€‚<br>R3å¯ä»¥é€šè¿‡ç¼ºçœè·¯ç”±è®¿é—®å…¶ä»–åŒºåŸŸè®¾å¤‡ã€‚<br><br></code></pre></td></tr></table></figure><p>2ã€æŸ¥çœ‹R3çš„è·¯ç”±è¡¨ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">[R3]dis ip routing-table <br><span class="hljs-section">Route Flags: R - relay, D - download to fib</span><br><span class="hljs-section">-----------------------------------------------------------------------------------------</span><br>Routing Tables: Public<br><span class="hljs-code">         Destinations : 9        Routes : 9        </span><br>Destination/Mask    Proto    Pre  CostFlags NextHop     Interface<br>0.0.0.0/0       O_ASE    150   1D     10.1.23.2   GigabitEthernet0/0/1<br>â€¦â€¦<br><br></code></pre></td></tr></table></figure><h3 id="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹åˆ†æï¼ˆé€šè¿‡Costå€¼æ§åˆ¶è·¯ç”±ï¼‰"><a href="#OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹åˆ†æï¼ˆé€šè¿‡Costå€¼æ§åˆ¶è·¯ç”±ï¼‰" class="headerlink" title="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹åˆ†æï¼ˆé€šè¿‡Costå€¼æ§åˆ¶è·¯ç”±ï¼‰"></a>OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹åˆ†æï¼ˆé€šè¿‡Costå€¼æ§åˆ¶è·¯ç”±ï¼‰</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/cc466417575073a0.png" srcset="/img/loading.gif" lazyload></p><ul><li><strong>ç½‘ç»œéƒ¨ç½²ï¼š</strong></li></ul><blockquote><p>æŸä¼ä¸šç½‘ç»œå†…æœ‰è´¢åŠ¡éƒ¨å’Œå¸‚åœºéƒ¨ä¸¤å¼ ç½‘ç»œã€‚</p><p>è¯¥ä¼ä¸šç½‘ç»œé€šè¿‡OSPFå®ç°å†…éƒ¨ç½‘ç»œçš„äº’è”äº’é€šï¼Œå…¶ä¸­éª¨å¹²ç½‘ç»œéƒ¨ç½²åœ¨Area0ï¼Œè´¢åŠ¡éƒ¨ç½‘ç»œå®¢æˆ·ç«¯éƒ¨ç½²åœ¨Area1ï¼Œå¸‚åœºéƒ¨ç½‘ç»œå®¢æˆ·ç«¯éƒ¨ç½²åœ¨Area2ã€‚</p><p>è¾¹ç•Œè®¾å¤‡é€šè¿‡é™æ€è·¯ç”±è®¿é—®å„éƒ¨é—¨æœåŠ¡å™¨ï¼Œå¹¶åœ¨OSPFè¿›ç¨‹å†…å¼•å…¥è¯¥é™æ€è·¯ç”±ã€‚</p></blockquote><ul><li>**è´¢åŠ¡éƒ¨æ•°æ®è½¬å‘éœ€æ±‚ï¼š **</li></ul><blockquote><p>åªè¦è¾¹ç•Œ-1è·¯ç”±å™¨åŠå…¶ä¸Šè”é“¾è·¯æ­£å¸¸è¿è¡Œï¼Œè´¢åŠ¡éƒ¨æ•°æ®æµå°±åªä¼šé€šè¿‡è¾¹ç•Œ-1è·¯ç”±å™¨è¿›è¡Œæ•°æ®è½¬å‘ã€‚</p><p>åªè¦æ ¸å¿ƒ-1è·¯ç”±å™¨åŠå…¶ä¸Šè”é“¾è·¯æ­£å¸¸è¿è¡Œï¼Œè´¢åŠ¡éƒ¨æ•°æ®æµå°±åªä¼šé€šè¿‡æ ¸å¿ƒ-1è·¯ç”±å™¨è¿›è¡Œæ•°æ®è½¬å‘ã€‚</p></blockquote><ul><li><strong>å¸‚åœºéƒ¨æ•°æ®è½¬å‘éœ€æ±‚ï¼šï¼ˆå¿½ç•¥ï¼‰</strong></li></ul><blockquote><p>åªè¦è¾¹ç•Œ-2è·¯ç”±å™¨åŠå…¶ä¸Šè”é“¾è·¯æ­£å¸¸è¿è¡Œï¼Œå¸‚åœºéƒ¨æ•°æ®æµå°±åªä¼šé€šè¿‡è¾¹ç•Œ-2è·¯ç”±å™¨è¿›è¡Œæ•°æ®è½¬å‘ã€‚</p><p>åªè¦æ ¸å¿ƒ-2è·¯ç”±å™¨åŠå…¶ä¸Šè”é“¾è·¯æ­£å¸¸è¿è¡Œï¼Œå¸‚åœºéƒ¨æ•°æ®æµå°±åªä¼šé€šè¿‡æ ¸å¿ƒ-2è·¯ç”±å™¨è¿›è¡Œæ•°æ®è½¬å‘ã€‚</p></blockquote><h4 id="æ§åˆ¶æµé‡å‡ºå£ï¼ˆå¤–éƒ¨è·¯ç”±ï¼‰"><a href="#æ§åˆ¶æµé‡å‡ºå£ï¼ˆå¤–éƒ¨è·¯ç”±ï¼‰" class="headerlink" title="æ§åˆ¶æµé‡å‡ºå£ï¼ˆå¤–éƒ¨è·¯ç”±ï¼‰"></a>æ§åˆ¶æµé‡å‡ºå£ï¼ˆå¤–éƒ¨è·¯ç”±ï¼‰</h4><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/66b4f4603dbdf548.png" srcset="/img/loading.gif" lazyload></p><ul><li><strong>å®ç°æ–¹å¼ï¼š</strong></li></ul><blockquote><p>åœ¨R1ï¼ˆè¾¹ç•Œ-1ï¼‰å’ŒR2ï¼ˆè¾¹ç•Œ-2ï¼‰çš„OSPFè¿›ç¨‹å†…å¼•å…¥å»å¾€è´¢åŠ¡éƒ¨æœåŠ¡å™¨çš„é™æ€è·¯ç”±ï¼Œå®ç°å‡ºå£å¤‡ä»½ï¼ˆå¯ä»¥é€šè¿‡è·¯ç”±ç­–ç•¥å®ç°ï¼‰ï¼›</p><p>è®¾ç½®å¼•å…¥å¤–éƒ¨è·¯ç”±ç±»å‹ä¸ºType2ï¼›</p><p>åœ¨R1ä¸Šè®¾ç½®å¤–éƒ¨è·¯ç”±å¼€é”€ä¸º100ï¼Œåœ¨R2ä¸Šè®¾ç½®å¤–éƒ¨è·¯ç”±å¼€é”€ä¸º200ã€‚</p></blockquote><ul><li>é…ç½®ç»“æœï¼š</li></ul><blockquote><p>ç½‘ç»œä¸­å­˜åœ¨2æ¡åŒä¸€ç½‘æ®µä¸åŒå¼€é”€çš„Type2å¤–éƒ¨è·¯ç”±æ—¶ï¼Œç½‘ç»œè®¾å¤‡ä¼šä¼˜é€‰å¼€é”€è¾ƒå°çš„è·¯ç”±ã€‚æ­¤æ—¶ï¼Œç½‘ç»œä¸­å„è®¾å¤‡ä¼šä¼˜é€‰R1ä½œä¸ºå‡ºå£ã€‚</p></blockquote><p>æ§åˆ¶æµé‡å‡ºå£æ—¶ï¼Œä¸è€ƒè™‘åˆ°è¾¾å„ASBRçš„å†…éƒ¨è·¯å¾„å¼€é”€ã€‚</p><p>Type2 å¤–éƒ¨è·¯ç”±åœ¨å†…éƒ¨ä¼ é€’æ—¶ï¼Œä¸ç´¯åŠ Costå€¼</p><h3 id="æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ±‡èšåˆ°æ ¸å¿ƒå¼€é”€"><a href="#æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ±‡èšåˆ°æ ¸å¿ƒå¼€é”€" class="headerlink" title="æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ±‡èšåˆ°æ ¸å¿ƒå¼€é”€"></a>æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ±‡èšåˆ°æ ¸å¿ƒå¼€é”€</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/9cb09ec6210fe5d3.png" srcset="/img/loading.gif" lazyload></p><ul><li>è‹¥S1ä¸R1é—´é“¾è·¯æ•…éšœï¼Œç”±äºS1è¿è¡Œæ­£å¸¸ï¼Œåˆ™è¦æ±‚S3ä¼˜é€‰è·¯å¾„1ï¼Œæ¬¡é€‰è·¯å¾„2ã€‚</li><li>å®ç°æ–¹å¼ï¼š</li></ul><blockquote><p>è·¯å¾„1-Cost &lt; è·¯å¾„2-Costï¼Œå³ï¼š</p></blockquote><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[Cost(<span class="hljs-built_in">S3</span>-<span class="hljs-built_in">S1</span>) + Cost(<span class="hljs-built_in">S1</span>-<span class="hljs-built_in">S2</span>) + Cost(<span class="hljs-built_in">S2</span>-<span class="hljs-built_in">R1</span>)] &lt; [Cost(<span class="hljs-built_in">S3</span>-<span class="hljs-built_in">S2</span>) + Cost(<span class="hljs-built_in">S2</span>-<span class="hljs-built_in">R1</span>)]<br><br></code></pre></td></tr></table></figure><blockquote><p>é€šè¿‡è°ƒæ•´æ±‡èšåˆ°æ ¸å¿ƒè®¾å¤‡é—´çš„è·¯å¾„å¼€é”€å¯ä»¥å®ç°è·¯å¾„1ã€‚</p></blockquote><h3 id="æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ ¸å¿ƒåˆ°è¾¹ç•Œå¼€é”€"><a href="#æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ ¸å¿ƒåˆ°è¾¹ç•Œå¼€é”€" class="headerlink" title="æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ ¸å¿ƒåˆ°è¾¹ç•Œå¼€é”€"></a>æ§åˆ¶å†…éƒ¨è·¯å¾„ï¼šè°ƒæ•´æ ¸å¿ƒåˆ°è¾¹ç•Œå¼€é”€</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/791faad82d56041d.png" srcset="/img/loading.gif" lazyload></p><ul><li>è‹¥S3ä¸S1é—´é“¾è·¯æ•…éšœï¼Œç”±äºS1è¿è¡Œæ­£å¸¸ï¼Œåˆ™è¦æ±‚S3ä¼˜é€‰è·¯å¾„1ï¼Œæ¬¡é€‰è·¯å¾„2ã€‚</li><li>å®ç°æ–¹å¼ï¼š</li></ul><blockquote><p>è·¯å¾„1-Cost &lt; è·¯å¾„2-Costï¼Œå³ï¼š</p></blockquote><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs armasm">[Cost(<span class="hljs-built_in">S3</span>-<span class="hljs-built_in">S2</span>) + Cost(<span class="hljs-built_in">S2</span>-<span class="hljs-built_in">S1</span>) + Cost(<span class="hljs-built_in">S1</span>-<span class="hljs-built_in">R1</span>)] &lt; [Cost(<span class="hljs-built_in">S3</span>-<span class="hljs-built_in">S2</span>) + Cost(<span class="hljs-built_in">S2</span>-<span class="hljs-built_in">R1</span>)]<br><br></code></pre></td></tr></table></figure><blockquote><p>é€šè¿‡è°ƒæ•´æ ¸å¿ƒåˆ°è¾¹ç•Œè®¾å¤‡é—´çš„è·¯å¾„å¼€é”€å¯ä»¥å®ç°ä¼˜é€‰è·¯å¾„1ã€‚</p></blockquote><h3 id="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½®-å¼•å…¥å¤–éƒ¨è·¯ç”±-R1"><a href="#OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½®-å¼•å…¥å¤–éƒ¨è·¯ç”±-R1" class="headerlink" title="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½® (å¼•å…¥å¤–éƒ¨è·¯ç”±-R1)"></a>OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½® (å¼•å…¥å¤–éƒ¨è·¯ç”±-R1)</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/83ac07a2c2399ab7.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>R1éƒ¨ç½²è·¯ç”±ç­–ç•¥åº”ç”¨å¼€é”€å€¼100ï¼š</p></blockquote><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs smali">[R1] acl 2000<br>[R1-acl-basic-2000] rule permit source 192.168.10.0 0.0.0.255<br>[R1-acl-basic-2000] quit<br><br>[R1] route-policy<span class="hljs-keyword"> static</span>2ospf permit node 10<br>[R1-route-policy]<span class="hljs-built_in"> if-match </span>acl 2000<br>[R1-route-policy] apply cost 100<br>[R1-route-policy] quit<br>[R1] route-policy<span class="hljs-keyword"> static</span>2ospf permit node 20<br>[R1-route-policy] quit<br><br></code></pre></td></tr></table></figure><p>R1åœ¨OSPFè¿›ç¨‹ä¸­å¼•å…¥é™æ€è·¯ç”±ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[R1]</span> ospf<br><span class="hljs-string">[R1-ospf-1]</span> <span class="hljs-keyword">import</span>-route static route-policy static2ospf type <span class="hljs-number">2</span><br><br></code></pre></td></tr></table></figure><h3 id="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½®-å¼•å…¥å¤–éƒ¨è·¯ç”±-R2"><a href="#OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½®-å¼•å…¥å¤–éƒ¨è·¯ç”±-R2" class="headerlink" title="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½® (å¼•å…¥å¤–éƒ¨è·¯ç”±-R2)"></a>OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½® (å¼•å…¥å¤–éƒ¨è·¯ç”±-R2)</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/83ac07a2c2399ab7.png" srcset="/img/loading.gif" lazyload></p><ul><li>R2éƒ¨ç½²è·¯ç”±ç­–ç•¥åº”ç”¨å¼€é”€å€¼200ï¼š</li></ul><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs smali">[R2] acl 2000<br>[R2-acl-basic-2000] rule permit source 192.168.10.0 0.0.0.255<br>[R2-acl-basic-2000] quit<br><br>[R2] route-policy<span class="hljs-keyword"> static</span>2ospf permit node 10<br>[R2-route-policy]<span class="hljs-built_in"> if-match </span>acl 2000<br>[R2-route-policy] apply cost 200<br>[R2-route-policy] quit<br>[R2] route-policy<span class="hljs-keyword"> static</span>2ospf permit node 20<br>[R2-route-policy] quit<br><br></code></pre></td></tr></table></figure><p>R2åœ¨OSPFè¿›ç¨‹ä¸­å¼•å…¥é™æ€è·¯ç”±ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[R2]</span> ospf<br><span class="hljs-string">[R2-ospf-1]</span> <span class="hljs-keyword">import</span>-route static route-policy static2ospf type <span class="hljs-number">2</span><br><br></code></pre></td></tr></table></figure><h3 id="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½®-å†…éƒ¨è·¯ç”±Cost"><a href="#OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½®-å†…éƒ¨è·¯ç”±Cost" class="headerlink" title="OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½® (å†…éƒ¨è·¯ç”±Cost)"></a>OSPFè·¯ç”±æ§åˆ¶æ¡ˆä¾‹ä¸»è¦é…ç½® (å†…éƒ¨è·¯ç”±Cost)</h3><p><img src="https://s3.bmp.ovh/imgs/2022/12/31/0d566c105630c8a9.png" srcset="/img/loading.gif" lazyload></p><p>è®¾ç½®æ¥å£OSPFå¼€é”€ï¼ˆä»¥R1çš„GE0&#x2F;0&#x2F;1å£ä¸ºä¾‹ï¼‰ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[R1] <span class="hljs-keyword">interface</span> GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span><br>[R1-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>] ospf cost <span class="hljs-number">50</span><br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p> <a href="https://support.huawei.com/enterprise/zh/doc/EDOC1000141374/b48f063">æ§åˆ¶OSPFçš„è·¯ç”±ä¿¡æ¯</a></p><p> <a href="https://info.support.huawei.com/info-finder/encyclopedia/zh/OSPF.html">ä»€ä¹ˆæ˜¯OSPFï¼Ÿ</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>ospf</tag>
      
      <tag>datacom</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HCIE Datacom-01.1 IGPé«˜çº§ç‰¹æ€§-OSPF-å¿«é€Ÿæ”¶æ•›</title>
    <link href="/ospf-frr/"/>
    <url>/ospf-frr/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><ul><li>OSPFå’ŒIS-ISéƒ½æ˜¯åŸºäºé“¾è·¯çŠ¶æ€çš„å†…éƒ¨ç½‘å…³è·¯ç”±åè®®ï¼Œè¿è¡Œè¿™ä¸¤ç§åè®®çš„è·¯ç”±å™¨é€šè¿‡åŒæ­¥LSDBï¼Œé‡‡ç”¨SPFç®—æ³•è®¡ç®—æœ€ä¼˜è·¯ç”±ã€‚</li><li>å½“ç½‘ç»œæ‹“æ‰‘å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒOSPFå’ŒIS-ISæ”¯æŒå¤šç§å¿«é€Ÿæ”¶æ•›å’Œä¿æŠ¤æœºåˆ¶ï¼Œèƒ½å¤Ÿé™ä½ç½‘ç»œæ•…éšœå¯¼è‡´çš„æµé‡ä¸¢å¤±ã€‚</li><li>ä¸ºäº†å®ç°å¯¹è·¯ç”±è¡¨è§„æ¨¡çš„æ§åˆ¶ï¼ŒOSPFå’ŒIS-ISæ”¯æŒè·¯ç”±é€‰è·¯åŠè·¯ç”±ä¿¡æ¯çš„æ§åˆ¶ï¼Œèƒ½å¤Ÿå‡å°‘ç‰¹å®šè·¯ç”±å™¨è·¯ç”±è¡¨çš„å¤§å°ã€‚</li><li>æœ¬ç³»åˆ—æ–‡ç« å°†ä»‹ç»OSPFå’ŒIS-ISçš„é«˜çº§ç‰¹æ€§ï¼ŒåŒ…æ‹¬ï¼šå¿«é€Ÿæ”¶æ•›æœºåˆ¶ã€è·¯ç”±æ§åˆ¶ã€å…¶ä»–ç‰¹æ€§ç­‰ã€‚</li><li>æ­¤æ–‡ç« å‚è€ƒäºåä¸ºè®¤è¯ç³»åˆ—PPTã€‚</li></ul><h1 id="OSPFå¿«é€Ÿæ”¶æ•›æ¦‚è¿°"><a href="#OSPFå¿«é€Ÿæ”¶æ•›æ¦‚è¿°" class="headerlink" title="OSPFå¿«é€Ÿæ”¶æ•›æ¦‚è¿°"></a>OSPFå¿«é€Ÿæ”¶æ•›æ¦‚è¿°</h1><ul><li>OSPFå¿«é€Ÿæ”¶æ•›æ˜¯ä¸ºäº†æé«˜è·¯ç”±çš„æ”¶æ•›é€Ÿåº¦è€Œåšçš„æ‰©å±•ç‰¹æ€§ï¼ŒåŒ…æ‹¬ï¼šPRCï¼ˆPartial Route Calculationï¼Œéƒ¨åˆ†è·¯ç”±è®¡ç®—ï¼‰å’Œæ™ºèƒ½å®šæ—¶å™¨ã€‚</li><li>åŒæ—¶ï¼ŒOSPFæ”¯æŒæ•…éšœæ¢å¤å¿«é€Ÿæ”¶æ•›ï¼Œä¾‹å¦‚é€šè¿‡OSPF IP FRRï¼ˆFast ReRouteï¼Œå¿«é€Ÿé‡è·¯ç”±ï¼‰å®ç°å¤‡ä»½é“¾è·¯çš„å¿«é€Ÿåˆ‡æ¢ï¼Œä¹Ÿå¯ä»¥ä¸BFDè”åŠ¨å®ç°å¯¹æ•…éšœçš„å¿«é€Ÿæ„ŸçŸ¥ã€‚</li><li>å¿«é€Ÿæ”¶æ•›æ˜¯ä¸ºäº†æ»¡è½½ç”µä¿¡çº§çš„è¦æ±‚ï¼Œ50mså†…å®Œæˆæ”¶æ•›å‡å°‘ä¸¢åŒ…ã€‚</li></ul><span id="more"></span><h2 id="PRCï¼ˆPartial-Route-Calculateï¼Œéƒ¨åˆ†è·¯ç”±è®¡ç®—ç®—æ³•ï¼‰"><a href="#PRCï¼ˆPartial-Route-Calculateï¼Œéƒ¨åˆ†è·¯ç”±è®¡ç®—ç®—æ³•ï¼‰" class="headerlink" title="PRCï¼ˆPartial Route Calculateï¼Œéƒ¨åˆ†è·¯ç”±è®¡ç®—ç®—æ³•ï¼‰"></a>PRCï¼ˆPartial Route Calculateï¼Œéƒ¨åˆ†è·¯ç”±è®¡ç®—ç®—æ³•ï¼‰</h2><ul><li>PRCçš„å·¥ä½œåŸç†ï¼šå½“ç½‘ç»œä¸Šè·¯ç”±å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œåªå¯¹å‘ç”Ÿå˜åŒ–çš„è·¯ç”±è¿›è¡Œé‡æ–°è®¡ç®—ã€‚</li><li>PRCä¸è®¡ç®—èŠ‚ç‚¹è·¯å¾„ï¼Œè€Œæ˜¯æ ¹æ®SPFç®—æ³•ç®—å‡ºæ¥çš„æœ€çŸ­è·¯å¾„æ ‘æ¥æ›´æ–°è·¯ç”±ã€‚</li></ul><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/23783227cc19ec7a.png" srcset="/img/loading.gif" lazyload></p><p>åœ¨è·¯ç”±è®¡ç®—ä¸­ï¼ŒèŠ‚ç‚¹ä»£è¡¨è·¯ç”±å™¨ï¼Œå¶å­ä»£è¡¨è·¯ç”±ï¼ŒPRCåªå¤„ç†å˜åŒ–çš„å¶å­ä¿¡æ¯ã€‚</p><ul><li>åœºæ™¯ä»‹ç»ï¼š</li></ul><ol><li>æŸç½‘ç»œè¿è¡ŒOSPFï¼Œç½‘ç»œæ”¶æ•›åï¼Œå·¦å›¾æ˜¯ä»¥R1ä¸ºæ ¹çš„æœ€çŸ­è·¯å¾„æ ‘ã€‚æ­¤æ—¶R1è®¿é—®èŠ‚ç‚¹R5æ—¶ï¼Œé€šè¿‡[R1ä¸‹è¡Œé“¾è·¯çš„å‡ºæ¥å£ï¼ŒR3ä¸Šè¡Œé“¾è·¯æ¥å£çš„IPåœ°å€]åˆ°è¾¾è¯¥ç›®çš„åœ°ã€‚</li><li>R5å°†ç¯å›å£Loopback0å¼€å¯OSPFï¼Œå³OSPFç½‘ç»œå†…æœ‰æ–°å¢ç½‘æ®µã€‚</li></ol><ul><li>PRCè®¡ç®—ï¼š</li></ul><ol><li>R5å…¨ç½‘æ³›æ´ªæ–°å¢LSAã€‚</li><li>R1æ”¶åˆ°è¯¥LSAåä¼šåˆ›å»ºæ–°çš„è·¯ç”±ï¼Œç»§æ‰¿åŸæœ‰è®¿é—®èŠ‚ç‚¹R5çš„è·¯å¾„åŠä¸‹ä¸€è·³ï¼Œå³æœ€çŸ­è·¯å¾„æ ‘ä¸å˜ï¼Œåªåœ¨èŠ‚ç‚¹R5ä¸Šæ–°å¢å¶å­ã€‚</li><li>å› æ­¤R1è®¿é—®R5çš„Loopback0æ—¶ï¼Œé€šè¿‡[R1ä¸‹è¡Œé“¾è·¯çš„å‡ºæ¥å£ï¼ŒR3ä¸Šè¡Œé“¾è·¯æ¥å£çš„IPåœ°å€]åˆ°è¾¾è¯¥ç›®çš„åœ°ã€‚</li></ol><ul><li>ä»·å€¼ï¼š</li></ul><blockquote><p>OSPFç½‘ç»œæ–°å¢ç½‘æ®µæ—¶ï¼Œåªå…³æ³¨å‘ç”Ÿå˜åŒ–çš„è·¯ç”±ï¼ŒåŠ å¿«äº†è·¯ç”±çš„è®¡ç®—ã€‚</p></blockquote><p>æ³¨æ„ï¼šå¤§éƒ¨åˆ†ç°ä»£ç½‘ç»œè®¾å¤‡éƒ½é»˜è®¤å¼€å¯æ­¤åŠŸèƒ½ã€‚æ­¤åŠŸèƒ½ä¹Ÿä¾èµ–äºI-SPFç®—æ³•ï¼ŒISISä¹Ÿä¼šé»˜è®¤å¼€å¯ã€‚</p><h2 id="æ™ºèƒ½å®šæ—¶å™¨ï¼ˆIntelligent-Timerï¼‰"><a href="#æ™ºèƒ½å®šæ—¶å™¨ï¼ˆIntelligent-Timerï¼‰" class="headerlink" title="æ™ºèƒ½å®šæ—¶å™¨ï¼ˆIntelligent Timerï¼‰"></a>æ™ºèƒ½å®šæ—¶å™¨ï¼ˆIntelligent Timerï¼‰</h2><ul><li>æ™ºèƒ½å®šæ—¶å™¨æ˜¯åœ¨è¿›è¡ŒSPFè®¡ç®—å’Œäº§ç”ŸLSAçš„æ—¶å€™ç”¨åˆ°çš„ä¸€ç§å®šæ—¶å™¨ã€‚</li><li>æ™ºèƒ½å®šæ—¶å™¨æ—¢å¯ä»¥å¯¹å°‘é‡çš„å¤–ç•Œçªå‘äº‹ä»¶è¿›è¡Œå¿«é€Ÿå“åº”ï¼Œåˆå¯ä»¥é¿å…è¿‡åº¦åœ°å ç”¨CPUã€‚</li></ul><h3 id="æ§åˆ¶LSAçš„ç”Ÿæˆä¸æ¥æ”¶"><a href="#æ§åˆ¶LSAçš„ç”Ÿæˆä¸æ¥æ”¶" class="headerlink" title="æ§åˆ¶LSAçš„ç”Ÿæˆä¸æ¥æ”¶"></a>æ§åˆ¶LSAçš„ç”Ÿæˆä¸æ¥æ”¶</h3><ul><li>OSPFé€šè¿‡å¦‚ä¸‹ä¸¤ä¸ªè§„å®šæ¥é¿å…ç½‘ç»œè¿æ¥æˆ–è€…è·¯ç”±é¢‘ç¹åŠ¨è¡å¼•èµ·çš„è¿‡å¤šå ç”¨è®¾å¤‡èµ„æºçš„æƒ…å†µã€‚</li></ul><blockquote><p>åŒä¸€æ¡LSAåœ¨1ç§’å†…ä¸èƒ½å†æ¬¡ç”Ÿæˆï¼Œå³LSAçš„æ›´æ–°æ—¶é—´é—´éš”5ç§’ã€‚</p><p>LSAè¢«æ¥æ”¶çš„æ—¶é—´é—´éš”ä¸º1ç§’ã€‚</p></blockquote><ul><li>åœ¨ç½‘ç»œç›¸å¯¹ç¨³å®šã€å¯¹è·¯ç”±æ”¶æ•›æ—¶é—´è¦æ±‚è¾ƒé«˜çš„ç»„ç½‘ç¯å¢ƒä¸­ï¼Œå¯ä»¥é€šè¿‡æ™ºèƒ½å®šæ—¶å™¨æŒ‡å®šLSAçš„æ›´æ–°æ—¶é—´é—´éš”ä¸º0æ¥å–æ¶ˆLSAçš„æ›´æ–°æ—¶é—´é—´éš”ï¼Œä½¿å¾—æ‹“æ‰‘æˆ–è€…è·¯ç”±çš„å˜åŒ–å¯ä»¥ç«‹å³é€šè¿‡LSAå‘å¸ƒåˆ°ç½‘ç»œä¸­ï¼Œæˆ–è€…ç«‹å³è¢«æ„ŸçŸ¥åˆ°ï¼Œä»è€ŒåŠ å¿«ç½‘ç»œä¸­è·¯ç”±çš„æ”¶æ•›é€Ÿåº¦ã€‚</li></ul><h3 id="æ§åˆ¶è·¯ç”±è®¡ç®—"><a href="#æ§åˆ¶è·¯ç”±è®¡ç®—" class="headerlink" title="æ§åˆ¶è·¯ç”±è®¡ç®—"></a>æ§åˆ¶è·¯ç”±è®¡ç®—</h3><ul><li>å½“ç½‘ç»œå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒOSPFçš„LSDBä¼šå‘ç”Ÿæ”¹å˜ï¼Œéœ€è¦é‡æ–°è®¡ç®—æœ€çŸ­è·¯å¾„ã€‚å¦‚æœç½‘ç»œé¢‘ç¹å˜åŒ–ï¼Œç”±äºä¸æ–­åœ°è®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œä¼šå ç”¨å¤§é‡ç³»ç»Ÿèµ„æºï¼Œå½±å“è®¾å¤‡çš„æ•ˆç‡ã€‚</li><li>é€šè¿‡é…ç½®æ™ºèƒ½å®šæ—¶å™¨ï¼Œè®¾ç½®åˆç†çš„SPFè®¡ç®—çš„é—´éš”æ—¶é—´ï¼Œå¯ä»¥é¿å…å ç”¨è¿‡å¤šçš„è·¯ç”±å™¨å†…å­˜å’Œå¸¦å®½èµ„æºã€‚</li></ul><h3 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h3><ul><li>å¦‚æœè§¦å‘è·¯ç”±è®¡ç®—çš„æ—¶é—´é—´éš”è¾ƒé•¿ï¼ŒåŒæ ·ä¼šå½±å“ç½‘ç»œçš„æ”¶æ•›é€Ÿåº¦ã€‚</li><li>æ™ºèƒ½å®šæ—¶å™¨é¦–æ¬¡è¶…æ—¶æ—¶é—´æ˜¯ä¸€ä¸ªå›ºå®šçš„æ—¶é—´ã€‚å¦‚æœåœ¨å®šæ—¶å™¨è¶…æ—¶å‰ï¼Œåˆæœ‰è§¦å‘å®šæ—¶å™¨çš„äº‹ä»¶å‘ç”Ÿï¼Œåˆ™è¯¥å®šæ—¶å™¨ä¸‹ä¸€æ¬¡çš„è¶…æ—¶æ—¶é—´ä¼šå¢åŠ ã€‚</li><li>ç°ä»£ç½‘ç»œè®¾å¤‡æ€§èƒ½éƒ½æ¯”è¾ƒå¼ºäº†ï¼Œå¯ä»¥é€‚å½“è°ƒå°æ—¶é—´é—´éš”ã€‚</li></ul><h3 id="é…ç½®å‘½ä»¤"><a href="#é…ç½®å‘½ä»¤" class="headerlink" title="é…ç½®å‘½ä»¤"></a>é…ç½®å‘½ä»¤</h3><h4 id="1ã€è®¾ç½®OSPF-LSAæ›´æ–°çš„æ—¶é—´é—´éš”ã€‚"><a href="#1ã€è®¾ç½®OSPF-LSAæ›´æ–°çš„æ—¶é—´é—´éš”ã€‚" class="headerlink" title="1ã€è®¾ç½®OSPF LSAæ›´æ–°çš„æ—¶é—´é—´éš”ã€‚"></a>1ã€è®¾ç½®OSPF LSAæ›´æ–°çš„æ—¶é—´é—´éš”ã€‚</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span> lsa-originate-<span class="hljs-built_in">int</span>ervalÂ &#123;Â <span class="hljs-number">0</span>Â | &#123;Â <span class="hljs-built_in">int</span>elligent-timerÂ max-<span class="hljs-built_in">int</span>ervalÂ start-<span class="hljs-built_in">int</span>ervalÂ hold-<span class="hljs-built_in">int</span>ervalÂ |Â other-typeÂ <span class="hljs-built_in">int</span>ervalÂ &#125;Â &#125;<br><br></code></pre></td></tr></table></figure><p>ç¼ºçœæƒ…å†µä¸‹ï¼Œä½¿èƒ½æ™ºèƒ½å®šæ—¶å™¨intelligent-timerï¼Œæ›´æ–°LSAçš„æœ€é•¿é—´éš”æ—¶é—´max-intervalä¸º5000æ¯«ç§’ã€åˆå§‹é—´éš”æ—¶é—´start-intervalä¸º500æ¯«ç§’ã€åŸºæ•°é—´éš”æ—¶é—´hold-intervalä¸º1000æ¯«ç§’ã€‚ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´é—´éš”ï¼‰</p><h5 id="ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š"><a href="#ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š" class="headerlink" title="ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š"></a>ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š</h5><ol><li>åˆæ¬¡æ›´æ–°LSAçš„é—´éš”æ—¶é—´ç”±start-intervalå‚æ•°æŒ‡å®šã€‚</li><li>ç¬¬nï¼ˆnâ‰¥2ï¼‰æ¬¡æ›´æ–°LSAçš„é—´éš”æ—¶é—´ä¸ºhold-intervalÃ—2(n-2)ã€‚</li><li>å½“hold-intervalÃ—2(n-2)è¾¾åˆ°æŒ‡å®šçš„æœ€é•¿é—´éš”æ—¶é—´max-intervalæ—¶ï¼ŒOSPFè¿ç»­ä¸‰æ¬¡æ›´æ–°LSAçš„æ—¶é—´é—´éš”éƒ½æ˜¯æœ€é•¿é—´éš”æ—¶é—´ï¼Œä¹‹åï¼Œå†æ¬¡è¿”å›æ­¥éª¤1ï¼ŒæŒ‰ç…§åˆå§‹é—´éš”æ—¶é—´start-intervalæ›´æ–°LSAã€‚</li></ol><h5 id="å‘½ä»¤ä»‹ç»ï¼š"><a href="#å‘½ä»¤ä»‹ç»ï¼š" class="headerlink" title="å‘½ä»¤ä»‹ç»ï¼š"></a>å‘½ä»¤ä»‹ç»ï¼š</h5><p>[Huawei-ospf] lsa-originate-intervalÂ {Â 0Â | {Â intelligent-timerÂ max-intervalÂ start-intervalÂ hold-intervalÂ |Â other-typeÂ intervalÂ }Â }</p><p>0ï¼šæŒ‡å®šLSAæ›´æ–°çš„æ—¶é—´é—´éš”ä¸º0ï¼Œå³å–æ¶ˆLSAçš„5ç§’çš„æ›´æ–°æ—¶é—´é—´éš”ã€‚</p><p>intelligent-timerï¼šæŒ‡å®šé€šè¿‡æ™ºèƒ½å®šæ—¶å™¨è®¾ç½®OSPF Router LSAå’ŒNetwork LSAçš„æ›´æ–°é—´éš”æ—¶é—´ã€‚</p><p>max-intervalï¼šæŒ‡å®šæ›´æ–°OSPF LSAçš„æœ€é•¿é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½120000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯5000ã€‚</p><p>start-intervalï¼šæŒ‡å®šæ›´æ–°OSPF LSAçš„åˆå§‹é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯0ï½60000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯500ã€‚</p><p>hold-intervalï¼šæŒ‡å®šæ›´æ–°OSPF LSAçš„åŸºæ•°é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½60000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯1000ã€‚</p><p>other-typeï¼šæŒ‡å®šè®¾ç½®é™¤OSPF Router LSAå’ŒNetwork LSAå¤–LSAçš„æ›´æ–°é—´éš”æ—¶é—´ã€‚</p><p>intervalï¼šæŒ‡å®šLSAæ›´æ–°çš„æ—¶é—´é—´éš”ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯0ï½10ï¼Œå•ä½æ˜¯ç§’ã€‚ç¼ºçœå€¼æ˜¯5ã€‚</p><h4 id="2ã€è®¾ç½®OSPF-LSAæ¥æ”¶çš„æ—¶é—´é—´éš”ã€‚"><a href="#2ã€è®¾ç½®OSPF-LSAæ¥æ”¶çš„æ—¶é—´é—´éš”ã€‚" class="headerlink" title="2ã€è®¾ç½®OSPF LSAæ¥æ”¶çš„æ—¶é—´é—´éš”ã€‚"></a>2ã€è®¾ç½®OSPF LSAæ¥æ”¶çš„æ—¶é—´é—´éš”ã€‚</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span> lsa-arrival-<span class="hljs-built_in">int</span>ervalÂ &#123;Â <span class="hljs-built_in">int</span>ervalÂ |Â <span class="hljs-built_in">int</span>elligent-timerÂ max-<span class="hljs-built_in">int</span>ervalÂ start-<span class="hljs-built_in">int</span>ervalÂ hold-<span class="hljs-built_in">int</span>ervalÂ &#125;<br><br></code></pre></td></tr></table></figure><p>ç¼ºçœæƒ…å†µä¸‹ï¼Œä½¿èƒ½æ™ºèƒ½å®šæ—¶å™¨intelligent-timerï¼Œæ¥æ”¶LSAçš„æœ€é•¿é—´éš”æ—¶é—´max-intervalä¸º1000æ¯«ç§’ã€åˆå§‹é—´éš”æ—¶é—´start-intervalä¸º500æ¯«ç§’ã€åŸºæ•°é—´éš”æ—¶é—´hold-intervalä¸º500æ¯«ç§’ã€‚ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´é—´éš”ï¼‰</p><h5 id="ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š-1"><a href="#ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š-1" class="headerlink" title="ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š"></a>ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼š</h5><p>åˆæ¬¡æ¥æ”¶LSAçš„é—´éš”æ—¶é—´ç”±start-intervalå‚æ•°æŒ‡å®šã€‚</p><p>ç¬¬nï¼ˆnâ‰¥2ï¼‰æ¬¡æ¥æ”¶LSAçš„é—´éš”æ—¶é—´ä¸ºhold-intervalÃ—2(n-2)ã€‚</p><p>å½“hold-intervalÃ—2(n-2)è¾¾åˆ°æŒ‡å®šçš„æœ€é•¿é—´éš”æ—¶é—´max-intervalæ—¶ï¼ŒOSPFè¿ç»­ä¸‰æ¬¡æ¥æ”¶LSAçš„æ—¶é—´é—´éš”éƒ½æ˜¯æœ€é•¿é—´éš”æ—¶é—´ï¼Œä¹‹åï¼Œå†æ¬¡è¿”å›æ­¥éª¤1ï¼ŒæŒ‰ç…§åˆå§‹é—´éš”æ—¶é—´start-intervalæ¥æ”¶LSAã€‚</p><h5 id="å‘½ä»¤ï¼š"><a href="#å‘½ä»¤ï¼š" class="headerlink" title="å‘½ä»¤ï¼š"></a>å‘½ä»¤ï¼š</h5><p>[Huawei-ospf-1] lsa-arrival-intervalÂ {Â intervalÂ |Â intelligent-timerÂ max-intervalÂ start-intervalÂ hold-intervalÂ }</p><p>intervalï¼šæŒ‡å®šLSAæ¥æ”¶çš„æ—¶é—´é—´éš”ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯0ï½10000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</p><p>intelligent-timerï¼šæŒ‡å®šé€šè¿‡æ™ºèƒ½å®šæ—¶å™¨è®¾ç½®LSAæ¥æ”¶çš„é—´éš”æ—¶é—´ã€‚</p><p>max-intervalï¼šæŒ‡å®šæ¥æ”¶OSPF LSAçš„æœ€é•¿é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½120000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯1000ã€‚</p><p>start-intervalï¼šæŒ‡å®šæ¥æ”¶OSPF LSAçš„åˆå§‹é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯0ï½60000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯500ã€‚</p><p>hold-intervalï¼šæŒ‡å®šæ¥æ”¶OSPF LSAçš„åŸºæ•°é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½60000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯500ã€‚</p><h4 id="3ã€è®¾ç½®OSPFè·¯ç”±è®¡ç®—æ—¶é—´é—´éš”ã€‚"><a href="#3ã€è®¾ç½®OSPFè·¯ç”±è®¡ç®—æ—¶é—´é—´éš”ã€‚" class="headerlink" title="3ã€è®¾ç½®OSPFè·¯ç”±è®¡ç®—æ—¶é—´é—´éš”ã€‚"></a>3ã€è®¾ç½®OSPFè·¯ç”±è®¡ç®—æ—¶é—´é—´éš”ã€‚</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span> spf-schedule-<span class="hljs-built_in">int</span>ervalÂ &#123;Â <span class="hljs-built_in">int</span>erval1Â |Â <span class="hljs-built_in">int</span>elligent-timerÂ max-<span class="hljs-built_in">int</span>ervalÂ start-<span class="hljs-built_in">int</span>ervalÂ hold-<span class="hljs-built_in">int</span>ervalÂ |Â millisecondÂ <span class="hljs-built_in">int</span>erval2Â &#125;<br><br></code></pre></td></tr></table></figure><p>ç¼ºçœæƒ…å†µä¸‹ï¼Œä½¿èƒ½æ™ºèƒ½å®šæ—¶å™¨intelligent-timerï¼ŒSPFè®¡ç®—çš„æœ€é•¿é—´éš”æ—¶é—´max-intervalä¸º10000æ¯«ç§’ã€åˆå§‹é—´éš”æ—¶é—´start-intervalä¸º500æ¯«ç§’ã€åŸºæ•°é—´éš”æ—¶é—´hold-intervalä¸º1000æ¯«ç§’ã€‚ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´é—´éš”ï¼‰ã€‚</p><h5 id="ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼ŒSPFè®¡ç®—çš„æ—¶é—´é—´éš”å¦‚ä¸‹ï¼š"><a href="#ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼ŒSPFè®¡ç®—çš„æ—¶é—´é—´éš”å¦‚ä¸‹ï¼š" class="headerlink" title="ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼ŒSPFè®¡ç®—çš„æ—¶é—´é—´éš”å¦‚ä¸‹ï¼š"></a>ä½¿ç”¨æ™ºèƒ½å®šæ—¶å™¨åï¼ŒSPFè®¡ç®—çš„æ—¶é—´é—´éš”å¦‚ä¸‹ï¼š</h5><ol><li>åˆæ¬¡è®¡ç®—SPFçš„é—´éš”æ—¶é—´ç”±start-intervalå‚æ•°æŒ‡å®šã€‚</li><li>ç¬¬nï¼ˆnâ‰¥2ï¼‰æ¬¡è®¡ç®—SPFçš„é—´éš”æ—¶é—´ä¸ºhold-intervalÃ—2(n-2)ã€‚</li><li>å½“hold-intervalÃ—2(n-2)è¾¾åˆ°æŒ‡å®šçš„æœ€é•¿é—´éš”æ—¶é—´max-intervalæ—¶ï¼ŒOSPFè¿ç»­ä¸‰æ¬¡è®¡ç®—SPFçš„æ—¶é—´é—´éš”éƒ½æ˜¯æœ€é•¿é—´éš”æ—¶é—´ï¼Œä¹‹åï¼Œå†æ¬¡è¿”å›æ­¥éª¤1ï¼ŒæŒ‰ç…§åˆå§‹é—´éš”æ—¶é—´start-intervalè®¡ç®—SPFã€‚</li></ol><h5 id="å‘½ä»¤ï¼š-1"><a href="#å‘½ä»¤ï¼š-1" class="headerlink" title="å‘½ä»¤ï¼š"></a>å‘½ä»¤ï¼š</h5><p>[Huawei-ospf-1] spf-schedule-intervalÂ {Â interval1Â |Â intelligent-timerÂ max-intervalÂ start-intervalÂ hold-intervalÂ |Â millisecondÂ interval2Â }</p><p>interval1ï¼šæŒ‡å®šOSPF SPFè®¡ç®—é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½10ï¼Œå•ä½æ˜¯ç§’ã€‚</p><p>intelligent-timerï¼šæŒ‡å®šé€šè¿‡æ™ºèƒ½å®šæ—¶å™¨è®¾ç½®OSPF SPFè®¡ç®—çš„é—´éš”æ—¶é—´ã€‚</p><p>max-intervalï¼šæŒ‡å®šOSPF SPFè®¡ç®—çš„æœ€é•¿é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½120000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯10000ã€‚</p><p>start-intervalï¼šæŒ‡å®šOSPF SPFè®¡ç®—çš„åˆå§‹é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½60000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯500ã€‚</p><p>hold-intervalï¼šæŒ‡å®šOSPF SPFè®¡ç®—çš„åŸºæ•°é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½60000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯1000ã€‚</p><p>millisecond interval2ï¼šæŒ‡å®šOSPF SPFè®¡ç®—é—´éš”æ—¶é—´ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯1ï½10000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</p><h2 id="OSPF-IP-FRRï¼ˆå¿«é€Ÿé‡è·¯ç”±ï¼‰"><a href="#OSPF-IP-FRRï¼ˆå¿«é€Ÿé‡è·¯ç”±ï¼‰" class="headerlink" title="OSPF IP FRRï¼ˆå¿«é€Ÿé‡è·¯ç”±ï¼‰"></a>OSPF IP FRRï¼ˆå¿«é€Ÿé‡è·¯ç”±ï¼‰</h2><ul><li>OSPF IP FRRæ˜¯åŠ¨æ€IP FRRï¼Œåˆ©ç”¨LFAï¼ˆLoop-Free Alternatesï¼‰ç®—æ³•é¢„å…ˆè®¡ç®—å‡ºå¤‡ä»½è·¯å¾„ï¼Œä¿å­˜åœ¨è½¬å‘è¡¨ä¸­ï¼Œä»¥å¤‡åœ¨æ•…éšœæ—¶å°†æµé‡å¿«é€Ÿåˆ‡æ¢åˆ°å¤‡ä»½é“¾è·¯ä¸Šï¼Œä¿è¯æµé‡ä¸ä¸­æ–­ï¼Œä»è€Œè¾¾åˆ°æµé‡ä¿æŠ¤çš„ç›®çš„ï¼Œè¯¥åŠŸèƒ½å¯å°†æ•…éšœæ¢å¤æ—¶é—´é™ä½åˆ°50 msä»¥å†…ã€‚</li><li>LFAè®¡ç®—å¤‡ä»½é“¾è·¯çš„åŸºæœ¬æ€è·¯æ˜¯ï¼š</li></ul><blockquote><p>ä»¥å¯æä¾›å¤‡ä»½é“¾è·¯çš„é‚»å±…ä¸ºæ ¹èŠ‚ç‚¹ï¼Œåˆ©ç”¨SPFç®—æ³•è®¡ç®—å‡ºåˆ°ç›®çš„èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚ç„¶åï¼ŒæŒ‰ç…§ä¸ç­‰å¼è®¡ç®—å‡ºå¼€é”€æœ€å°ä¸”æ— ç¯çš„å¤‡ä»½é“¾è·¯ã€‚</p></blockquote><h3 id="OSPF-IP-FRRç»„ç½‘åº”ç”¨"><a href="#OSPF-IP-FRRç»„ç½‘åº”ç”¨" class="headerlink" title="OSPF IP FRRç»„ç½‘åº”ç”¨"></a>OSPF IP FRRç»„ç½‘åº”ç”¨</h3><ul><li>OSPF IP FRRçš„æµé‡ä¿æŠ¤åˆ†ä¸ºé“¾è·¯ä¿æŠ¤å’ŒèŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤ã€‚</li><li>Distance_opt(X, Y) æ˜¯æŒ‡èŠ‚ç‚¹Xåˆ°Yä¹‹é—´çš„æœ€çŸ­è·¯å¾„</li></ul><h5 id="é“¾è·¯ä¿æŠ¤"><a href="#é“¾è·¯ä¿æŠ¤" class="headerlink" title="é“¾è·¯ä¿æŠ¤"></a>é“¾è·¯ä¿æŠ¤</h5><p>é“¾è·¯ä¿æŠ¤å…¬å¼ï¼š</p><pre><code class="hljs">Distance_opt(N,D)\&lt;Distance_opt(N,S)+Distance_opt(S,D)</code></pre><p>ä¿è¯ä»èŠ‚ç‚¹N-&gt;Dçš„æµé‡ä¸ä¼šå†ç»è¿‡èŠ‚ç‚¹Sï¼Œå³ä¿è¯æ²¡æœ‰ç¯è·¯ã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/af6885ece9bcf07c.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>Sï¼šæµé‡è½¬å‘çš„æºèŠ‚ç‚¹</p><p>Dï¼šæµé‡è½¬å‘çš„ç›®çš„èŠ‚ç‚¹</p><p>Nï¼šå¤‡ä»½é“¾è·¯çš„èŠ‚ç‚¹</p></blockquote><ul><li>æµé‡ä»è®¾å¤‡Såˆ°Dè¿›è¡Œè½¬å‘ï¼Œç½‘ç»œå¼€é”€å€¼æ»¡è¶³é“¾è·¯ä¿æŠ¤å…¬å¼ï¼Œå¯ä¿è¯å½“ä¸»é“¾è·¯æ•…éšœåï¼Œè®¾å¤‡Så°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½é“¾è·¯Såˆ°Nåå¯ä»¥ç»§ç»­å‘ä¸‹æ¸¸è½¬å‘ï¼Œç¡®ä¿æµé‡ä¸­æ–­å°äº50 msã€‚</li></ul><h5 id="èŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤"><a href="#èŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤" class="headerlink" title="èŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤"></a>èŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤</h5><p>é“¾è·¯ä¿æŠ¤å…¬å¼ï¼š</p><pre><code class="hljs">Distance_opt(N,D)\&lt;Distance_opt(N,S)+Distance_opt(S,D)</code></pre><p>èŠ‚ç‚¹ä¿æŠ¤å…¬å¼ï¼š</p><pre><code class="hljs">Distance_opt(N,D)\&lt;Distance_opt(N,E)+Distance_opt(E,D)</code></pre><p>ä¿è¯ä»èŠ‚ç‚¹N-&gt;Dçš„æµé‡ä¸ä¼šç»è¿‡èŠ‚ç‚¹Så’ŒEï¼Œå³ä¿è¯æ²¡æœ‰ç¯è·¯ã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/a2cfff0e1a26b333.png" srcset="/img/loading.gif" lazyload></p><ul><li>èŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªå…¬å¼ã€‚</li></ul><h5 id="æ³¨æ„ï¼š-1"><a href="#æ³¨æ„ï¼š-1" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h5><ul><li>èŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤ï¼š</li></ul><blockquote><p>å¦‚æ­£æ–‡å³å›¾ï¼šæµé‡ä»è®¾å¤‡Såˆ°Dè¿›è¡Œè½¬å‘ï¼Œç½‘ç»œå¼€é”€å€¼æ»¡è¶³èŠ‚ç‚¹é“¾è·¯ä¿æŠ¤å…¬å¼ï¼Œå¯ä¿è¯å½“ä¸»é“¾è·¯æ•…éšœåï¼Œè®¾å¤‡Så°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½é“¾è·¯Såˆ°Nåå¯ä»¥ç»§ç»­å‘ä¸‹æ¸¸è½¬å‘ï¼Œç¡®ä¿æµé‡ä¸­æ–­å°äº50 msã€‚</p></blockquote><ul><li>OSPF IP FRRçš„æµé‡ä¿æŠ¤åˆ†ä¸ºé“¾è·¯ä¿æŠ¤å’ŒèŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤ã€‚</li></ul><blockquote><p>å½“éœ€è¦ä¿æŠ¤çš„å¯¹è±¡æ˜¯ç»è¿‡ç‰¹å®šé“¾è·¯çš„æµé‡æ—¶ï¼Œæµé‡ä¿æŠ¤ç±»å‹ä¸ºé“¾è·¯ä¿æŠ¤ã€‚</p><p>å½“éœ€è¦ä¿æŠ¤çš„å¯¹è±¡æ˜¯ç»è¿‡ç‰¹å®šè®¾å¤‡çš„æµé‡æ—¶ï¼Œæµé‡ä¿æŠ¤ç±»å‹ä¸ºèŠ‚ç‚¹é“¾è·¯åŒä¿æŠ¤ã€‚èŠ‚ç‚¹ä¿æŠ¤ä¼˜å…ˆçº§é«˜äºé“¾è·¯ä¿æŠ¤ã€‚</p></blockquote><h3 id="é…ç½®å‘½ä»¤-1"><a href="#é…ç½®å‘½ä»¤-1" class="headerlink" title="é…ç½®å‘½ä»¤"></a>é…ç½®å‘½ä»¤</h3><ol><li>ä½¿èƒ½OSPF IP FRRã€‚</li></ol><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span> frr<br><span class="hljs-string">[Huawei-ospf-1-frr]</span><br><br></code></pre></td></tr></table></figure><p>åˆ›å»ºå¹¶è¿›å…¥OSPF FRRè§†å›¾ã€‚</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gams">[Huawei-ospf<span class="hljs-number">-1</span>-frr] <span class="hljs-keyword">loop</span>-<span class="hljs-keyword">free</span>-alternate<br><br></code></pre></td></tr></table></figure><p>ä½¿èƒ½OSPF IP FRRåŠŸèƒ½ï¼Œåˆ©ç”¨LFAç®—æ³•è®¡ç®—å¤‡ä»½ä¸‹ä¸€è·³å’Œå¤‡ä»½å‡ºæ¥å£ã€‚</p><p>2ã€ï¼ˆå¯é€‰ï¼‰é˜»æ­¢OSPFæ¥å£çš„FRRèƒ½åŠ›ã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">[Huawei-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>] ospf frr block<br><br></code></pre></td></tr></table></figure><p>å¯¹äºæ‰¿è½½é‡è¦ä¸šåŠ¡çš„èŠ‚ç‚¹è®¾å¤‡ï¼Œé€šè¿‡è¯¥å‘½ä»¤åœ¨æŒ‡å®šæ¥å£ä¸Šç¦æ­¢OSPF IP FRRåŠŸèƒ½ï¼Œä»è€Œä½¿æ­¤æ¥å£ç›¸è¿çš„å¯¹ç«¯è®¾å¤‡ä¸æˆä¸ºå¤‡ä»½é“¾è·¯ä¸Šçš„èŠ‚ç‚¹è®¾å¤‡ï¼Œé¿å…ä½¿èƒ½OSPF IP FRRåŠŸèƒ½åå¯¹èŠ‚ç‚¹è®¾å¤‡ä¸Šè¿è¡Œçš„é‡è¦ä¸šåŠ¡é€ æˆå½±å“ã€‚</p><h3 id="OSPF-IP-FRRé…ç½®ä¸¾ä¾‹"><a href="#OSPF-IP-FRRé…ç½®ä¸¾ä¾‹" class="headerlink" title="OSPF IP FRRé…ç½®ä¸¾ä¾‹"></a>OSPF IP FRRé…ç½®ä¸¾ä¾‹</h3><p>å½“R1ä¸R3ä¹‹é—´çš„é“¾è·¯å‡ºç°æ•…éšœæ—¶ï¼ŒR1è½¬å‘çš„æµé‡èƒ½å¤Ÿå¿«é€Ÿåˆ‡æ¢åˆ°å¤‡ä»½é“¾è·¯ï¼Œé€šè¿‡R2è¿›è¡Œæµé‡è½¬å‘ã€‚</p><p>1ã€å„è®¾å¤‡é…ç½®æ¥å£åœ°å€åŠéƒ¨ç½²OSPFã€‚ï¼ˆç•¥ï¼‰</p><p>2ã€é…ç½®å„è®¾å¤‡OSPFå¼€é”€å€¼ã€‚</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[R1] <span class="hljs-keyword">interface</span> GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span><br>[R1-GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>] ospf cost <span class="hljs-number">10</span><br>[R1-GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>] quit<br>[R1] <span class="hljs-keyword">interface</span> GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span><br>[R1-GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>] ospf cost <span class="hljs-number">10</span><br>[R1-GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>] quit<br><br></code></pre></td></tr></table></figure><p>3ã€åœ¨R1ä¸Šä½¿èƒ½OSPF IP FRRã€‚</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">[<span class="hljs-built_in">R1</span>] ospf<br>[<span class="hljs-built_in">R1</span>-ospf-<span class="hljs-number">1</span>] frr<br>[<span class="hljs-built_in">R1</span>-ospf-<span class="hljs-number">1</span>-frr] <span class="hljs-keyword">loop</span>-free-alternate<br>[<span class="hljs-built_in">R1</span>-ospf-<span class="hljs-number">1</span>-frr] quit<br>[<span class="hljs-built_in">R1</span>-ospf-<span class="hljs-number">1</span>] quit<br><br><br></code></pre></td></tr></table></figure><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/d67d27ed5c815772.jpg" srcset="/img/loading.gif" lazyload><img src="https://s3.bmp.ovh/imgs/2022/12/24/5d37b0bb79811852.jpg" srcset="/img/loading.gif" lazyload></p><h3 id="æŸ¥çœ‹OSPF-IP-FRRé…ç½®ç»“æœ"><a href="#æŸ¥çœ‹OSPF-IP-FRRé…ç½®ç»“æœ" class="headerlink" title="æŸ¥çœ‹OSPF IP FRRé…ç½®ç»“æœ"></a>æŸ¥çœ‹OSPF IP FRRé…ç½®ç»“æœ</h3><p>æŸ¥çœ‹R1åˆ°R4çš„GE0&#x2F;0&#x2F;1æ¥å£åœ°å€çš„è·¯ç”±ä¿¡æ¯ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ada">[R1]display ospf routing <span class="hljs-number">10.1</span>.<span class="hljs-number">34.4</span><br>       OSPF Process <span class="hljs-number">1</span> <span class="hljs-keyword">with</span> Router ID <span class="hljs-number">10.1</span>.<span class="hljs-number">1.1</span><br> Destination :    10.1.34.0/24       <br> AdverRouter :    10.1.4.4    <span class="hljs-type">Area</span> :      0.0.0.0  <br> Cost :           15    <span class="hljs-type">Type</span> :      <span class="hljs-type">Transit</span> <br> NextHop :        10.1.13.3   <span class="hljs-type">Interface</span> : <span class="hljs-type">GigabitEthernet0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span>  <br> Priority :       <span class="hljs-type">Low</span>   Age : 00<span class="hljs-type">h01m59s</span>  <br> Backup Nexthop : 10.1.12.2   <span class="hljs-type">Backup</span> <span class="hljs-keyword">Interface</span>:GigabitEthernet0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br> Backup <span class="hljs-keyword">Type</span> <span class="hljs-type">:    </span>LFA LINK  <br><br><br></code></pre></td></tr></table></figure><p>æ³¨æ„çœ‹ä¸Šé¢<strong>Backup Nexthop</strong>å’Œ<strong>Backup Type</strong>ï¼Œç”±äºR1ä½¿èƒ½äº†OSPF IP FRRåŠŸèƒ½ï¼ŒOSPFç”Ÿæˆäº†ä¸€æ¡å¤‡ä»½é“¾è·¯ã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/86fb3edf8ba9be03.jpg" srcset="/img/loading.gif" lazyload></p><h2 id="OSPFä¸BFDè”åŠ¨"><a href="#OSPFä¸BFDè”åŠ¨" class="headerlink" title="OSPFä¸BFDè”åŠ¨"></a>OSPFä¸BFDè”åŠ¨</h2><ul><li>ç½‘ç»œä¸Šçš„é“¾è·¯æ•…éšœæˆ–æ‹“æ‰‘å˜åŒ–éƒ½ä¼šå¯¼è‡´è®¾å¤‡é‡æ–°è¿›è¡Œè·¯ç”±è®¡ç®—ï¼Œæ‰€ä»¥ç¼©çŸ­è·¯ç”±åè®®çš„æ”¶æ•›æ—¶é—´å¯¹äºæé«˜ç½‘ç»œçš„æ€§èƒ½æ˜¯éå¸¸é‡è¦çš„ã€‚</li><li>OSPFä¸BFDè”åŠ¨å°±æ˜¯å°†BFDå’ŒOSPFå…³è”èµ·æ¥ï¼Œä¸€æ—¦ä¸é‚»å±…ä¹‹é—´çš„é“¾è·¯å‡ºç°æ•…éšœï¼ŒBFDå¯¹é“¾è·¯æ•…éšœçš„å¿«é€Ÿæ„Ÿåº”èƒ½å¤ŸåŠ å¿«OSPFå¯¹äºç½‘ç»œæ‹“æ‰‘å˜åŒ–çš„å“åº”ã€‚</li></ul><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/e4f471f05c987460.jpg" srcset="/img/loading.gif" lazyload></p><ul><li>OSPFä¸BFDè”åŠ¨å·¥ä½œåŸç†ï¼š</li></ul><blockquote><p>ä¸‰å°è®¾å¤‡ï¼ˆR1ã€R2ã€R3ï¼‰é—´å»ºç«‹OSPFé‚»å±…å…³ç³»ã€‚é‚»å±…çŠ¶æ€åˆ°è¾¾Fullæ—¶é€šçŸ¥BFDå»ºç«‹BFDä¼šè¯ã€‚</p><p>R1åˆ°R2é—´çš„é“¾è·¯å‡ºç°æ•…éšœåï¼ŒBFDé¦–å…ˆæ„ŸçŸ¥åˆ°å¹¶é€šçŸ¥R1ã€‚R1å¤„ç†BFDä¼šè¯Downäº‹ä»¶ï¼Œé‡æ–°è¿›è¡Œè·¯ç”±è®¡ç®—ï¼Œæ–°çš„è·¯å¾„ä¸ºï¼šR1-R3-R2ã€‚</p></blockquote><ul><li>OSPFé€šè¿‡å‘¨æœŸæ€§çš„å‘é‚»å±…å‘é€HelloæŠ¥æ–‡æ¥å®ç°é‚»å±…æ£€æµ‹ï¼Œæ£€æµ‹åˆ°æ•…éšœæ‰€éœ€æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè¶…è¿‡1ç§’é’Ÿï¼ˆé»˜è®¤é€šè¿‡OSPF Dead Timerè¶…æ—¶åˆ¤æ–­é‚»å±…å¤±æ•ˆï¼Œç¼ºçœä¸º40ç§’ï¼‰ã€‚éšç€ç§‘æŠ€çš„å‘å±•ï¼Œè¯­éŸ³ã€è§†é¢‘åŠå…¶å®ƒç‚¹æ’­ä¸šåŠ¡åº”ç”¨å¹¿æ³›ï¼Œè€Œè¿™äº›ä¸šåŠ¡å¯¹äºä¸¢åŒ…å’Œå»¶æ—¶éå¸¸æ•æ„Ÿï¼Œå½“æ•°æ®è¾¾åˆ°å‰æ¯”ç‰¹é€Ÿç‡çº§æ—¶ï¼Œè¾ƒé•¿çš„æ£€æµ‹æ—¶é—´ä¼šå¯¼è‡´å¤§é‡æ•°æ®ä¸¢å¤±ï¼Œæ— æ³•æ»¡è¶³ç”µä¿¡çº§ç½‘ç»œé«˜å¯é æ€§çš„éœ€æ±‚ã€‚</li><li>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œé…ç½®æŒ‡å®šè¿›ç¨‹æˆ–æŒ‡å®šæ¥å£çš„OSPFä¸BFDè”åŠ¨åŠŸèƒ½ï¼Œå¯ä»¥å¿«é€Ÿæ£€æµ‹é“¾è·¯çš„çŠ¶æ€ï¼Œæ•…éšœæ£€æµ‹æ—¶é—´å¯ä»¥è¾¾åˆ°æ¯«ç§’çº§ï¼Œæé«˜é“¾è·¯çŠ¶æ€å˜åŒ–æ—¶OSPFçš„æ”¶æ•›é€Ÿåº¦ã€‚</li></ul><h3 id="OSPFä¸BFDè”åŠ¨çš„åŸºç¡€é…ç½®å‘½ä»¤"><a href="#OSPFä¸BFDè”åŠ¨çš„åŸºç¡€é…ç½®å‘½ä»¤" class="headerlink" title="OSPFä¸BFDè”åŠ¨çš„åŸºç¡€é…ç½®å‘½ä»¤"></a>OSPFä¸BFDè”åŠ¨çš„åŸºç¡€é…ç½®å‘½ä»¤</h3><p>1ã€é…ç½®OSPFçš„BFDç‰¹æ€§ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[Huawei-ospf-1]<span class="hljs-built_in"> bfd </span>all-interfacesÂ <span class="hljs-built_in">enable</span><br><br></code></pre></td></tr></table></figure><p>åœ¨OSPFè¿›ç¨‹ä¸‹ä½¿èƒ½BFDç‰¹æ€§ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-ospf-1]</span> bfd all-<span class="hljs-built_in">int</span>erfacesÂ &#123;Â min-rx-<span class="hljs-built_in">int</span>ervalÂ receive-<span class="hljs-built_in">int</span>ervalÂ |Â min-tx-<span class="hljs-built_in">int</span>ervalÂ transmit-<span class="hljs-built_in">int</span>ervalÂ |Â detect-multiplierÂ multiplier-valueÂ |Â frr-bindingÂ &#125;Â <br><br></code></pre></td></tr></table></figure><p>é…ç½®BFDä¼šè¯çš„å‚æ•°å€¼ã€‚</p><p>2ã€é…ç½®æŒ‡å®šæ¥å£çš„BFDç‰¹æ€§ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">[Huawei-GigabitEthernet0/0/1]<span class="hljs-built_in"> ospf bfdÂ </span><span class="hljs-built_in">enable</span><br><br></code></pre></td></tr></table></figure><p>åœ¨ä½¿èƒ½OSPFçš„ç‰¹å®šæ¥å£ä¸‹ä½¿èƒ½BFDç‰¹æ€§ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[Huawei-GigabitEthernet0/0/1]</span> ospf bfdÂ &#123;Â min-rx-<span class="hljs-built_in">int</span>ervalÂ receive-<span class="hljs-built_in">int</span>ervalÂ |Â min-tx-<span class="hljs-built_in">int</span>ervalÂ transmit-<span class="hljs-built_in">int</span>ervalÂ |Â detect-multiplierÂ multiplier-valueÂ |Â frr-bindingÂ &#125;<br><br></code></pre></td></tr></table></figure><p>åœ¨ä½¿èƒ½OSPFçš„ç‰¹å®šæ¥å£ä¸‹é…ç½®BFDä¼šè¯çš„å‚æ•°å€¼ã€‚</p><ul><li>é…ç½®å‰æï¼š</li></ul><blockquote><p>å¦‚æœéœ€è¦ä½¿ç”¨BFDåŠŸèƒ½å¿«é€Ÿæ£€æµ‹é“¾è·¯æ•…éšœï¼Œåˆ™å¿…é¡»åœ¨ç³»ç»Ÿè§†å›¾ä¸‹æ‰§è¡Œbfdå‘½ä»¤ï¼Œä½¿èƒ½å…¨å±€BFDåŠŸèƒ½ã€‚</p></blockquote><ul><li>æ¥å£é…ç½®çš„BFDç‰¹æ€§ä¼˜å…ˆçº§é«˜äºè¿›ç¨‹é…ç½®çš„BFDç‰¹æ€§ä¼˜å…ˆçº§ã€‚å¦‚æœæ‰“å¼€äº†æ¥å£çš„BFDå¼€å…³ï¼Œåˆ™æŒ‰ç…§æ¥å£ä¸ŠBFDå‚æ•°å»ºç«‹BFDä¼šè¯ã€‚</li><li>å¯ä»¥é…ç½®OSPF IP FRRä¸BFDè”åŠ¨ï¼š</li></ul><blockquote><p>é…ç½®OSPF IP FRRç‰¹æ€§æ—¶ï¼Œéœ€è¦åº•å±‚èƒ½å¤Ÿå¿«é€Ÿå“åº”é“¾è·¯å˜åŒ–ï¼Œä»¥ä¾¿è¿…é€Ÿå°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½é“¾è·¯ã€‚</p><p>å°†OSPF IP FRRä¸BFDä¼šè¯ç»‘å®šå¯ä»¥è¾¾åˆ°å¿«é€Ÿæ„ŸçŸ¥æ•…éšœçš„ç›®çš„ï¼Œç¡®ä¿æ•…éšœåæµé‡åˆ‡æ¢çš„åŠæ—¶æ€§ã€‚</p></blockquote><ul><li>å‘½ä»¤ï¼š[Huawei-ospf-1] bfd all-interfacesÂ {Â min-rx-intervalÂ receive-intervalÂ |Â min-tx-intervalÂ transmit-intervalÂ |Â detect-multiplierÂ multiplier-valueÂ |Â frr-bindingÂ }</li></ul><p>Â </p><blockquote><p>min-rx-interval receive-intervalï¼šæŒ‡å®šæœŸæœ›ä»å¯¹ç«¯æ¥æ”¶BFDæŠ¥æ–‡çš„æœ€å°æ¥æ”¶é—´éš”ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯10ï½2000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯1000æ¯«ç§’ã€‚</p><p>min-tx-interval transmit-intervalï¼šæŒ‡å®šå‘å¯¹ç«¯å‘é€BFDæŠ¥æ–‡çš„æœ€å°å‘é€é—´éš”ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯10ï½2000ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚ç¼ºçœå€¼æ˜¯1000æ¯«ç§’ã€‚</p><p>detect-multiplier multiplier-valueï¼šæŒ‡å®šæœ¬åœ°æ£€æµ‹å€æ•°ã€‚æ•´æ•°å½¢å¼ï¼Œå–å€¼èŒƒå›´æ˜¯3ï½50ï¼Œç¼ºçœå€¼æ˜¯3ã€‚</p><p>frr-bindingï¼šå°†BFDä¼šè¯çŠ¶æ€ä¸æ¥å£çš„é“¾è·¯çŠ¶æ€è¿›è¡Œç»‘å®šã€‚å½“BFDä¼šè¯çŠ¶æ€å˜ä¸ºDownæ—¶ï¼Œæ¥å£çš„ç‰©ç†å±‚é“¾è·¯çŠ¶æ€ä¹Ÿä¼šå˜ä¸ºDownï¼Œä»è€Œè§¦å‘æµé‡åˆ‡æ¢åˆ°å¤‡ä»½è·¯å¾„ã€‚</p></blockquote><h2 id="OSPF-Smart-discoverï¼ˆæ™ºèƒ½å‘ç°ï¼‰"><a href="#OSPF-Smart-discoverï¼ˆæ™ºèƒ½å‘ç°ï¼‰" class="headerlink" title="OSPF Smart-discoverï¼ˆæ™ºèƒ½å‘ç°ï¼‰"></a>OSPF Smart-discoverï¼ˆæ™ºèƒ½å‘ç°ï¼‰</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œè·¯ç”±å™¨ä¼šå‘¨æœŸæ€§åœ°ä»è¿è¡ŒOSPFåè®®çš„æ¥å£ä¸Šå‘é€HelloæŠ¥æ–‡ã€‚è¿™ä¸ªå‘¨æœŸè¢«ç§°ä¸ºHello Intervalï¼Œé€šè¿‡ä¸€ä¸ªHello Timerå®šæ—¶å™¨æ§åˆ¶HelloæŠ¥æ–‡çš„å‘é€ã€‚è¿™ç§æŒ‰å›ºå®šå‘¨æœŸå‘é€æŠ¥æ–‡çš„æ–¹å¼å‡ç¼“äº†OSPFé‚»å±…å…³ç³»çš„å»ºç«‹ã€‚</p><p>é€šè¿‡ä½¿èƒ½Smart-discoverç‰¹æ€§ï¼Œå¯ä»¥åœ¨ç‰¹å®šåœºæ™¯ä¸‹åŠ å¿«OSPFé‚»å±…çš„å»ºç«‹ã€‚</p><table><thead><tr><th align="left">æ¥å£æ˜¯å¦é…ç½®Smart-discover</th><th align="left">å¤„ç†</th></tr></thead><tbody><tr><td align="left">æ¥å£æ²¡æœ‰é…ç½®Smart-discover</td><td align="left">å¿…é¡»ç­‰å¾…Hello Timeråˆ°æ—¶æ‰èƒ½å‘é€HelloæŠ¥æ–‡ï¼›ä¸¤æ¬¡æŠ¥æ–‡å‘é€é—´éš”ä¸ºHello Intervalï¼›åœ¨è¿™æœŸé—´é‚»å±…ä¸€ç›´åœ¨ç­‰å¾…æ¥æ”¶æŠ¥æ–‡ã€‚</td></tr><tr><td align="left">æ¥å£ä¸Šé…ç½®Smart-discover</td><td align="left">ç›´æ¥å‘é€HelloæŠ¥æ–‡ï¼Œä¸éœ€è¦ç­‰å¾…Hello Timerè¶…æ—¶ï¼›é‚»å±…å¯ä»¥å¾ˆå¿«æ”¶åˆ°æŠ¥æ–‡è¿…é€Ÿè¿›è¡ŒçŠ¶æ€è¿ç§»ã€‚</td></tr></tbody></table><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ï¼Œä½¿èƒ½äº†Smart-discoverç‰¹æ€§çš„æ¥å£ä¸éœ€è¦ç­‰å¾…Hello Timeråˆ°æ—¶ï¼Œå¯ä»¥ä¸»åŠ¨å‘é‚»å±…å‘é€HelloæŠ¥æ–‡ï¼š</p><ul><li>å½“é‚»å±…çŠ¶æ€é¦–æ¬¡åˆ°è¾¾2-wayçŠ¶æ€ã€‚</li><li>å½“é‚»å±…çŠ¶æ€ä»2-wayæˆ–æ›´é«˜çŠ¶æ€è¿ç§»åˆ°InitçŠ¶æ€ã€‚</li></ul><h3 id="é…ç½®å‘½ä»¤-2"><a href="#é…ç½®å‘½ä»¤-2" class="headerlink" title="é…ç½®å‘½ä»¤"></a>é…ç½®å‘½ä»¤</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">[Huawei-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]ospf smart-discover<br><br></code></pre></td></tr></table></figure><p>é…ç½®æ¥å£çš„Smart-discoveråŠŸèƒ½, ç½‘ç»œä¸­é‚»å±…çŠ¶æ€ï¼Œæˆ–è€…DRã€BDRå‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¾å¤‡ä¸å¿…ç­‰åˆ°Helloå®šæ—¶å™¨åˆ°å°±å¯ä»¥ç«‹åˆ»ä¸»åŠ¨çš„å‘é‚»å±…å‘é€HelloæŠ¥æ–‡ã€‚ä»è€Œæé«˜å»ºç«‹é‚»å±…çš„é€Ÿåº¦ï¼Œè¾¾åˆ°ç½‘ç»œå¿«é€Ÿæ”¶æ•›çš„ç›®çš„ã€‚</p><p>å‚è€ƒï¼š<a href="https://support.huawei.com/enterprise/zh/doc/EDOC1000047393/b2b66017">åä¸ºæ–‡æ¡£</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>ospf</tag>
      
      <tag>datacom</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¢å¸½çš„é‡å¤æ•°æ®åˆ é™¤VDO</title>
    <link href="/vdo/"/>
    <url>/vdo/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Virtual Data Optimizer(VDO)ä»¥é‡å¤æ•°æ®åˆ é™¤ï¼ˆdeduplicationï¼‰ã€å‹ç¼©å’Œç²¾ç®€ç½®å¤‡çš„å½¢å¼ä¸º Linux æä¾›å†…è”æ•°æ®é™ä½ã€‚å½“æ‚¨è®¾ç½® VDO å·æ—¶ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªå—è®¾å¤‡æ¥æ„å»º VDO å·ä»¥åŠæ‚¨è¦å­˜åœ¨çš„é€»è¾‘å­˜å‚¨é‡ã€‚</p><ul><li>å½“æ‰˜ç®¡æ´»åŠ¨çš„è™šæ‹Ÿæœºæˆ–å®¹å™¨æ—¶ï¼Œçº¢å¸½å»ºè®®æŒ‰ 10:1 çš„é€»è¾‘ä¸ç‰©ç†æ¯”ä¾‹é…ç½®å­˜å‚¨ï¼šä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ 1TB çš„ç‰©ç†å­˜å‚¨ï¼Œåˆ™å°†å…¶æ˜¾ç¤ºä¸º 10TB çš„é€»è¾‘å­˜å‚¨ã€‚</li><li>å¯¹äºå¯¹è±¡å­˜å‚¨ï¼Œå¦‚ Ceph æä¾›çš„ç±»å‹ï¼Œçº¢å¸½å»ºè®®ä½¿ç”¨ 3:1 çš„é€»è¾‘ä¸ç‰©ç†æ¯”ä¾‹ï¼š1TB çš„ç‰©ç†å­˜å‚¨å°†æ˜¾ç¤ºä¸º 3TB çš„é€»è¾‘å­˜å‚¨ã€‚</li></ul><p>åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ‚¨åªéœ€å°†æ–‡ä»¶ç³»ç»Ÿæ”¾åœ¨ VDO æä¾›çš„é€»è¾‘è®¾å¤‡ä¹‹ä¸Šï¼Œç„¶åç›´æ¥ä½¿ç”¨å®ƒï¼Œæˆ–å°†å…¶ä½œä¸ºåˆ†å¸ƒå¼äº‘å­˜å‚¨æ¶æ„çš„ä¸€éƒ¨åˆ†ã€‚</p><p>ç”±äº VDO æ˜¯è¿…é€Ÿç½®å¤‡çš„ï¼Œæ‰€ä»¥æ–‡ä»¶ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºåªä¼šçœ‹åˆ°ä½¿ç”¨ä¸­çš„é€»è¾‘ç©ºé—´ï¼Œä¸”ä¸çŸ¥é“å¯ç”¨çš„å®é™…ç‰©ç†ç©ºé—´ã€‚ä½¿ç”¨è„šæœ¬æ¥ç›‘æ§å®é™…çš„å¯ç”¨ç©ºé—´ï¼Œå¹¶åœ¨ä½¿ç”¨è¶…è¿‡é˜ˆå€¼æ—¶äº§ç”Ÿä¸€ä¸ªæŠ¥è­¦ï¼šä¾‹å¦‚ï¼Œå½“ VDO å·å·²æ»¡ 80% æ—¶ã€‚</p><span id="more"></span><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>æ³¨æ„ï¼šåŸºäºRHEL 8ç³»åˆ—</p><h2 id="å®‰è£…é¡»çŸ¥"><a href="#å®‰è£…é¡»çŸ¥" class="headerlink" title="å®‰è£…é¡»çŸ¥"></a>å®‰è£…é¡»çŸ¥</h2><p>1ã€å»ºè®®æœ‰å¤šä½™çš„CPUå’Œå†…å­˜ç”¨äºé‡åˆ ï¼Œå› å…¶ä¼šå ç”¨å¤§é‡æ€§èƒ½ã€‚å»ºè®®æ¯1TBå­˜å‚¨ç»™äºˆ1GBå†…å­˜ã€‚</p><p>2ã€å­˜å‚¨è®¾å¤‡é¡»ä¸ºå—è®¾å¤‡ï¼Œå¯ä»¥ä¸ºä¸€ä¸ªç‰©ç†ç¡¬ç›˜æˆ–å•ç‹¬åˆ†åŒºã€‚</p><h2 id="æ­£å¼å®‰è£…"><a href="#æ­£å¼å®‰è£…" class="headerlink" title="æ­£å¼å®‰è£…"></a>æ­£å¼å®‰è£…</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> lvm2 kmod-kvdo vdo     <span class="hljs-comment">#ä½¿ç”¨yumå®‰è£…</span><br><br></code></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">vdo create \<br>      <span class="hljs-attribute">--name</span>=vdo1 \<br>      <span class="hljs-attribute">--device</span>=/dev/sdb \<br>      <span class="hljs-attribute">--vdoLogicalSize</span>=300G<br><br></code></pre></td></tr></table></figure><p>åˆ›å»ºVDOè™šæ‹Ÿè®¾å¤‡ï¼ŒæŒ‡å®šåå­—ã€å—è®¾å¤‡åç§°ã€é€»è¾‘å¤§å°ï¼ˆæ¨èä¸ºå—è®¾å¤‡å®é™…å¤§å°çš„10å€ï¼‰</p><h2 id="æ ¼å¼åŒ–å¹¶æŒ‚è½½"><a href="#æ ¼å¼åŒ–å¹¶æŒ‚è½½" class="headerlink" title="æ ¼å¼åŒ–å¹¶æŒ‚è½½"></a>æ ¼å¼åŒ–å¹¶æŒ‚è½½</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">fdisk -l <span class="hljs-regexp">/dev/m</span>apper/vdo1<br><br></code></pre></td></tr></table></figure><p>vdoä¼šé»˜è®¤åˆ›å»ºåœ¨mapperæ–‡ä»¶å¤¹ä¸‹ã€‚ä½¿ç”¨fdiskå¯ä»¥æŸ¥çœ‹ä¿¡æ¯ã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkfs.xfs <span class="hljs-regexp">/dev/m</span>apper/vdo1<br><br>mount <span class="hljs-regexp">/dev/m</span>apper<span class="hljs-regexp">/vdo1 /m</span>nt<br><br></code></pre></td></tr></table></figure><p>æ ¼å¼åŒ–ä¸ºxfsæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶æŒ‚è½½ä½¿ç”¨ã€‚</p><p>ï¼ˆæ³¨æ„ï¼ŒæŒ‚è½½åæ˜¾ç¤ºçš„å®¹é‡ä¸ºé€»è¾‘å®¹é‡ï¼‰</p><h2 id="æŸ¥çœ‹çŠ¶æ€"><a href="#æŸ¥çœ‹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹çŠ¶æ€"></a>æŸ¥çœ‹çŠ¶æ€</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">vdostats <span class="hljs-comment">--human-readable</span><br><br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹çŠ¶æ€ï¼Œæ˜¾ç¤ºå®é™…ç‰©ç†å®¹é‡å ç”¨å¤§å°ã€‚</p><h1 id="å®é™…æ•ˆæœ"><a href="#å®é™…æ•ˆæœ" class="headerlink" title="å®é™…æ•ˆæœ"></a>å®é™…æ•ˆæœ</h1><p><img src="https://s3.bmp.ovh/imgs/2022/12/24/dd3f90c5eac63eac.png" srcset="/img/loading.gif" lazyload></p><p>å­˜å‚¨æ–‡ä»¶ä¸ºï¼Œè¿ç»­ä¸¤å¤©å¤‡ä»½çš„Mariadbæ•°æ®åº“æ–‡ä»¶ã€‚å›¾ä¾‹ä¸ºcockpitæŸ¥çœ‹ã€‚</p><p>å‚è€ƒï¼š<a href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/index">çº¢å¸½æ–‡æ¡£</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/team_nav/">éƒ¨ç½²å›¢é˜ŸæœåŠ¡å¯¼èˆªç½‘ç«™ Team-nav</a></li><li><a href="https://songxwn.com/Juniper_Junos/">Juniper Junosç³»ç»Ÿæ¶æ„å’Œå‘½ä»¤æ¨¡å¼æµ…è°ˆ</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
      <tag>storage</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sublime Text4 4143 å®‰è£…æ¿€æ´»</title>
    <link href="/Sublime_Text4_4143/"/>
    <url>/Sublime_Text4_4143/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æ­¤æ•™ç¨‹ç”¨äºWindows ä¸‹Sublime Text4 4143ç‰ˆæœ¬çš„å®‰è£…å’Œæ¿€æ´»ã€‚</p><p>å®˜ç½‘ï¼š <a href="https://www.sublimetext.com/">https://www.sublimetext.com</a></p><span id="more"></span><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p><a href="https://download.sublimetext.com/sublime_text_build_4143_x64_setup.exe">https://download.sublimetext.com/sublime_text_build_4143_x64_setup.exe</a></p><h1 id="æ¿€æ´»"><a href="#æ¿€æ´»" class="headerlink" title="æ¿€æ´»"></a>æ¿€æ´»</h1><p>å®‰è£…ä¹‹åï¼Œä½¿ç”¨sublime text æ‰“å¼€å®‰è£…ç›®å½•ä¸‹çš„sublime_text.exeæ–‡ä»¶ã€‚</p><p>æœåˆ°åˆ°<code>8078 0500 0f94 c1</code></p><p>æ›´æ”¹ä¸º<code>c640 0501 4885 c9</code></p><p>ç„¶åå¦å­˜åˆ°å…¶ä»–è·¯å¾„ï¼Œç„¶åå…³é—­sublime textï¼Œå°†åŸsublime_text.exeè¿›è¡Œæ›¿æ¢å³å¯ã€‚</p><h2 id="è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰"><a href="#è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰" class="headerlink" title="è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰"></a>è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰</h2><p>æ‰“å¼€Sublime textï¼Œç‚¹å‡»èœå•æ -â€“&gt;Helpâ€”&gt;Enter License</p><p>è¾“å…¥ä¸‹åˆ—æ¿€æ´»ç å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs License">â€”â€“ BEGIN LICENSE â€”â€“<br>Mifeng User<br>Single User License<br>EA7E-1184812<br>C0DAA9CD 6BE825B5 FF935692 1750523A<br>EDF59D3F A3BD6C96 F8D33866 3F1CCCEA<br>1C25BE4D 25B1C4CC 5110C20E 5246CC42<br>D232C83B C99CCC42 0E32890C B6CBF018<br>B1D4C178 2F9DDB16 ABAA74E5 95304BEF<br>9D0CCFA9 8AF8F8E2 1E0A955E 4771A576<br>50737C65 325B6C32 817DCB83 A7394DFA<br>27B7E747 736A1198 B3865734 0B434AA5<br>â€”â€” END LICENSE â€”<br></code></pre></td></tr></table></figure><p>ç‚¹å‡»èœå•æ  Helpâ€”&gt;About Sublime Text å¯æ£€æµ‹æ¿€æ´»çŠ¶æ€ã€‚</p><h1 id="è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…"><a href="#è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…" class="headerlink" title="è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…"></a>è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…</h1><p>1ã€ç‚¹å‡»èœå•æ Toolsâ€”&gt;Install Package Control è·³å‡ºå¼¹æ¡†ç‚¹å‡» ç¡®å®šæŒ‰é’®</p><p>2ã€ç‚¹å‡»èœå•æ  Preferences â€“ Package Control</p><p>3ã€å¼¹æ¡†ä¸­è¾“å…¥ install packageï¼Œé€‰ä¸­ Package Control: Install Package ç„¶åç­‰å¾…å¼¹çª—(å¯èƒ½éœ€è¦è€å¿ƒç­‰å¾…ä¸€æ®µæ—¶é—´)</p><p>4ã€ç­‰å‡ºç°å¦‚ä¸‹å¼¹çª—å, åœ¨å¼¹çª—çš„æœç´¢æ¡†ä¸­è¾“å…¥ ChineseLocalizations , ç‚¹å‡»å‡ºç°çš„é€‰é¡¹</p><p>5ã€ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœå‡ºç°äº†å¦‚ä¸‹ç”»é¢åˆ™æ±‰åŒ–æ­¥éª¤å…¨éƒ¨å®Œæˆ</p><p>6ã€åç»­è‹¥éœ€è¦æ›´æ”¹ï¼Œå¯ç‚¹å‡»èœå•æ  å¸®åŠ©-â€“&gt;Language é€‰æ‹©è¿›è¡Œæ›´æ”¹ã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Sublime_Text4/">Sublime Text4 4126 å®‰è£…æ¿€æ´»</a></li><li><a href="https://songxwn.com/KMS-Windows/">Windows éƒ¨ç½²ç§æœ‰KMSæœåŠ¡å™¨ã€‚</a></li><li><a href="https://chengzhaoxi.xyz/2bffefb0.html">WindowsåŒ…ç®¡ç†å·¥å…·scoop</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>IDE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Windows</tag>
      
      <tag>IDE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº¤æ¢æœºåŸºæœ¬åŸç†</title>
    <link href="/switch/"/>
    <url>/switch/</url>
    
    <content type="html"><![CDATA[<h1 id="1ã€äº¤æ¢æœºçš„ä½œç”¨"><a href="#1ã€äº¤æ¢æœºçš„ä½œç”¨" class="headerlink" title="1ã€äº¤æ¢æœºçš„ä½œç”¨"></a>1ã€äº¤æ¢æœºçš„ä½œç”¨</h1><ul><li>è¿æ¥å¤šä¸ªä»¥å¤ªç½‘ç‰©ç†æ®µï¼Œéš”ç¦»å†²çªåŸŸ</li><li>å¯¹ä»¥å¤ªç½‘å¸§è¿›è¡Œé«˜é€Ÿè€Œé€æ˜çš„äº¤æ¢è½¬å‘</li><li>è‡ªè¡Œå­¦ä¹ å’Œç»´æŠ¤MACåœ°å€è¡¨</li></ul><p>äº¤æ¢æœºå·¥ä½œåœ¨äºŒå±‚ï¼Œå¯ä»¥ç”¨æ¥éš”ç¦»å†²çªåŸŸï¼Œåœ¨OSIå‚è€ƒæ¨¡å‹ä¸­ï¼ŒäºŒå±‚çš„ä½œç”¨æ˜¯å¯»å€ï¼Œè¿™è¾¹å¯»å€æŒ‡çš„æ˜¯MACåœ°å€ï¼Œè€Œäº¤æ¢æœºå°±æ˜¯å¯¹MACåœ°å€è¿›è¡Œè½¬å‘ï¼Œåœ¨æ¯ä¸ªäº¤æ¢æœºä¸­ï¼Œéƒ½æœ‰ä¸€å¼ MACåœ°å€è¡¨ï¼Œè¿™ä¸ªè¡¨æ˜¯äº¤æ¢æœºè‡ªåŠ¨å­¦ä¹ çš„ã€‚</p><p>æ‰€ä»¥ï¼Œæ€»å¾—æ¥è¯´äº¤æ¢æœºçš„ä½œç”¨æ˜¯å¯»å€å’Œè½¬å‘ï¼Œè¿™è¾¹éœ€è¦æ³¨æ„çš„æ˜¯å¯»å€å’Œè½¬å‘éƒ½æ˜¯MACåœ°å€ï¼Œéœ€è¦è·¯ç”±å™¨åŒºåˆ†å¼€æ¥ï¼Œè·¯ç”±å™¨å¯»å€å¯»çš„æ˜¯IPåœ°å€ï¼Œè€Œäº¤æ¢æœºæ˜¯MACåœ°å€ã€‚</p><span id="more"></span><h1 id="2ã€äº¤æ¢æœºç‰¹ç‚¹"><a href="#2ã€äº¤æ¢æœºç‰¹ç‚¹" class="headerlink" title="2ã€äº¤æ¢æœºç‰¹ç‚¹"></a>2ã€äº¤æ¢æœºç‰¹ç‚¹</h1><p>ä¸»è¦å·¥ä½œåœ¨OSIæ¨¡å‹çš„ç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚</p><ul><li>æä¾›ä»¥å¤ªç½‘é—´çš„é€æ˜æ¡¥æ¥å’Œäº¤æ¢</li><li>ä¾æ®é“¾è·¯å±‚çš„MACåœ°å€ï¼Œå°†ä»¥å¤ªç½‘æ•°æ®å¸§åœ¨ç«¯å£é—´è¿›è¡Œè½¬å‘</li></ul><h1 id="3ã€äº¤æ¢æœºMACåœ°å€è¡¨è½¬å‘è¿‡ç¨‹"><a href="#3ã€äº¤æ¢æœºMACåœ°å€è¡¨è½¬å‘è¿‡ç¨‹" class="headerlink" title="3ã€äº¤æ¢æœºMACåœ°å€è¡¨è½¬å‘è¿‡ç¨‹"></a>3ã€äº¤æ¢æœºMACåœ°å€è¡¨è½¬å‘è¿‡ç¨‹</h1><p>MACåœ°å€è¡¨åˆå§‹åŒ–ï¼š</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/23/063319de6da5c3c7.png" srcset="/img/loading.gif" lazyload></p><p>äº¤æ¢æœºåˆšå¯åŠ¨æ—¶ï¼ŒMACåœ°å€è¡¨ä¸­æ— è¡¨é¡¹ã€‚ä»¥ä¸Šå›¾ä¸­çš„äº¤æ¢æœºå°±æ˜¯åˆšåˆšå¯åŠ¨çš„æ—¶å€™çš„MACåœ°å€è¡¨ã€‚å¯ä»¥çœ‹å‡ºå¹¶æ²¡æœ‰ä»»ä½•çš„è¡¨é¡¹ï¼Œå½“æ¥å…¥PCçš„æ—¶å€™ï¼Œäº¤æ¢æœºå¼€å§‹è¿›è¡Œå­¦ä¹ MACåœ°å€ï¼Œè§ä¸‹å›¾ï¼š</p><p>MACåœ°å€è¡¨å­¦ä¹ è¿‡ç¨‹ï¼ˆ1ï¼‰</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/23/549d562d7361bbdb.png" srcset="/img/loading.gif" lazyload></p><p>PCAå‘å‡ºæ•°æ®å¸§</p><ul><li>äº¤æ¢æœºæŠŠPCAçš„å¸§ä¸­çš„æºåœ°å€MAC_Aä¸æ¥æ”¶åˆ°æ­¤å¸§çš„ç«¯å£E1&#x2F;0&#x2F;1å…³è”èµ·æ¥</li><li>äº¤æ¢æœºæŠŠPCAçš„å¸§ä»æ‰€æœ‰å…¶ä»–ç«¯å£å‘é€å‡ºå»ï¼ˆé™¤äº†æ¥æ”¶åˆ°å¸§çš„ç«¯å£E1&#x2F;0&#x2F;1ï¼‰</li></ul><p>MACåœ°å€è¡¨å­¦ä¹ è¿‡ç¨‹ï¼ˆ2ï¼‰</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/23/3661b45f7cde2822.png" srcset="/img/loading.gif" lazyload></p><p>PCBã€PCCã€PCDå‘å‡ºæ•°æ®å¸§äº¤æ¢æœºä¼šæŠŠæ¥æ”¶åˆ°çš„å¸§ä¸­çš„æºåœ°å€ä¸ç›¸åº”çš„ç«¯å£å…³è”èµ·æ¥ï¼Œè‡³æ­¤ï¼Œäº¤æ¢æœºçš„MACåœ°å€è¡¨å­¦ä¹ å®Œæˆï¼Œå¼€å§‹è¿›è¡Œæ•°æ®çš„è½¬å‘ã€‚</p><p>4ã€äº¤æ¢æœºå¯¹æ•°æ®å¸§çš„è½¬å‘ä¸è¿‡æ»¤</p><p>å•æ’­å¸§çš„è½¬å‘ï¼š</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/23/b428b3eb9274d8b9.png" srcset="/img/loading.gif" lazyload></p><p>PCAå‘å‡ºç›®çš„åˆ°PCDçš„å•æ’­æ•°æ®å¸§</p><ul><li>äº¤æ¢æœºæ ¹æ®å¸§ä¸­çš„ç›®çš„åœ°å€ï¼Œä»ç›¸åº”çš„ç«¯å£E1&#x2F;0&#x2F;4å‘é€å‡ºå»</li><li>äº¤æ¢æœºä¸åœ¨å…¶ä»–ç«¯å£ä¸Šè½¬å‘æ­¤å•æ’­æ•°æ®å¸§</li></ul><p>å¹¿æ’­ã€ç»„æ’­å’ŒæœªçŸ¥å•æ’­å¸§çš„è½¬å‘ï¼š</p><p><img src="https://s3.bmp.ovh/imgs/2022/12/23/f83e2db064103da2.png" srcset="/img/loading.gif" lazyload></p><p>äº¤æ¢æœºä¼šæŠŠå¹¿æ’­ã€ç»„æ’­å’ŒæœªçŸ¥å•æ’­å¸§ä»æ‰€æœ‰å…¶ä»–ç«¯å£å‘é€å‡ºå»ï¼ˆé™¤äº†æ¥æ”¶åˆ°å¸§çš„ç«¯å£ï¼‰</p><h1 id="4ã€äº¤æ¢æœºä¸‰å¤§è¡Œä¸ºæ¦‚è¿°"><a href="#4ã€äº¤æ¢æœºä¸‰å¤§è¡Œä¸ºæ¦‚è¿°" class="headerlink" title="4ã€äº¤æ¢æœºä¸‰å¤§è¡Œä¸ºæ¦‚è¿°"></a>4ã€äº¤æ¢æœºä¸‰å¤§è¡Œä¸ºæ¦‚è¿°</h1><h2 id="æ³›æ´ª"><a href="#æ³›æ´ª" class="headerlink" title="æ³›æ´ª"></a>æ³›æ´ª</h2><p>é™¤æ”¶åˆ°æŠ¥æ–‡çš„æ¥å£ä»¥å¤–çš„æ‰€æœ‰æ¥å£å‘é€æŠ¥æ–‡ã€‚</p><p>å½“æ”¶åˆ°æ”¶åˆ°ç»„æ’­ã€å¹¿æ’­ã€æœªçŸ¥å•æ’­ï¼ˆç›®çš„MACåœ°å€ä¸å­˜åœ¨äºMACåœ°å€è¡¨ï¼‰ã€‚</p><h2 id="è½¬å‘"><a href="#è½¬å‘" class="headerlink" title="è½¬å‘"></a>è½¬å‘</h2><p>ç‚¹å¯¹ç‚¹çš„è¿›è¡ŒæŠ¥æ–‡è½¬å‘</p><p>å½“ç›®çš„MACåœ°å€å­˜åœ¨äºMACåœ°å€è¡¨çš„å•æ’­å¸§ã€‚</p><h2 id="ä¸¢å¼ƒ"><a href="#ä¸¢å¼ƒ" class="headerlink" title="ä¸¢å¼ƒ"></a>ä¸¢å¼ƒ</h2><p>ï¼ˆ1ï¼‰äº¤æ¢æœºæ”¶åˆ°æ•°æ®å¸§åæ ¹æ®MACåœ°å€è¡¨åšè½¬å‘ï¼Œä¸ä»å…¶ä»–ç«¯å£æ³›æ´ªæ•°æ®å¸§ï¼›</p><p>ï¼ˆ2ï¼‰äº¤æ¢æœºæ¥æ”¶åˆ°æ•°æ®å¸§çš„ç«¯å£å’Œè½¬å‘æ•°æ®å¸§çš„ç«¯å£æ˜¯åŒä¸€ä¸ªç«¯å£ï¼Œåˆ™ä¸¢å¼ƒæ•°æ®å¸§ä¸è½¬å‘ï¼›ï¼ˆç¯è·¯ï¼‰</p><p>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/122241071">https://zhuanlan.zhihu.com/p/122241071</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>datacom</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MPLS VPNéšç¬”ï¼ˆL3 å•åŸŸï¼‰</title>
    <link href="/MPLS_VPN/"/>
    <url>/MPLS_VPN/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>å…¨ç§°åº”è¯¥å«BGP&#x2F;MPLS IP VPNï¼Œæ˜¯ä¸€ä¸ªå¤šåè®®é›†åˆçš„ä¸‰å±‚VPNè§£å†³æ–¹æ¡ˆã€‚(é€‚ç”¨äºä¸“ç½‘)</p><p>å®ƒä½¿ç”¨MP-BGPåœ¨æœåŠ¡æä¾›å•†éª¨å¹²ç½‘ä¸Šå‘å¸ƒVPNè·¯ç”±ï¼Œä½¿ç”¨MPLSåœ¨æœåŠ¡æä¾›å•†éª¨å¹²ç½‘ä¸Šè½¬å‘VPNæŠ¥æ–‡ã€‚</p><p>å…¶ä¸­ï¼ŒMPLSæ ‡ç­¾ç”±MP-BGP(å†…ç½‘)å’ŒLDPï¼ˆå…¬ç½‘ï¼‰åˆ†å‘ï¼Œå…¬ç½‘æ ‡ç­¾ä¹Ÿå¯ä»¥ä½¿ç”¨RSVPåˆ†å‘ï¼Œç”¨äºæµé‡å·¥ç¨‹ï¼ˆMPLS-TEï¼‰ã€‚</p><span id="more"></span><h2 id="CE-PE-P-è®¾å¤‡è§’è‰²"><a href="#CE-PE-P-è®¾å¤‡è§’è‰²" class="headerlink" title="CE-PE-P è®¾å¤‡è§’è‰²"></a>CE-PE-P è®¾å¤‡è§’è‰²</h2><p>CE ç”¨æˆ·è¾¹ç¼˜è®¾å¤‡ï¼Œç”¨äºè¿æ¥PEï¼Œä¸MPLS VPNæ— ç›´æ¥å…³ç³»ã€‚<br>åªç”¨äºå¯¹æ¥PEï¼Œäº¤æ¢è·¯ç”±ä¿¡æ¯ã€‚ä½¿ç”¨é™æ€è·¯ç”±ã€OSPF RIP ISIS BGPç­‰äº¤æ¢è·¯ç”±è¡¨ã€‚</p><p>PE è¿è¥å•†è¾¹ç¼˜è®¾å¤‡ï¼Œä¸CEç›´è¿ï¼Œé€šè¿‡MP-BGPè¿æ¥å¯¹ç«¯PE.<br>è¿è¡Œ MP-BGPï¼Œä½¿ç”¨VRFé€šè¿‡ç»‘å®šä¸CEè¿æ¥çš„æ¥å£ã€‚éš”ç¦»æœ¬åœ°ä¸åŒç”¨æˆ·çš„è·¯ç”±è¡¨ï¼Œæ‰“ä¸ŠRDå’ŒRTæ ‡ç­¾ã€‚<br>ä½¿ç”¨RDåœ¨BGPä¼ è¾“çš„è¿‡ç¨‹ä¸­åŒºåˆ†è·¯ç”±ã€‚<br>ä½¿ç”¨RTï¼ˆVPN Targetï¼‰ï¼Œç¡®ä¿å¯¼å…¥å¯¹ç«¯PEçš„VRFã€‚<br>æ˜¯æ‰¿è½½å…¨éƒ¨MPLS VPNåŠŸèƒ½çš„è§’è‰²ã€‚</p><p>P è¿è¥å•†éª¨å¹²è®¾å¤‡ï¼Œä¸PEè®¾å¤‡è¿æ¥ã€‚åªéœ€è¦è½¬å‘MPLSæ•°æ®,ä½¿ç”¨IGPæ‰“é€šåº•å±‚è·¯ç”±ã€‚</p><h2 id="RDã€RTã€VRFè¯´æ˜"><a href="#RDã€RTã€VRFè¯´æ˜" class="headerlink" title="RDã€RTã€VRFè¯´æ˜"></a>RDã€RTã€VRFè¯´æ˜</h2><h3 id="VRF-Virtual-Route-Forwarding"><a href="#VRF-Virtual-Route-Forwarding" class="headerlink" title="VRF(Virtual Route Forwarding):"></a>VRF(Virtual Route Forwarding):</h3><p>VRFçš„ç›®çš„æ˜¯è§£å†³ä¸åŒä¼ä¸šç§ç½‘åœ°å€æ®µç›¸åŒï¼Œä¸ºäº†é˜²æ­¢å†²çªï¼Œé‡‡ç”¨å°†ç›¸åŒç§ç½‘åœ°å€æ”¾åˆ°ä¸åŒçš„VRFè¡¨ä¸­ã€‚VRFåŒºåˆ†ä¸åŒCEç«¯è¿›æ¥è¾¹ç•ŒPEçš„ç›¸åŒç§ç½‘è·¯ç”±ï¼Œè·¯ç”±å™¨çš„æ¯ä¸€ä¸ªVRFéƒ½è‡ªåŠ¨ç”Ÿæˆç›¸åº”VRFè¡¨ï¼Œæ¯”å¦‚show route vrf A ï¼Œshow route vrf Bã€‚å¯¹äºæ¯ä¸€ä¸ªVRFè¡¨ï¼Œéƒ½å…·æœ‰è·¯ç”±åŒºåˆ†ç¬¦(Route Distinguisherï¼šRD)å’Œè·¯ç”±ç›®æ ‡(Route Targetï¼šRT)ä¸¤å¤§å±æ€§ã€‚</p><h3 id="RD-Route-Distinguisher"><a href="#RD-Route-Distinguisher" class="headerlink" title="RD(Route-Distinguisher):"></a>RD(Route-Distinguisher):</h3><p>8ä¸ªå­—èŠ‚çš„RD+4ä¸ªå­—èŠ‚çš„IPv4åœ°å€ç»„æˆ96ä½bit VPNv4è·¯ç”±ï¼Œä½¿ä¸å”¯ä¸€çš„ç§ç½‘IPv4åœ°å€è½¬åŒ–ä¸ºå”¯ä¸€çš„VPN-IPv4åœ°å€,è¯¥VPNv4è·¯ç”±åœ¨ISPåŸŸå†…ä¼ é€’ï¼ˆåŒºåˆ†ï¼‰ï¼ŒRDç»™æŸVRFé‡Œé¢çš„è·¯ç”±æ‰“ä¸Šæ ‡ç­¾ï¼Œè¿›è€Œå®ç°åœ°å€çš„å¤ç”¨è€Œä¸äº§ç”Ÿå†²çªã€‚RDç”¨æ¥åŒºåˆ†æœ¬åœ°VRFï¼Œè¯¥å±æ€§ä»…æœ¬åœ°æœ‰æ•ˆã€‚</p><h3 id="RT-Route-Tagert"><a href="#RT-Route-Tagert" class="headerlink" title="RT(Route Tagert):"></a>RT(Route Tagert):</h3><p>BGPçš„æ‰©å±•å›¢ä½“å±æ€§ï¼Œå®ƒåˆ†æˆImport RTå’ŒExport RTï¼Œåˆ†åˆ«ç”¨äºè·¯ç”±çš„å¯¼å…¥ã€å¯¼å‡ºç­–ç•¥ã€‚ä¹Ÿå³RTæ˜¯æ§åˆ¶è¿™ä¸ªVRFé‡Œé¢å¯ä»¥å‘å‡ºå’Œæ¥å—ä»€ä¹ˆæ ·çš„è·¯ç”±ã€‚RTå…·æœ‰å…¨å±€å”¯ä¸€æ€§ï¼Œå¹¶ä¸”åªèƒ½è¢«ä¸€ä¸ªVPNä½¿ç”¨ã€‚<br>å…³äºRTï¼Œæ–°äººè¿˜è¦æ³¨æ„çš„ç‚¹ï¼š<br>å½“ä»VRFè¡¨ä¸­å¯¼å‡ºVPNè·¯ç”±ç»™BGPé‚»å±…æ—¶ï¼Œè¦ç”¨Export RTå¯¹VPNè·¯ç”±è¿›è¡Œæ ‡è®°ï¼›åœ¨å¾€BGPé‚»å±…çš„VRFè¡¨ä¸­å¯¼å…¥VPNè·¯ç”±æ—¶ï¼Œåªæœ‰æ‰€å¸¦RTæ ‡è®°ä¸VRFè¡¨ä¸­ä»»æ„ä¸€ä¸ªImport RTç›¸ç¬¦çš„è·¯ç”±æ‰ä¼šè¢«å¯¼å…¥åˆ°VRFè¡¨ä¸­ã€‚RTä½¿å¾—PEè·¯ç”±å™¨åªåŒ…å«å’Œå…¶ç›´æ¥ç›¸è¿çš„VPNçš„è·¯ç”±ï¼Œè€Œä¸æ˜¯å…¨ç½‘æ‰€æœ‰VPNçš„è·¯ç”±ï¼Œä»è€ŒèŠ‚çœäº†PEè·¯ç”±å™¨çš„èµ„æºï¼Œæé«˜äº†ç½‘ç»œæ‹“å±•æ€§ã€‚ï¼ˆå°†connectè·¯ç”±å‘ç»™BGPé‚»å±…ï¼Œè€Œï¼‰</p><p>é€šè¿‡é…ç½®importå’Œexport RTï¼Œæ¥æ§åˆ¶æ”¶å‘è·¯ç”±ã€‚</p><p>1.å½“ä»VRFè¡¨ä¸­å¯¼å‡ºVPNè·¯ç”±æ—¶ï¼Œè¦ç”¨Export RTå¯¹VPNè·¯ç”±è¿›è¡Œæ ‡è®°ã€‚</p><p>2.å½“å¾€VRFè¡¨ä¸­å¯¼å…¥VPNè·¯ç”±æ—¶ï¼Œåªæœ‰æ‰€å¸¦RTæ ‡è®°ä¸VRFè¡¨ä¸­ä»»æ„ä¸€ä¸ªImport RTç›¸ç¬¦çš„è·¯ç”±æ‰ä¼šè¢«å¯¼å…¥åˆ°VRFè¡¨ä¸­ã€‚</p><p>RD,è¿™æ¡è·¯ç”±æ˜¯è°å‘å‡ºæ¥çš„ï¼Œå› æ­¤æ¯ä¸€ä¸ªvrfæœ‰å®ƒçš„rdå€¼<br>RT,è¿™æ¡è·¯ç”±ä»ä»å“ªæ¥ï¼Œè¦å»å“ªé‡Œã€‚ï¼ˆæ¥æ”¶æ–¹å’Œå‘é€æ–¹è¿™ä¸ªå€¼ä¸€æ ·ï¼ŒåŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯export,ä¸€ä¸ªæ˜¯inportï¼‰</p><h2 id="MPLS-VPNè·¯ç”±å‘å¸ƒ"><a href="#MPLS-VPNè·¯ç”±å‘å¸ƒ" class="headerlink" title="MPLS VPNè·¯ç”±å‘å¸ƒ"></a>MPLS VPNè·¯ç”±å‘å¸ƒ</h2><p>CEåˆ°PEä¹‹é—´çš„è·¯ç”±äº¤æ¢ï¼ˆä½¿ç”¨é™æ€æˆ–åŠ¨æ€è·¯ç”±ï¼‰</p><p>PEå°†æ¥æ”¶çš„è·¯ç”±ï¼Œæ³¨å…¥æŒ‡å®šçš„VRF (VRFä¸å’ŒCEè¿æ¥çš„æ¥å£ç»‘å®š)</p><p>PEå°†VRFçš„è·¯ç”±æ³¨å…¥MP-BGPï¼ˆæ‰“ä¸ŠRDå’ŒRTæ ‡ç­¾ï¼Œè¿˜æœ‰MPLSç§ç½‘æ ‡ç­¾ï¼‰æˆä¸ºVPNv4è·¯ç”±<br>å…¶ä¸­RDå’ŒRTä¸ºæ‰‹åŠ¨æŒ‡å®šï¼ŒMPLSç§ç½‘æ ‡ç­¾ä¸ºMP-BGPåˆ†é…ã€‚</p><p>VPNv4è·¯ç”±é€šè¿‡MP-BGPåœ¨éª¨å¹²ç½‘ä¸Šä¼ é€’ï¼Œåˆ°æŒ‡å®šçš„å¯¹ç«¯PE</p><p>å¯¹ç«¯PE æ ¹æ®RTå¯¼å…¥æŒ‡å®šçš„VRFã€‚</p><p>å¯¹ç«¯PEå°†è·¯ç”±å‘é€ç»™CEã€‚</p><p>VRF(è™šæ‹Ÿè·¯ç”±è½¬å‘)ç”¨äºéš”ç¦»è·¯ç”±è¡¨ã€‚</p><h2 id="MPLS-VPNæ•°æ®è½¬å‘"><a href="#MPLS-VPNæ•°æ®è½¬å‘" class="headerlink" title="MPLS VPNæ•°æ®è½¬å‘"></a>MPLS VPNæ•°æ®è½¬å‘</h2><p>æ•°æ®ä»CEåˆ°å…¥ç«™PEï¼ˆåªæ˜¯æ™®é€šIPè½¬å‘ï¼Œå…¥ç«™PEçš„æ¥å£ç»‘å®šVRFï¼‰</p><p>æ•°æ®ä»å…¥ç«™PEåˆ°ä¸­é—´ P è®¾å¤‡ï¼Œ<br>é¦–å…ˆå‹å…¥ç§ç½‘æ ‡ç­¾ï¼Œæ­¤æ ‡ç­¾æ˜¯MP-BGPåˆ†é…çš„ï¼Œä¸VPNv4è·¯ç”±å¯¹åº”ã€‚LSPåªæ˜¯ä¸¤ç«¯çš„PEä¹‹é—´å»ºç«‹ã€‚<br>ç„¶åå‹å…¥å…¬ç½‘æ ‡ç­¾ï¼Œæ­¤æ ‡ç­¾æ˜¯LDPåˆ†é…çš„ï¼ŒLSPæ˜¯å…¥ç«™PEã€ä¸­é—´Pè®¾å¤‡ã€å‡ºç«™PEä¹‹é—´å»ºç«‹ã€‚<br>å…¶ä¸­ï¼ŒPè®¾å¤‡å¯¹äºå†…å±‚çš„ç§ç½‘æ ‡ç­¾æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œåªæ ¹æ®å…¬ç½‘æ ‡ç­¾è¿›è¡Œæ•°æ®è½¬å‘ã€‚</p><p>ä¸­é—´ P è®¾å¤‡åˆ°å‡ºç«™PE+<br>å½“å‡ºç«™PEæ”¶åˆ°æ•°æ®çš„æ—¶å€™ï¼Œåªå‰©ä¸‹ä¸€å±‚ç§ç½‘æ ‡ç­¾ã€‚ï¼ˆPHPåŸå› ï¼Œå€’æ•°ç¬¬äºŒè·³å¼¹å‡ºæ ‡ç­¾ï¼‰<br>ç„¶åæ ¹æ®ç§ç½‘æ ‡ç­¾ï¼Œè½¬å‘åˆ°æŒ‡å®šçš„VRFã€‚ï¼ˆå‰¥ç¦»ç§ç½‘æ ‡ç­¾ï¼‰</p><p>æ•°æ®ä»å‡ºç«™PEåˆ°è¿œç«¯CE ï¼ˆåªæ˜¯æ™®é€šIPè½¬å‘ï¼Œå‡ºç«™PEçš„æ¥å£ç»‘å®šVRFï¼‰</p><p>ï¼ˆä¸ºä»€ä¹ˆéœ€è¦å¤–ç½‘æ ‡ç­¾å‘¢ï¼Ÿ å› ä¸ºPè®¾å¤‡æ²¡æœ‰VPNv4çš„ç§ç½‘è·¯ç”±ï¼Œæ— æ³•å»ºç«‹LSPï¼‰</p><h2 id="å…¬ç½‘æ ‡ç­¾ä¸ç§ç½‘æ ‡ç­¾è¿˜æœ‰LSP"><a href="#å…¬ç½‘æ ‡ç­¾ä¸ç§ç½‘æ ‡ç­¾è¿˜æœ‰LSP" class="headerlink" title="å…¬ç½‘æ ‡ç­¾ä¸ç§ç½‘æ ‡ç­¾è¿˜æœ‰LSP"></a>å…¬ç½‘æ ‡ç­¾ä¸ç§ç½‘æ ‡ç­¾è¿˜æœ‰LSP</h2><p>å…¬ç½‘æ ‡ç­¾é€šè¿‡LDPå»ºç«‹ï¼ŒPEå’ŒPEè®¾å¤‡éƒ½å‚ä¸ä¸€æ¡LSPã€‚<br>ç§ç½‘æ ‡ç­¾ï¼Œé€šè¿‡MP-BGPå»ºç«‹ï¼Œä¸¤ç«¯PEè¿›è¡Œå»ºç«‹LSPã€‚<br>æ‰€ä»¥ç§ç½‘æ ‡ç­¾åªéœ€è¦MP-BGPå»ºç«‹é‚»å±…å…³ç³»ã€‚ï¼ˆPä¸PEä¹‹é—´ï¼Œåªéœ€è¦åº•å±‚è·¯ç”±äº’é€šï¼Œä¸éœ€è¦BGPã€‚ï¼‰</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li><li><a href="https://blogs.kainy.cn/2010/04/ä¸åŒç³»ç»Ÿä¸‹_VPN_è®¾ç½®æ•™ç¨‹/">ä¸åŒç³»ç»Ÿä¸‹ VPN è®¾ç½®æ•™ç¨‹</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>vpn</tag>
      
      <tag>mpls</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•æˆä¸ºå…¨æ ˆç½‘ç»œå·¥ç¨‹å¸ˆï¼Ÿ</title>
    <link href="/Full_Stack_Network_Engineer/"/>
    <url>/Full_Stack_Network_Engineer/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å†™ä¸€ä¸‹å¯¹ä¸€ä¸ªç°ä»£å…¨æ ˆç½‘ç»œå·¥ç¨‹å¸ˆçš„å‘å±•æ–¹å‘ä¸ªäººç†è§£ã€‚</p><p>ä¹Ÿç®—æ˜¯ä¸ªäººæœªæ¥çš„èŒä¸šè§„åˆ’ã€‚</p><span id="more"></span><h1 id="æ•°é€šç½‘ç»œ"><a href="#æ•°é€šç½‘ç»œ" class="headerlink" title="æ•°é€šç½‘ç»œ"></a>æ•°é€šç½‘ç»œ</h1><p>ä½œä¸ºç½‘ç»œå·¥ç¨‹å¸ˆæœ€åŸºç¡€çš„ä¸œè¥¿ï¼Œç›¸å…³å­¦ä¹ è®¤è¯å¯ä»¥è€ƒå–æ€ç§‘çš„CCIE-EIï¼Œåä¸ºçš„HCIE-Datacomç­‰è¿›è¡Œç³»ç»ŸåŒ–çš„å­¦ä¹ ã€‚<br>æœ€è¿‘éƒ½æœ‰æ›´æ–°è‡ªåŠ¨åŒ–ã€æ— çº¿ã€SRç­‰æ–°å†…å®¹ã€‚<br>ç†Ÿæ‚‰å„å¤§å‚å•†çš„ç¡¬ä»¶å’Œé…ç½®CLIï¼ˆCiscoã€åä¸ºã€H3Cã€Juniperç­‰ï¼‰</p><h1 id="Linuxç³»ç»Ÿè¿ç»´"><a href="#Linuxç³»ç»Ÿè¿ç»´" class="headerlink" title="Linuxç³»ç»Ÿè¿ç»´"></a>Linuxç³»ç»Ÿè¿ç»´</h1><p>Linuxå„å¤§å‘è¡Œç‰ˆçš„åŸºç¡€æ“ä½œï¼Œå¦‚RHELç³»åˆ—ã€Debianç³»åˆ—ã€Ubuntuç­‰åŠå…¶è¡ç”Ÿå‘è¡Œç‰ˆã€‚<br>å¯ä»¥è€ƒå–å­¦ä¹ çº¢å¸½RHCEè®¤è¯ã€‚</p><p>å­¦ä¹ ç½‘ç«™æ¨èï¼š<a href="https://www.linuxprobe.com/">https://www.linuxprobe.com</a></p><h1 id="æ¡Œé¢è¿ç»´ï¼ˆHelpDeskï¼‰ã€Windows-Serverã€‚"><a href="#æ¡Œé¢è¿ç»´ï¼ˆHelpDeskï¼‰ã€Windows-Serverã€‚" class="headerlink" title="æ¡Œé¢è¿ç»´ï¼ˆHelpDeskï¼‰ã€Windows Serverã€‚"></a>æ¡Œé¢è¿ç»´ï¼ˆHelpDeskï¼‰ã€Windows Serverã€‚</h1><p>æœ€åŸºç¡€çš„PCå’ŒWindowsæ¡Œé¢ç³»ç»Ÿçš„ç»´æŠ¤ï¼Œå’ŒWindows Serverï¼ˆADã€SMBã€DNSã€DHCPï¼‰ç­‰æœåŠ¡çš„ä½¿ç”¨ã€‚</p><h1 id="ç½‘ç»œå®‰å…¨"><a href="#ç½‘ç»œå®‰å…¨" class="headerlink" title="ç½‘ç»œå®‰å…¨"></a>ç½‘ç»œå®‰å…¨</h1><p>å»ºè®®ç›´æ¥å»å­¦æ€ç§‘çš„CCNP å®‰å…¨è®¤è¯ï¼Œç›¸å¯¹æ¥è¯´æ€ç§‘çš„æ›´å…¨é¢æ›´é€šç”¨ä¸€äº›ã€‚</p><h1 id="è™šæ‹ŸåŒ–ï¼ˆVMware-KVM-å®¹å™¨-K8Sç­‰ï¼‰"><a href="#è™šæ‹ŸåŒ–ï¼ˆVMware-KVM-å®¹å™¨-K8Sç­‰ï¼‰" class="headerlink" title="è™šæ‹ŸåŒ–ï¼ˆVMware KVM å®¹å™¨ K8Sç­‰ï¼‰"></a>è™šæ‹ŸåŒ–ï¼ˆVMware KVM å®¹å™¨ K8Sç­‰ï¼‰</h1><p>ç†Ÿæ‚‰VMwareçš„è™šæ‹ŸåŒ–äº§å“ï¼Œå¼€æºçš„KVMå’Œå®¹å™¨æŠ€æœ¯ã€‚<br>å¯ä»¥è€ƒå–VMwareçš„VCPç³»åˆ—è¯ä¹¦ã€‚<br>å­¦ä¹ è™šæ‹ŸåŒ–ç½‘ç»œã€K8sç­‰ç½‘ç»œæ¶æ„ã€‚</p><h1 id="å…¬æœ‰äº‘"><a href="#å…¬æœ‰äº‘" class="headerlink" title="å…¬æœ‰äº‘"></a>å…¬æœ‰äº‘</h1><p>å›½å†…çš„é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€åä¸ºäº‘ç­‰çš„åŸºç¡€æ“ä½œå’Œå†…éƒ¨ç½‘ç»œæ¶æ„ã€‚<br>å›½å¤–æœ‰AWSã€GCPã€Azureã€‚</p><h1 id="ç›‘æ§ã€æ—¥å¿—"><a href="#ç›‘æ§ã€æ—¥å¿—" class="headerlink" title="ç›‘æ§ã€æ—¥å¿—"></a>ç›‘æ§ã€æ—¥å¿—</h1><p>Zabbixã€Catiã€ELKã€Prometheusç­‰å¼€æºäº§å“ï¼Œç”¨äºç›‘æ§è®¾å¤‡çŠ¶æ€ã€æ—¥å¿—ç­‰ä¿¡æ¯ã€‚</p><h1 id="ç½‘ç»œè‡ªåŠ¨åŒ–ï¼ˆDevNetï¼‰"><a href="#ç½‘ç»œè‡ªåŠ¨åŒ–ï¼ˆDevNetï¼‰" class="headerlink" title="ç½‘ç»œè‡ªåŠ¨åŒ–ï¼ˆDevNetï¼‰"></a>ç½‘ç»œè‡ªåŠ¨åŒ–ï¼ˆDevNetï¼‰</h1><p>å­¦ä¹ Pythonå’Œç›¸å…³ç½‘ç»œåº“ã€Ansibleç­‰è¿ç»´è‡ªåŠ¨åŒ–ã€‚<br>æ¨èå­¦ä¹ ï¼š<a href="https://www.zhihu.com/people/wang-yin-31-84">https://www.zhihu.com/people/wang-yin-31-84</a></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>é¢†è‹±ï¼š <a href="https://www.linkedin.com/pulse/how-become-full-stack-network-engineer-mohammad-abbasi-darabi/">https://www.linkedin.com/pulse/how-become-full-stack-network-engineer-mohammad-abbasi-darabi/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>planning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Juniper MPLS L3VPNå®éªŒé…ç½®</title>
    <link href="/Juniper_L3-MPLS/"/>
    <url>/Juniper_L3-MPLS/</url>
    
    <content type="html"><![CDATA[<h1 id="å®éªŒè¯´æ˜"><a href="#å®éªŒè¯´æ˜" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h1><p>ä½¿ç”¨Juniper vMXè¿›è¡Œå®éªŒã€‚</p><p>ISIS L2 ä½œä¸º IGPæ‰“é€šåº•å±‚è·¯ç”±ï¼ŒLDP ä½œä¸ºå…¬ç½‘MPLSæ ‡ç­¾åˆ†å‘ï¼ŒPEä¹‹é—´ä½¿ç”¨MP-IBGP</p><p>PS: æ­¤æ–‡ç« åªæœ‰PEçš„é…ç½®ï¼Œç”¨äºå­¦ä¹ å’Œç†è§£Juniperé…ç½®ã€‚</p><span id="more"></span><h1 id="é…ç½®ISIS"><a href="#é…ç½®ISIS" class="headerlink" title="é…ç½®ISIS"></a>é…ç½®ISIS</h1><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">set</span> interfaces lo0 unit <span class="hljs-number">0</span> family inet address <span class="hljs-number">192.168.0.1</span>/<span class="hljs-number">32</span><br><span class="hljs-attribute">set</span> interfaces lo0 unit <span class="hljs-number">0</span> family iso address <span class="hljs-number">49</span>.<span class="hljs-number">0002</span>.<span class="hljs-number">0192</span>.<span class="hljs-number">0168</span>.<span class="hljs-number">0001</span>.<span class="hljs-number">00</span><br><span class="hljs-comment"># é…ç½®ISOçš„ NETåœ°å€ï¼Œç”¨äºISIS</span><br><span class="hljs-attribute">set</span> protocols isis interface lo0.<span class="hljs-number">0</span> passive<br><br><span class="hljs-attribute">set</span> protocols isis level <span class="hljs-number">2</span> wide-metrics-only<br><span class="hljs-comment"># å¼€å¯L2è·¯ç”±å™¨çš„å®½åº¦é‡å€¼è®¡ç®—</span><br><span class="hljs-attribute">set</span> protocols isis level <span class="hljs-number">1</span> disable<br><span class="hljs-comment"># å…³é—­L1è·¯ç”±å™¨</span><br><span class="hljs-attribute">set</span> interfaces ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span> unit <span class="hljs-number">0</span> family inet address <span class="hljs-number">12.1.1.2</span>/<span class="hljs-number">24</span><br><span class="hljs-attribute">set</span> interfaces ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span> unit <span class="hljs-number">0</span> family iso<br><span class="hljs-comment"># å¼€å¯ç‰©ç†æ¥å£çš„ISOï¼Œç”¨äºISISã€‚</span><br><br><span class="hljs-attribute">set</span> protocols isis interface ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><br><span class="hljs-comment"># å®£å‘Š ç‰©ç†æ¥å£</span><br><br><span class="hljs-attribute">set</span> protocols isis interface ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span> point-to-point<br><br><span class="hljs-comment"># é…ç½®é‚»å±…ç±»å‹ä¸ºP2P</span><br><br><span class="hljs-attribute">set</span> protocols isis interface ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span> hello-padding disable<br><br><span class="hljs-comment"># å…³é—­Hello æŠ¥æ–‡å¡«å……</span><br><br><span class="hljs-attribute">set</span> protocols isis interface ge-<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span> level <span class="hljs-number">2</span> metric <span class="hljs-number">1000</span><br><span class="hljs-comment"># é…ç½®ISIS æ¥å£åº¦é‡å€¼</span><br></code></pre></td></tr></table></figure><h2 id="éªŒè¯ISIS"><a href="#éªŒè¯ISIS" class="headerlink" title="éªŒè¯ISIS"></a>éªŒè¯ISIS</h2><p><code>show isis adjacency </code></p><p>#ç¡®è®¤é‚»å±…çŠ¶æ€ä¸ºUP</p><p><code>show route protocol isis</code></p><p>#æŸ¥çœ‹é€šè¿‡ISISå­¦ä¹ çš„è·¯ç”±è¡¨</p><h1 id="é…ç½®LDP"><a href="#é…ç½®LDP" class="headerlink" title="é…ç½®LDP"></a>é…ç½®LDP</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs routeros"> <br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> ldp interface </span>all<br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> ldp interface </span>lo0.0<br><br><span class="hljs-comment"># å¼€å¯æ¥å£çš„LDPåè®®</span><br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> mpls interface </span>lo0.0<br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> mpls interface </span>all<br><br><span class="hljs-comment"># å¼€å¯æ¥å£çš„MPLS</span><br><br><br><span class="hljs-built_in">set</span> interfaces ge-0/0/9 unit 0 family<span class="hljs-built_in"> mpls </span><br><br><span class="hljs-comment"># å¼€å¯æ¥å£çš„MPLS</span><br></code></pre></td></tr></table></figure><h2 id="éªŒè¯LDP"><a href="#éªŒè¯LDP" class="headerlink" title="éªŒè¯LDP"></a>éªŒè¯LDP</h2><p><code>show ldp session</code></p><p>##æ­£å¸¸çŠ¶æ€ä¸ºï¼š  Operational</p><p><code>show route table inet.3</code></p><p>#æŸ¥çœ‹å…¬ç½‘LDPåˆ†é…çš„æ ‡ç­¾ã€‚</p><p>PSï¼š LDPè½¬å‘è·¯å¾„å®Œå…¨ä¾èµ–ä¸IGPè·¯ç”±çš„é€‰è·¯ï¼Œä¸”FECé»˜è®¤åªä¼šåŒ¹é…&#x2F;32è·¯ç”±å»ºç«‹LSPã€‚</p><h1 id="é…ç½®MP-BGP"><a href="#é…ç½®MP-BGP" class="headerlink" title="é…ç½®MP-BGP"></a>é…ç½®MP-BGP</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> routing-options router-id 1.1.1.1<br><span class="hljs-comment"># é…ç½®å…¨å±€çš„è·¯ç”±ID</span><br><br><span class="hljs-built_in">set</span> routing-options autonomous-system 100<br><span class="hljs-comment"># é…ç½®å…¨å±€çš„ ASå·</span><br><br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR<span class="hljs-built_in"> type </span>internal<br><span class="hljs-comment"># å»ºç«‹BGPç»„ï¼Œé…ç½®æ ‡ç­¾ä¸ºIBGP</span><br><br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR local-address 1.1.1.1<br><span class="hljs-comment"># é…ç½®BGPçš„æºIPä¸º Lookback åœ°å€ã€‚</span><br><br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR family inet unicast<br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR family inet-vpn unicast<br><span class="hljs-comment"># å¼€å¯å•æ’­IPv4åœ°å€æ—ï¼Œå¼€å¯VPNv4åœ°å€æ—ã€‚</span><br><br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR<span class="hljs-built_in"> neighbor </span>4.4.4.4<br><span class="hljs-comment"># é…ç½®BGPé‚»å±…ã€‚</span><br></code></pre></td></tr></table></figure><h2 id="éªŒè¯BGP"><a href="#éªŒè¯BGP" class="headerlink" title="éªŒè¯BGP"></a>éªŒè¯BGP</h2><p><code> show bgp neighbor</code></p><p>#æŸ¥çœ‹BGPé‚»å±…</p><h1 id="VRFé…ç½®"><a href="#VRFé…ç½®" class="headerlink" title="VRFé…ç½®"></a>VRFé…ç½®</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> routing-instances VLL-VPN1 instance-type vrf<br><br><span class="hljs-comment"># é…ç½®è·¯ç”±å®ä¾‹æ ‡ç­¾ä¸ºVRF</span><br><span class="hljs-built_in">set</span> routing-instances VLL-VPN1<span class="hljs-built_in"> interface </span>ge-0/0/0.0<br><br><span class="hljs-comment"># é…ç½®æ¥å£åŠ å…¥åˆ°è·¯ç”±å®ä¾‹</span><br><span class="hljs-built_in">set</span> routing-instances VLL-VPN1 route-distinguisher 100:1<br><span class="hljs-built_in">set</span> routing-instances VLL-VPN1 vrf-target target:100:1<br><br><span class="hljs-comment">#é…ç½®RD RTå€¼ï¼Œç”¨äºæœ¬åœ°è·¯ç”±åŒºåˆ†ï¼Œå’Œè·¯ç”±VRFçš„åŒºåˆ†å¯¼å…¥</span><br><span class="hljs-built_in">set</span> routing-instances VLL-VPN1 vrf-table-label<br><br><span class="hljs-comment">#ä¸ºVRFé‡Œé¢çš„æ‰€æœ‰è·¯ç”±ç”ŸæˆVPN MPLSæ ‡ç­¾</span><br></code></pre></td></tr></table></figure><p>##åœ¨VRFè·¯ç”±è¡¨é‡Œé¢çš„ï¼Œéƒ½ä¼šå»ºç«‹LSPå‘é€è·¯ç”±åˆ°å¯¹ç«¯çš„MP-BGPé‚»å±…</p><h2 id="éªŒè¯VPNè·¯ç”±ä¼ é€’"><a href="#éªŒè¯VPNè·¯ç”±ä¼ é€’" class="headerlink" title="éªŒè¯VPNè·¯ç”±ä¼ é€’"></a>éªŒè¯VPNè·¯ç”±ä¼ é€’</h2><p><code>show route table VLL-VPN1.inet</code></p><p>#æŸ¥çœ‹VPNè·¯ç”±è¡¨ï¼Œæ˜¯å¦ä¼ é€’åˆ°å¯¹ç«¯PEã€‚ä¹Ÿå¯ä»¥æŸ¥å…¶åˆ†é…çš„å†…ç½‘MPLSæ ‡ç­¾ã€‚</p><p>å‚è€ƒï¼š <a href="https://supportportal.juniper.net/s/article/SRX-Example-Configuring-L3VPN-over-MPLS?language=en_US">https://supportportal.juniper.net/s/article/SRX-Example-Configuring-L3VPN-over-MPLS?language=en_US</a></p><h1 id="é…ç½®BGP-åå°„å™¨"><a href="#é…ç½®BGP-åå°„å™¨" class="headerlink" title="é…ç½®BGP åå°„å™¨"></a>é…ç½®BGP åå°„å™¨</h1><h2 id="åå°„å™¨é…ç½®"><a href="#åå°„å™¨é…ç½®" class="headerlink" title="åå°„å™¨é…ç½®"></a>åå°„å™¨é…ç½®</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR cluster 2.2.2.2<br><span class="hljs-comment">#é…ç½®è‡ªå·±ä¸ºè·¯ç”±åå°„å™¨</span><br><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR<span class="hljs-built_in"> neighbor </span>4.4.4.4<br><span class="hljs-comment">#ä¸å®¢æˆ·ç«¯å»ºç«‹å¯¹ç­‰ä½“</span><br></code></pre></td></tr></table></figure><h2 id="å®¢æˆ·ç«¯é…ç½®"><a href="#å®¢æˆ·ç«¯é…ç½®" class="headerlink" title="å®¢æˆ·ç«¯é…ç½®"></a>å®¢æˆ·ç«¯é…ç½®</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> protocols<span class="hljs-built_in"> bgp group </span>RR<span class="hljs-built_in"> neighbor </span>2.2.2.2<br><span class="hljs-comment">#ä¸RRåå°„å™¨å»ºç«‹å¯¹ç­‰ä½“ã€‚</span><br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š<a href="https://www.juniper.net/documentation/us/en/software/junos/bgp/topics/topic-map/bgp-rr.html#id-understanding-bgp-route-reflectors">https://www.juniper.net/documentation/us/en/software/junos/bgp/topics/topic-map/bgp-rr.html#id-understanding-bgp-route-reflectors</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li><li><a href="https://blogs.kainy.cn/2010/04/ä¸åŒç³»ç»Ÿä¸‹_VPN_è®¾ç½®æ•™ç¨‹/">ä¸åŒç³»ç»Ÿä¸‹ VPN è®¾ç½®æ•™ç¨‹</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>juniper</tag>
      
      <tag>vpn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sublime Text4 4126 å®‰è£…æ¿€æ´»</title>
    <link href="/Sublime_Text4/"/>
    <url>/Sublime_Text4/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æ­¤æ•™ç¨‹ç”¨äºWindows ä¸‹Sublime Text4 4126ç‰ˆæœ¬çš„å®‰è£…å’Œæ¿€æ´»ã€‚</p><p>å®˜ç½‘ï¼š <a href="https://www.sublimetext.com/">https://www.sublimetext.com</a></p><span id="more"></span><h2 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h2><p><a href="https://download.sublimetext.com/sublime_text_build_4126_x64_setup.exe">https://download.sublimetext.com/sublime_text_build_4126_x64_setup.exe</a></p><h1 id="æ¿€æ´»"><a href="#æ¿€æ´»" class="headerlink" title="æ¿€æ´»"></a>æ¿€æ´»</h1><p>å®‰è£…ä¹‹åï¼Œä½¿ç”¨sublime text æ‰“å¼€å®‰è£…ç›®å½•ä¸‹çš„sublime_text.exeæ–‡ä»¶ã€‚</p><p>æœåˆ°åˆ°<code>8078 0500 0f94 c1</code></p><p>æ›´æ”¹ä¸º<code>c640 0501 4885 c9</code></p><p>ç„¶åå¦å­˜åˆ°å…¶ä»–è·¯å¾„ï¼Œç„¶åå…³é—­sublime textï¼Œå°†åŸsublime_text.exeè¿›è¡Œæ›¿æ¢å³å¯ã€‚</p><h2 id="è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰"><a href="#è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰" class="headerlink" title="è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰"></a>è¾“å…¥æ¿€æ´»ç ï¼ˆç†è®ºä¸éœ€è¦ï¼‰</h2><p>æ‰“å¼€Sublime textï¼Œç‚¹å‡»èœå•æ -â€“&gt;Helpâ€”&gt;Enter License</p><p>è¾“å…¥ä¸‹åˆ—æ¿€æ´»ç å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs License">â€”â€“ BEGIN LICENSE â€”â€“<br>Mifeng User<br>Single User License<br>EA7E-1184812<br>C0DAA9CD 6BE825B5 FF935692 1750523A<br>EDF59D3F A3BD6C96 F8D33866 3F1CCCEA<br>1C25BE4D 25B1C4CC 5110C20E 5246CC42<br>D232C83B C99CCC42 0E32890C B6CBF018<br>B1D4C178 2F9DDB16 ABAA74E5 95304BEF<br>9D0CCFA9 8AF8F8E2 1E0A955E 4771A576<br>50737C65 325B6C32 817DCB83 A7394DFA<br>27B7E747 736A1198 B3865734 0B434AA5<br>â€”â€” END LICENSE â€”<br></code></pre></td></tr></table></figure><p>ç‚¹å‡»èœå•æ  Helpâ€”&gt;About Sublime Text å¯æ£€æµ‹æ¿€æ´»çŠ¶æ€ã€‚</p><h1 id="è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…"><a href="#è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…" class="headerlink" title="è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…"></a>è½¯ä»¶å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…</h1><p>1ã€ç‚¹å‡»èœå•æ Toolsâ€”&gt;Install Package Control è·³å‡ºå¼¹æ¡†ç‚¹å‡» ç¡®å®šæŒ‰é’®</p><p>2ã€ç‚¹å‡»èœå•æ  Preferences â€“ Package Control</p><p>3ã€å¼¹æ¡†ä¸­è¾“å…¥ install packageï¼Œé€‰ä¸­ Package Control: Install Package ç„¶åç­‰å¾…å¼¹çª—(å¯èƒ½éœ€è¦è€å¿ƒç­‰å¾…ä¸€æ®µæ—¶é—´)</p><p>4ã€ç­‰å‡ºç°å¦‚ä¸‹å¼¹çª—å, åœ¨å¼¹çª—çš„æœç´¢æ¡†ä¸­è¾“å…¥ ChineseLocalizations , ç‚¹å‡»å‡ºç°çš„é€‰é¡¹</p><p>5ã€ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœå‡ºç°äº†å¦‚ä¸‹ç”»é¢åˆ™æ±‰åŒ–æ­¥éª¤å…¨éƒ¨å®Œæˆ</p><p>6ã€åç»­è‹¥éœ€è¦æ›´æ”¹ï¼Œå¯ç‚¹å‡»èœå•æ  å¸®åŠ©-â€“&gt;Language é€‰æ‹©è¿›è¡Œæ›´æ”¹ã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Sublime_Text4_4143/">Sublime Text4 4143 å®‰è£…æ¿€æ´»</a></li><li><a href="https://songxwn.com/KMS-Windows/">Windows éƒ¨ç½²ç§æœ‰KMSæœåŠ¡å™¨ã€‚</a></li><li><a href="https://chengzhaoxi.xyz/2bffefb0.html">WindowsåŒ…ç®¡ç†å·¥å…·scoop</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>IDE</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Windows</tag>
      
      <tag>IDE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ELK Stack å®‰è£…æ•™ç¨‹ï¼ŒRHELåŠè¡ç”Ÿç³»ç»Ÿã€‚</title>
    <link href="/elk/"/>
    <url>/elk/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>â€œELKâ€æ˜¯ä¸‰ä¸ªå¼€æºé¡¹ç›®çš„é¦–å­—æ¯ç¼©å†™ï¼Œè¿™ä¸‰ä¸ªé¡¹ç›®åˆ†åˆ«æ˜¯ï¼šElasticsearchã€Logstash å’Œ Kibanaã€‚Elasticsearch æ˜¯ä¸€ä¸ªæœç´¢å’Œåˆ†æå¼•æ“ã€‚Logstash æ˜¯æœåŠ¡å™¨ç«¯æ•°æ®å¤„ç†ç®¡é“ï¼Œèƒ½å¤ŸåŒæ—¶ä»å¤šä¸ªæ¥æºé‡‡é›†æ•°æ®ï¼Œè½¬æ¢æ•°æ®ï¼Œç„¶åå°†æ•°æ®å‘é€åˆ°è¯¸å¦‚ Elasticsearch ç­‰â€œå­˜å‚¨åº“â€ä¸­ã€‚Kibana åˆ™å¯ä»¥è®©ç”¨æˆ·åœ¨ Elasticsearch ä¸­ä½¿ç”¨å›¾å½¢å’Œå›¾è¡¨å¯¹æ•°æ®è¿›è¡Œå¯è§†åŒ–ã€‚</p><p>ç›®å‰æœ€æ–°çš„åå­—å« Elastic Stack æ˜¯ ELK Stack çš„æ›´æ–°æ¢ä»£äº§å“ã€‚ï¼ˆå¢åŠ äº†å„ç§Beatsï¼‰</p><p><img src="https://www.elastic.co/static-res/images/elk/elk-stack-elkb-diagram.svg" srcset="/img/loading.gif" lazyload alt="ç¤ºæ„å›¾"></p><p>æ³¨æ„ï¼šæœ¬æ–‡ç« ä¸»è¦ç”¨äºsyslogç±»å‹çš„æ—¥å¿—æ”¶é›†ï¼Œå–æ¶ˆESçš„åŠ å¯†è®¿é—®æ˜¯ä¸ºäº†æ–¹ä¾¿æ¥å…¥frostmourneè¿›è¡Œæ—¥å¿—å‘Šè­¦ã€‚</p><span id="more"></span><h1 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h1><p>ç³»ç»Ÿï¼š AlmaLinux 9 ï¼ˆå…³é—­SE Linuxï¼‰</p><p>Javaï¼šOpenJDK 19 ï¼ˆä»RPM 8.5ç‰ˆæœ¬å¼€å§‹ä½¿ç”¨å†…ç½®19ç‰ˆæœ¬ï¼‰</p><p>æµè§ˆå™¨ï¼šFirefoxã€Chromeã€Safariã€Edgeï¼ˆä½¿ç”¨æœ€æ–°ç‰ˆï¼‰</p><p>è½¯ä»¶ç‰ˆæœ¬ï¼Œä½¿ç”¨ELK 8.5+</p><p>ä¹Ÿé€‚ç”¨äºå…¶ä»–RHEL8-9ç‰ˆæœ¬è¡ç”Ÿç‰ˆç³»ç»Ÿï¼šå¦‚Centos Streamã€Rocky Linuxç­‰ã€‚</p><p>å…¼å®¹æ€§æŸ¥è¯¢ï¼š<a href="https://www.elastic.co/cn/support/matrix">https://www.elastic.co/cn/support/matrix</a></p><p>PS: å‚è€ƒ <a href="https://www.skynemo.cn/archives/base-on-centos79-install-elasticsearch81-standalone-and-config#">https://www.skynemo.cn/archives/base-on-centos79-install-elasticsearch81-standalone-and-config#</a></p><p>å®˜ç½‘æ–‡æ¡£ï¼š<a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/rpm.html">https://www.elastic.co/guide/en/elasticsearch/reference/master/rpm.html</a></p><h1 id="å®˜ç½‘ä¸‹è½½åœ°å€"><a href="#å®˜ç½‘ä¸‹è½½åœ°å€" class="headerlink" title="å®˜ç½‘ä¸‹è½½åœ°å€"></a>å®˜ç½‘ä¸‹è½½åœ°å€</h1><p><a href="https://www.elastic.co/cn/downloads/elasticsearch">Download Elasticsearch | Elastic</a></p><p>ä¸‹è½½RPMåŒ…</p><h2 id="ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæºè¿›è¡Œå®‰è£…"><a href="#ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæºè¿›è¡Œå®‰è£…" class="headerlink" title="ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæºè¿›è¡Œå®‰è£…"></a>ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæºè¿›è¡Œå®‰è£…</h2><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs txt">vim /etc/yum.repos.d/elasticsearch.repo<br><br>[elasticsearch]<br>name=Elasticsearch repository for 8.x packages<br>baseurl=https://mirrors.tuna.tsinghua.edu.cn/elasticstack/8.x/yum<br>gpgcheck=0<br>enabled=1<br>autorefresh=1<br>type=rpm-md<br></code></pre></td></tr></table></figure><p>#åˆ›å»ºelasticsearch.repo è‡³ &#x2F;etc&#x2F;yum.repos.d&#x2F;ä¸­ï¼Œæ³¨æ„å®‰è£…å‰æ£€æŸ¥SELinuxæ˜¯å¦å…³é—­ã€‚</p><p>#æ³¨æ„ï¼šå…³é—­äº†GPGè®¤è¯</p><p>PS: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/8.3/rpm.html#rpm-repo">ä½¿ç”¨ RPM |å®‰è£… Elasticsearchå¼¹æ€§æœç´¢æŒ‡å— [8.3]</a></p><p><code>dnf install elasticsearch logstash kibana</code></p><h2 id="ä½¿ç”¨dnfè¿›è¡Œå®‰è£…"><a href="#ä½¿ç”¨dnfè¿›è¡Œå®‰è£…" class="headerlink" title="ä½¿ç”¨dnfè¿›è¡Œå®‰è£…"></a>ä½¿ç”¨dnfè¿›è¡Œå®‰è£…</h2><p><code>systemctl enable --now elasticsearch.service kibana.service logstash.service </code></p><p>#å¯åŠ¨å¹¶è®¾å®šå¼€æœºå¯åŠ¨ã€‚</p><h3 id="é»˜è®¤åˆå§‹åŒ–é…ç½®"><a href="#é»˜è®¤åˆå§‹åŒ–é…ç½®" class="headerlink" title="é»˜è®¤åˆå§‹åŒ–é…ç½®"></a>é»˜è®¤åˆå§‹åŒ–é…ç½®</h3><p>ä½¿ç”¨dnfå®‰è£…çš„æ—¶å€™ï¼Œéœ€è¦æ£€æŸ¥è¾“å…¥æ—¥å¿—ï¼Œä¼šæœ‰ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºã€‚</p><p>é»˜è®¤å¼€å¯HTTPSï¼Œå¹¶ç”Ÿæˆé»˜è®¤ç®¡ç†å‘˜è´¦å·elasticè´¦å·çš„å¯†ç ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤è¿›è¡Œé‡ç½®å¯†ç ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic<br></code></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆ Kibana è®¿é—®Elasticsearchçš„ä»¤ç‰Œã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/elasticsearch/</span>bin/elasticsearch-create-enrollment-token -s kibana <br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs log">--------------------------- Security autoconfiguration information ------------------------------<br><br>Authentication and authorization are enabled.<br>TLS for the transport and HTTP layers is enabled and configured.<br><br>The generated password for the elastic built-in superuser is : wm7khlFyj3VrHKOtb5S9<br><br>If this node should join an existing cluster, you can reconfigure this with<br>&#x27;/usr/share/elasticsearch/bin/elasticsearch-reconfigure-node --enrollment-token &lt;token-here&gt;&#x27;<br>after creating an enrollment token on your existing cluster.<br><br>You can complete the following actions at any time:<br><br>Reset the password of the elastic built-in superuser with <br>&#x27;/usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic&#x27;.<br><br>Generate an enrollment token for Kibana instances with <br> &#x27;/usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana&#x27;.<br><br>Generate an enrollment token for Elasticsearch nodes with <br>&#x27;/usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s node&#x27;.<br></code></pre></td></tr></table></figure><h3 id="è®¿é—®æµ‹è¯•"><a href="#è®¿é—®æµ‹è¯•" class="headerlink" title="è®¿é—®æµ‹è¯•"></a>è®¿é—®æµ‹è¯•</h3><p><a href="https://192.168.198.6:9200/">https://192.168.198.6:9200</a> ä½¿ç”¨HTTPSè®¿é—®æµ‹è¯•ï¼Œç”¨ç®¡ç†å‘˜è´¦å·å¯†ç ã€‚</p><h1 id="Elasticsearch-é…ç½®"><a href="#Elasticsearch-é…ç½®" class="headerlink" title="Elasticsearch é…ç½®"></a>Elasticsearch é…ç½®</h1><h3 id="åˆ‡æ¢å®¢æˆ·APIä¸ºä¸åŠ å¯†ï¼ŒHTTPè®¿é—®ã€‚"><a href="#åˆ‡æ¢å®¢æˆ·APIä¸ºä¸åŠ å¯†ï¼ŒHTTPè®¿é—®ã€‚" class="headerlink" title="åˆ‡æ¢å®¢æˆ·APIä¸ºä¸åŠ å¯†ï¼ŒHTTPè®¿é—®ã€‚"></a>åˆ‡æ¢å®¢æˆ·APIä¸ºä¸åŠ å¯†ï¼ŒHTTPè®¿é—®ã€‚</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim /etc/elasticsearch/elasticsearch.yml <br></code></pre></td></tr></table></figure><p>æ‰“å¼€æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents</span><br><span class="hljs-attr">xpack.security.http.ssl:</span><br>  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">keystore.path:</span> <span class="hljs-string">certs/http.p12</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸Šè¿°é…ç½®ä¸º false.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl restart elasticsearch.service  <br></code></pre></td></tr></table></figure><p>é‡å¯æœåŠ¡ï¼Œä»¥ç”Ÿæ•ˆé…ç½®ã€‚</p><p>è®¿é—® <a href="http://192.168.198.6:9200/">http://192.168.198.6:9200</a>  ï¼Œä½¿ç”¨httpæµ‹è¯•ã€‚</p><h2 id="æ—¥å¿—å‘Šè­¦"><a href="#æ—¥å¿—å‘Šè­¦" class="headerlink" title="æ—¥å¿—å‘Šè­¦"></a>æ—¥å¿—å‘Šè­¦</h2><p>å…³é—­httpsæ˜¯ä¸ºäº†å…¼å®¹frostmourneåšæ—¥å¿—å‘Šè­¦ã€‚</p><p>æ•™ç¨‹ï¼š<a href="https://songxwn.com/frostmourne_install/">https://songxwn.com/frostmourne_install/</a></p><h1 id="Kibana-é…ç½®"><a href="#Kibana-é…ç½®" class="headerlink" title="Kibana é…ç½®"></a>Kibana é…ç½®</h1><p>Kibana æ•°æ®éƒ½å­˜å‚¨åœ¨ESæ•°æ®åº“ï¼Œä¸”ä¸ºdataè§’è‰²çš„ã€‚</p><h2 id="é»˜è®¤é…ç½®"><a href="#é»˜è®¤é…ç½®" class="headerlink" title="é»˜è®¤é…ç½®"></a>é»˜è®¤é…ç½®</h2><p>é»˜è®¤ä¸º 5601 ç«¯å£ï¼Œé»˜è®¤ç»‘å®šä¸º127.0.0.1 åœ°å€ã€‚ä½¿ç”¨HTTPåè®®ã€‚</p><p>å¯ä»¥ä¿®æ”¹kibana.yml æ–‡ä»¶ä¿®æ”¹ç»‘å®šåœ°å€ï¼Œæˆ–è€…ä½¿ç”¨Nginxåå‘ä»£ç†ã€‚</p><h2 id="ä¿®æ”¹è¯­è¨€"><a href="#ä¿®æ”¹è¯­è¨€" class="headerlink" title="ä¿®æ”¹è¯­è¨€"></a>ä¿®æ”¹è¯­è¨€</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">vim</span> <span class="hljs-string">/etc/kibana/kibana.yml</span>  <br></code></pre></td></tr></table></figure><p>vimä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">i18n.locale:</span> <span class="hljs-string">&quot;zh-CN&quot;</span><br><span class="hljs-attr">server.host:</span> <span class="hljs-string">&quot;0.0.0.0&quot;</span><br><br></code></pre></td></tr></table></figure><h1 id="ä¿®æ”¹æ­¤è¡Œä¸ºä¸­æ–‡é…ç½®ï¼Œé‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚ç¬¬äºŒè¡Œä¸ºé…ç½®ç›‘å¬IP"><a href="#ä¿®æ”¹æ­¤è¡Œä¸ºä¸­æ–‡é…ç½®ï¼Œé‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚ç¬¬äºŒè¡Œä¸ºé…ç½®ç›‘å¬IP" class="headerlink" title="ä¿®æ”¹æ­¤è¡Œä¸ºä¸­æ–‡é…ç½®ï¼Œé‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚ç¬¬äºŒè¡Œä¸ºé…ç½®ç›‘å¬IP."></a>ä¿®æ”¹æ­¤è¡Œä¸ºä¸­æ–‡é…ç½®ï¼Œé‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚ç¬¬äºŒè¡Œä¸ºé…ç½®ç›‘å¬IP.</h1><h2 id="åŸºæœ¬è®¤è¯é…ç½®"><a href="#åŸºæœ¬è®¤è¯é…ç½®" class="headerlink" title="åŸºæœ¬è®¤è¯é…ç½®"></a>åŸºæœ¬è®¤è¯é…ç½®</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># =================== System: Elasticsearch ===================</span><br><span class="hljs-comment"># The URLs of the Elasticsearch instances to use for all your queries.</span><br><span class="hljs-attr">elasticsearch.hosts:</span> [<span class="hljs-string">&quot;http://127.0.0.1:9200&quot;</span>]<br><br><span class="hljs-comment"># If your Elasticsearch is protected with basic authentication, these settings provide</span><br><span class="hljs-comment"># the username and password that the Kibana server uses to perform maintenance on the Kibana</span><br><span class="hljs-comment"># index at startup. Your Kibana users still need to authenticate with Elasticsearch, which</span><br><span class="hljs-comment"># is proxied through the Kibana server.</span><br><span class="hljs-attr">elasticsearch.username:</span> <span class="hljs-string">&quot;kibana_system&quot;</span><br><span class="hljs-attr">elasticsearch.password:</span> <span class="hljs-string">&quot;he5l=fIIbD1WhD_=aNg_&quot;</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶ï¼Œé…ç½®ESè®¿é—®åœ°å€ï¼Œé…ç½®ç³»ç»Ÿé»˜è®¤è´¦å·kibana_systemçš„å¯†ç ï¼Œå¡«å…¥é…ç½®æ–‡ä»¶ã€‚ï¼ˆå¿…é¡»ä¸ºæ­¤è´¦å·ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><br> /usr/share/elasticsearch/bin/elasticsearch-reset-password -u kibana_system<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡ç½®å¯†ç </span><br><br></code></pre></td></tr></table></figure><p>PSï¼š å‚è€ƒ <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/security-minimal-setup.html#add-built-in-users">https://www.elastic.co/guide/en/elasticsearch/reference/current/security-minimal-setup.html#add-built-in-users</a></p><h1 id="Logstash-é…ç½®"><a href="#Logstash-é…ç½®" class="headerlink" title="Logstash é…ç½®"></a>Logstash é…ç½®</h1><h2 id="å¼€å¯syslogï¼Œå°†æ•°æ®è½¬å‘ç»™ES"><a href="#å¼€å¯syslogï¼Œå°†æ•°æ®è½¬å‘ç»™ES" class="headerlink" title="å¼€å¯syslogï¼Œå°†æ•°æ®è½¬å‘ç»™ES."></a>å¼€å¯syslogï¼Œå°†æ•°æ®è½¬å‘ç»™ES.</h2><p><code>vim /etc/logstash/conf.d/syslog.conf</code></p><p>åˆ›å»ºä¿®æ”¹syslogé…ç½®æ–‡ä»¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><br>input <span class="hljs-punctuation">&#123;</span><br>  syslog <span class="hljs-punctuation">&#123;</span><br>    type =&gt; <span class="hljs-string">&quot;system-syslog&quot;</span><br>    port =&gt; <span class="hljs-number">514</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br>output <span class="hljs-punctuation">&#123;</span><br>  elasticsearch <span class="hljs-punctuation">&#123;</span><br>    hosts =&gt; <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;http://127.0.0.1:9200&quot;</span><span class="hljs-punctuation">]</span><br>    index =&gt; <span class="hljs-string">&quot;system-syslog-%&#123;+YYYY.MM&#125;&quot;</span><br>    user =&gt; <span class="hljs-string">&quot;elastic&quot;</span><br>    password =&gt; <span class="hljs-string">&quot;2H*Y9rL5D=xFbvLAz_Nr&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span> <br><br></code></pre></td></tr></table></figure><p>é…ç½®ä¸ºsyslogè¾“å…¥ï¼Œç«¯å£ä¸ºé»˜è®¤çš„514ã€‚</p><p>å°†æ•°æ®è¾“å‡ºåˆ°ESï¼Œé…ç½®ç´¢å¼•å‰ç¼€ä¸º system-syslogï¼ŒæŒ‰æœˆåˆ†å‰²ç´¢å¼•ã€‚</p><p>æ³¨æ„ ä¸­æ‹¬å·ã€‚</p><h2 id="ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ã€‚"><a href="#ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ã€‚" class="headerlink" title="ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ã€‚"></a>ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ã€‚</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs abnf">vim /lib/systemd/system/logstash.service<br><br>[Service]<br><span class="hljs-attribute">Type</span><span class="hljs-operator">=</span>simple<br><span class="hljs-attribute">User</span><span class="hljs-operator">=</span>root<br><span class="hljs-attribute">Group</span><span class="hljs-operator">=</span>root<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><br>systemctl daemon-reload<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡è½½</span><br><br></code></pre></td></tr></table></figure><p>éœ€è¦ä¿®æ”¹å¯åŠ¨ç”¨æˆ·ä¸ºROOTæ‰èƒ½ä½¿ç”¨å°äº1024çš„ç«¯å£å·ã€‚(linuxå¯¹äºérootæƒé™ç”¨æˆ·ä¸èƒ½ä½¿ç”¨1024ä»¥ä¸‹çš„ç«¯å£ï¼Œ)</p><h1 id="Kibana-WEBé…ç½®"><a href="#Kibana-WEBé…ç½®" class="headerlink" title="Kibana WEBé…ç½®"></a>Kibana WEBé…ç½®</h1><h2 id="åˆ›å»ºæ•°æ®è§†å›¾"><a href="#åˆ›å»ºæ•°æ®è§†å›¾" class="headerlink" title="åˆ›å»ºæ•°æ®è§†å›¾"></a>åˆ›å»ºæ•°æ®è§†å›¾</h2><p>åœ¨ä¸»èœå•-Stack Management-Kibana-æ•°æ®è§†å›¾é‡Œé¢åˆ›å»º</p><p>å‚è€ƒæ–‡æ¡£ï¼š <a href="https://www.elastic.co/guide/en/kibana/current/data-views.html">https://www.elastic.co/guide/en/kibana/current/data-views.html</a></p><p>ä½¿ç”¨ç±»ä¼¼ syslog* åŒ¹é…ç´¢å¼•å’Œæ—¥æœŸã€‚</p><h2 id="ç´¢å¼•ç®¡ç†"><a href="#ç´¢å¼•ç®¡ç†" class="headerlink" title="ç´¢å¼•ç®¡ç†"></a>ç´¢å¼•ç®¡ç†</h2><p>åœ¨ä¸»èœå•-Stack Management-æ•°æ®-ç´¢å¼•ç®¡ç†é‡Œé¢æŸ¥çœ‹æ‰€æœ‰ç´¢å¼•ã€‚</p><h2 id="æ•°æ®æŸ¥çœ‹"><a href="#æ•°æ®æŸ¥çœ‹" class="headerlink" title="æ•°æ®æŸ¥çœ‹"></a>æ•°æ®æŸ¥çœ‹</h2><p>è·¯å¾„ï¼š<a href="http://127.0.0.1:5601/app/discover">http://127.0.0.1:5601/app/discover</a> ï¼ˆé€‰æ‹©æ•°æ®è§†å›¾æŸ¥çœ‹ï¼‰</p><p>PSï¼š ä¸»æœºåå­—æ®µé—®é¢˜</p><p><a href="https://songxwn.com/ELK-logstash-hostname/">https://songxwn.com/ELK-logstash-hostname/</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/ELK-logstash-hostname/">ELK Logstashè§£æç³»ç»Ÿæ—¥å¿—é”™è¯¯</a></li><li><a href="https://songxwn.com/ELK-AD-LDAP-Authentication/">Elasticsearch æ¥å…¥å¾®è½¯Active Directoryè®¤è¯</a></li><li><a href="https://songxwn.com/podman/">Podman å®¹å™¨ç®¡ç†å·¥å…·</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
      <category>ELK</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>elk</tag>
      
      <tag>elasticsearch</tag>
      
      <tag>syslog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu Netplané…ç½®å·¥å…·</title>
    <link href="/netplan/"/>
    <url>/netplan/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Netplan æ˜¯ä»Ubuntu 18.04å¼€å§‹ä½¿ç”¨çš„ç½‘ç»œé…ç½®å·¥å…·ã€‚</p><p><a href="https://netplan.io/examples">Netplanå®˜æ–¹é…ç½®æŒ‡å—</a></p><span id="more"></span><p>é…ç½®æ–‡ä»¶è·¯å¾„ &#x2F;etc&#x2F;netplan&#x2F;*.yaml</p><h2 id="é…ç½®é™æ€IP"><a href="#é…ç½®é™æ€IP" class="headerlink" title="é…ç½®é™æ€IP"></a>é…ç½®é™æ€IP</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># This is the network config written by &#x27;subiquity&#x27;</span><br><span class="hljs-attr">network:</span><br>  <span class="hljs-attr">ethernets:</span><br>    <span class="hljs-attr">ens33:</span><br>      <span class="hljs-attr">dhcp4:</span> <span class="hljs-literal">no</span>          <span class="hljs-comment">#å…³é—­dhcp</span><br>      <span class="hljs-attr">dhcp6:</span> <span class="hljs-literal">no</span>          <span class="hljs-comment">#å…³é—­dhcpv6</span><br>      <span class="hljs-attr">accept-ra:</span> <span class="hljs-literal">no</span>      <span class="hljs-comment">#å…³é—­IPv6æ— çŠ¶æ€</span><br>      <span class="hljs-attr">addresses:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-number">10.230</span><span class="hljs-number">.31</span><span class="hljs-number">.55</span><span class="hljs-string">/24</span>   <span class="hljs-comment">#é…ç½®ipv4åœ°å€</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-number">2001</span><span class="hljs-string">:1::1/64</span>      <span class="hljs-comment">#é…ç½®ipv6åœ°å€</span><br>      <span class="hljs-attr">nameservers:</span><br>        <span class="hljs-attr">addresses:</span> [<span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span>,<span class="hljs-number">1.1</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span>,<span class="hljs-number">2002</span><span class="hljs-string">::1</span>] <span class="hljs-comment">#é…ç½®dnsæœåŠ¡å™¨</span><br>      <span class="hljs-attr">routes:</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span> <span class="hljs-string">default</span><br>          <span class="hljs-attr">via:</span> <span class="hljs-number">10.230</span><span class="hljs-number">.31</span><span class="hljs-number">.1</span>   <span class="hljs-comment">#é…ç½®é»˜è®¤è·¯ç”±ï¼Œå³ç½‘å…³ã€‚</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span> <span class="hljs-string">default</span><br>          <span class="hljs-attr">via:</span> <span class="hljs-number">2001</span><span class="hljs-string">:1::2</span>     <span class="hljs-comment">#é…ç½®Ipv6ç½‘å…³ã€‚</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-attr">to:</span> <span class="hljs-number">10.100</span><span class="hljs-number">.100</span><span class="hljs-number">.0</span><span class="hljs-string">/24</span><br>          <span class="hljs-attr">via:</span> <span class="hljs-number">10.230</span><span class="hljs-number">.31</span><span class="hljs-number">.2</span><br>          <span class="hljs-attr">metric:</span> <span class="hljs-number">300</span>       <span class="hljs-comment">#é…ç½®é™æ€è·¯ç”±ï¼Œå¹¶é…ç½®å¼€é”€ã€‚</span><br>  <span class="hljs-attr">version:</span> <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h3 id="åº”ç”¨é…ç½®"><a href="#åº”ç”¨é…ç½®" class="headerlink" title="åº”ç”¨é…ç½®"></a>åº”ç”¨é…ç½®</h3><p><code>netplan apply</code></p><p>PS: netplanå¯¹æ–‡ä»¶æ ¼å¼è¦æ±‚åŠå…¶ä¸¥æ ¼ï¼Œå¿…é¡»æ¯”å¯¹å¥½é…ç½®çš„å±‚çº§åˆ’åˆ†ï¼Œæ‰èƒ½ç”Ÿæ•ˆã€‚</p><h2 id="éªŒè¯é…ç½®"><a href="#éªŒè¯é…ç½®" class="headerlink" title="éªŒè¯é…ç½®"></a>éªŒè¯é…ç½®</h2><h3 id="æŸ¥çœ‹dnsæœåŠ¡å™¨é…ç½®"><a href="#æŸ¥çœ‹dnsæœåŠ¡å™¨é…ç½®" class="headerlink" title="æŸ¥çœ‹dnsæœåŠ¡å™¨é…ç½®"></a>æŸ¥çœ‹dnsæœåŠ¡å™¨é…ç½®</h3><p><code>systemd-resolve --status</code></p><p><code>resolvectl status</code></p><h3 id="æŸ¥çœ‹è·¯ç”±é…ç½®"><a href="#æŸ¥çœ‹è·¯ç”±é…ç½®" class="headerlink" title="æŸ¥çœ‹è·¯ç”±é…ç½®"></a>æŸ¥çœ‹è·¯ç”±é…ç½®</h3><p><code>ip route</code></p><p>æŸ¥çœ‹è·¯ç”±è¡¨</p><p><code>ip -6 route</code></p><p>æŸ¥çœ‹ipv6è·¯ç”±è¡¨</p><h3 id="æŸ¥çœ‹ç½‘å¡è¯¦ç»†ä¿¡æ¯å’Œæµé‡"><a href="#æŸ¥çœ‹ç½‘å¡è¯¦ç»†ä¿¡æ¯å’Œæµé‡" class="headerlink" title="æŸ¥çœ‹ç½‘å¡è¯¦ç»†ä¿¡æ¯å’Œæµé‡"></a>æŸ¥çœ‹ç½‘å¡è¯¦ç»†ä¿¡æ¯å’Œæµé‡</h3><p><code>ip -s -h link</code></p><h3 id="æŸ¥çœ‹IPåœ°å€å’Œç½‘å¡"><a href="#æŸ¥çœ‹IPåœ°å€å’Œç½‘å¡" class="headerlink" title="æŸ¥çœ‹IPåœ°å€å’Œç½‘å¡"></a>æŸ¥çœ‹IPåœ°å€å’Œç½‘å¡</h3><p><code>ip addr</code></p><h3 id="æŸ¥çœ‹ç½‘ç»œé‚»å±…"><a href="#æŸ¥çœ‹ç½‘ç»œé‚»å±…" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œé‚»å±…"></a>æŸ¥çœ‹ç½‘ç»œé‚»å±…</h3><p><code>ip neigh</code></p><p><code>ip -6 neigh</code></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Elasticsearch-x-pack-core/">Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</a></li><li><a href="https://songxwn.com/Linux-growpart/">Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</a></li><li><a href="https://songxwn.com/elk_cluster/">Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>Ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>OSIä¸ƒå±‚ç½‘ç»œå‚è€ƒæ¨¡å‹ éšç¬”</title>
    <link href="/OSI/"/>
    <url>/OSI/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¼€æ”¾å¼ç³»ç»Ÿäº’è”æ¨¡å‹ï¼ˆè‹±è¯­ï¼šOpen System Interconnection Modelï¼Œç¼©å†™ï¼šOSIï¼›ç®€ç§°ä¸ºOSIæ¨¡å‹ï¼‰æ˜¯ä¸€ç§æ¦‚å¿µæ¨¡å‹ï¼Œç”±å›½é™…æ ‡å‡†åŒ–ç»„ç»‡æå‡ºï¼Œä¸€ä¸ªè¯•å›¾ä½¿å„ç§è®¡ç®—æœºåœ¨ä¸–ç•ŒèŒƒå›´å†…äº’è¿ä¸ºç½‘ç»œçš„æ ‡å‡†æ¡†æ¶ã€‚å®šä¹‰äºISO&#x2F;IEC 7498-1ã€‚</p><p>è¯¥æ¨¡å‹å°†é€šä¿¡ç³»ç»Ÿä¸­çš„æ•°æ®æµåˆ’åˆ†ä¸ºä¸ƒä¸ªå±‚ï¼Œä»åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºæ•°æ®çš„æœ€é«˜å±‚è¡¨ç¤ºåˆ°è·¨é€šä¿¡ä»‹è´¨ä¼ è¾“æ•°æ®çš„ç‰©ç†å®ç°ã€‚æ¯ä¸ªä¸­é—´å±‚ä¸ºå…¶ä¸Šä¸€å±‚æä¾›åŠŸèƒ½ï¼Œå…¶è‡ªèº«åŠŸèƒ½åˆ™ç”±å…¶ä¸‹ä¸€å±‚æä¾›ã€‚åŠŸèƒ½çš„ç±»åˆ«é€šè¿‡æ ‡å‡†çš„é€šä¿¡åè®®åœ¨è½¯ä»¶ä¸­å®ç°ã€‚</p><p>å¼€æ”¾å¼ç³»ç»Ÿäº’è”æ¨¡å‹çš„å¼€å‘å§‹äºä¸Šä¸–çºª70å¹´ä»£åæœŸï¼Œç”¨ä»¥æ”¯æŒå„ç§è®¡ç®—æœºè”ç½‘æ–¹æ³•çš„å‡ºç°ã€‚åœ¨ä¸Šä¸–çºª80å¹´ä»£ï¼Œè¯¥æ¨¡å‹æˆä¸ºå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰å¼€æ”¾ç³»ç»Ÿäº’è¿å°ç»„çš„å·¥ä½œäº§å“ã€‚</p><span id="more"></span><h1 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h1><p>æ‰¿ä¸Šå¯ä¸‹,è™šæ‹ŸåŒ–ä¸Šä¸€å±‚ï¼Œå‘ä¸‹ä¸€å±‚æä¾›æœåŠ¡ã€‚<br>è®©æ¯ä¸€å±‚å…·æœ‰äº’è¿æ€§ã€äº’æ“ä½œæ€§å’Œåº”ç”¨çš„å¯ç§»æ¤æ€§çš„åŠŸèƒ½ã€‚</p><h1 id="ç‰©ç†å±‚ï¼ˆPhysical-Layerï¼‰ç¬¬ä¸€å±‚"><a href="#ç‰©ç†å±‚ï¼ˆPhysical-Layerï¼‰ç¬¬ä¸€å±‚" class="headerlink" title="ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰ç¬¬ä¸€å±‚"></a>ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰ç¬¬ä¸€å±‚</h1><p>ä¸»è¦åŠŸèƒ½ä¸ºå®šä¹‰äº†ç½‘ç»œçš„ç‰©ç†ç»“æ„ï¼Œä¼ è¾“çš„ç”µç£æ ‡å‡†ï¼ŒBitæµçš„ç¼–ç åŠç½‘ç»œçš„æ—¶é—´åŸåˆ™ï¼Œå¦‚åˆ†æ—¶å¤ç”¨åŠåˆ†é¢‘å¤ç”¨ã€‚å†³å®šäº†ç½‘ç»œè¿æ¥ç±»å‹(ç«¯åˆ°ç«¯æˆ–å¤šç«¯è¿æ¥)åŠç‰©ç†æ‹“æ‰‘ç»“æ„ã€‚è¯´çš„é€šä¿—ä¸€äº›ï¼Œè¿™ä¸€å±‚ä¸»è¦è´Ÿè´£å®é™…çš„ä¿¡å·ä¼ è¾“ã€‚</p><p>PSï¼šå®é™…çš„ä¸»è¦ä½œç”¨ä¼ è¾“æ¯”ç‰¹æµï¼Œä¹Ÿå°±æ˜¯ç‰©ç†ç°è±¡è¡¨ç¤ºçš„0æˆ–1ï¼Œæ¯”å¦‚ç”µæµçš„ç”µå‹å·®ï¼Œç”µç£æ³¢çš„æ³¢å½¢ç­‰ã€‚<br>é€æ˜ä¼ è¾“ï¼šå±è”½ä¸åŒçš„ç‰©ç†å±‚ä»‹è´¨å’Œé€šä¿¡åè®®ã€‚</p><h1 id="æ•°æ®é“¾è·¯å±‚ï¼ˆData-Link-Layerï¼‰ç¬¬äºŒå±‚"><a href="#æ•°æ®é“¾è·¯å±‚ï¼ˆData-Link-Layerï¼‰ç¬¬äºŒå±‚" class="headerlink" title="æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰ç¬¬äºŒå±‚"></a>æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰ç¬¬äºŒå±‚</h1><p>è´Ÿè´£ç½‘ç»œå¯»å€ã€é”™è¯¯ä¾¦æµ‹å’Œæ”¹é”™ã€‚å½“è¡¨å¤´å’Œè¡¨å°¾è¢«åŠ è‡³æ•°æ®åŒ…æ—¶ï¼Œä¼šå½¢æˆä¿¡æ¯æ¡†ï¼ˆInfo Boxï¼‰ã€‚æ•°æ®é“¾è¡¨å¤´ï¼ˆDLHï¼‰æ˜¯åŒ…å«äº†ç‰©ç†åœ°å€å’Œé”™è¯¯ä¾¦æµ‹åŠæ”¹é”™çš„æ–¹æ³•ã€‚æ•°æ®é“¾è¡¨å°¾ï¼ˆDLTï¼‰æ˜¯ä¸€ä¸²æŒ‡ç¤ºæ•°æ®åŒ…æœ«ç«¯çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ä»¥å¤ªç½‘ã€æ— çº¿å±€åŸŸç½‘ï¼ˆWi-Fiï¼‰å’Œé€šç”¨åˆ†ç»„æ— çº¿æœåŠ¡ï¼ˆGPRSï¼‰ç­‰ã€‚</p><p>åˆ†ä¸ºä¸¤ä¸ªå­å±‚ï¼šé€»è¾‘é“¾è·¯æ§åˆ¶ï¼ˆlogical link controlï¼ŒLLCï¼‰å­å±‚å’Œä»‹è´¨è®¿é—®æ§åˆ¶ï¼ˆMedia access controlï¼ŒMACï¼‰å­å±‚ã€‚</p><p>PSï¼šä¸ªäººç†è§£çš„ä½œç”¨ä¸ºæˆå¸§å’Œå¯»å€ï¼Œæˆå¸§å°±æ˜¯å°†æ¯”ç‰¹æµåˆ‡å‰²æˆä¸€ä¸ªä¸ªå¸§ï¼Œä»¥å¤ªç½‘æ ¹æ®å¸§å¤´å°¾çš„å¸§å®šç•Œç¬¦åˆ†å‰²ä»¥å¤ªç½‘å¸§ã€‚<br>ä»¥å¤ªç½‘ä½¿ç”¨MACè¿›è¡Œé“¾è·¯å†…çš„å¯»å€ï¼Œç‰©ç†å±‚åªç®¡ç‚¹å¯¹ç‚¹ä¼ è¾“ï¼Œæ•°æ®é“¾è·¯æœ‰äº†æ ‡è¯†ä¹‹åï¼Œç”¨äºå¹¿æ’­ç½‘ç»œï¼Œå¯è¿›è¡Œå•æ’­é€šä¿¡ã€‚</p><p>æ ¹æ®å¸§åé¢çš„CRCè¿›è¡Œæ ¡éªŒå¸§çš„å®Œæ•´æ€§ã€‚</p><h1 id="ç½‘ç»œå±‚ï¼ˆNetwork-Layerï¼‰-ç¬¬ä¸‰å±‚"><a href="#ç½‘ç»œå±‚ï¼ˆNetwork-Layerï¼‰-ç¬¬ä¸‰å±‚" class="headerlink" title="ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰ ç¬¬ä¸‰å±‚"></a>ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰ ç¬¬ä¸‰å±‚</h1><p>ä¸»è¦è´Ÿè´£è·¯ç”±ï¼Œé€‰æ‹©åˆé€‚çš„è·¯å¾„ï¼Œè¿›è¡Œé˜»å¡æ§åˆ¶ç­‰åŠŸèƒ½ã€‚</p><p>PSï¼šä¸ºä»€ä¹ˆæœ‰äº†MACåœ°å€å¯»å€ï¼Œè¿˜éœ€è¦IPåœ°å€å‘¢ï¼Ÿ å› ä¸ºå½“æ—¶çš„é“¾è·¯å±‚åè®®å¹¶ä¸æ˜¯ä¸€ä¸ªï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡IPè¿æ¥ä¸åŒçš„è®¡ç®—æœºç½‘ç»œã€‚<br>ä¸”IPå¯è¢«è·¯ç”±ï¼Œä¸éœ€è¦å¹¿æ’­å¯»å€ä¿¡æ¯ã€‚å¯ä»¥è¯´åœ¨äº’è”ç½‘ä¸Šï¼Œä¸»æœºçš„å”¯ä¸€æ ‡è¯†å°±æ˜¯IPåœ°å€ã€‚<br>å…¶å®æ¯ä¸€å±‚æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹ä¸Šä¸€å±‚çš„è™šæ‹ŸåŒ–ã€é€»è¾‘åŒ–ã€‚</p><h1 id="ä¼ è¾“å±‚ï¼ˆTransport-Layerï¼‰ç¬¬å››å±‚"><a href="#ä¼ è¾“å±‚ï¼ˆTransport-Layerï¼‰ç¬¬å››å±‚" class="headerlink" title="ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ç¬¬å››å±‚"></a>ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ç¬¬å››å±‚</h1><p>å‘æ‹¥æŠ¤æä¾›å¯é çš„ç«¯åˆ°ç«¯(End-to-End)æœåŠ¡ï¼Œå®ƒå±è”½äº†ä¸‹å±‚çš„æ•°æ®é€šä¿¡ç»†èŠ‚ï¼Œè®©ç”¨æˆ·åŠåº”ç”¨ç¨‹åºä¸éœ€è¦è€ƒè™‘å®é™…çš„é€šä¿¡æ–¹æ³•ã€‚</p><p>PSï¼šä¸ºä»€ä¹ˆæœ‰äº†IPåœ°å€äº†ï¼Œå’‹è¿˜è¦ä¼ è¾“å±‚å‘¢ï¼Ÿ<br>IPåœ°å€åªèƒ½ä»£è¡¨ä¸»æœºæœ¬èº«ï¼Œä¸èƒ½åŒºåˆ†ä¸»æœºä¸Šçš„ä¸åŒåº”ç”¨ã€‚æ¯”å¦‚åŒä¸€ä¸ªæœåŠ¡å™¨æœ‰DNSå’ŒHTTPæœåŠ¡ï¼Œå°±å¯ä»¥é€šè¿‡53å’Œ80ç«¯å£åŒºåˆ†ã€‚<br>TCPä¹Ÿæœ‰æä¾›å¯é ä¼ è¾“çš„ä½œç”¨ã€‚</p><h1 id="ä¼šè¯å±‚ï¼ˆSession-Layerï¼‰ç¬¬äº”å±‚"><a href="#ä¼šè¯å±‚ï¼ˆSession-Layerï¼‰ç¬¬äº”å±‚" class="headerlink" title="ä¼šè¯å±‚ï¼ˆSession Layerï¼‰ç¬¬äº”å±‚"></a>ä¼šè¯å±‚ï¼ˆSession Layerï¼‰ç¬¬äº”å±‚</h1><p>ä¸»è¦è´Ÿè´£ä¸¤ä¸ªä¼šè¯è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå³ä¸¤ä¸ªä¼šè¯å±‚å®ä½“ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ï¼Œç®¡ç†æ•°æ®çš„äº¤æ¢ã€‚</p><p>PSï¼šæ¯”å¦‚è¯´åšä¸€ä¸ªè¯­éŸ³é€šè¯ï¼Œè¡¨ç¤ºå±‚éœ€è¦åšæ‹¨å·ã€å‘¼å«ã€é€šè¯ã€æš‚åœã€æŒ‚æ–­ã€‚</p><h1 id="è¡¨ç¤ºå±‚ï¼ˆPresentation-Layerï¼‰ç¬¬å…­å±‚"><a href="#è¡¨ç¤ºå±‚ï¼ˆPresentation-Layerï¼‰ç¬¬å…­å±‚" class="headerlink" title="è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ç¬¬å…­å±‚"></a>è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ç¬¬å…­å±‚</h1><p>æŠŠæ•°æ®è½¬æ¢ä¸ºèƒ½ä¸æ¥æ”¶è€…çš„ç³»ç»Ÿæ ¼å¼å…¼å®¹å¹¶é€‚åˆä¼ è¾“çš„æ ¼å¼ã€‚</p><p>PSï¼šæ•°æ®çš„å‹ç¼©ã€åŠ å¯†ã€è½¬æ¢æœåŠ¡ã€‚æ¯”å¦‚è¯´è§†é¢‘ç¼–ç H.264ï¼Œå®‰å…¨åè®®TLSã€‚<br>å…¶å®ä¼šè¯å±‚å’Œè¡¨ç¤ºå±‚å‡ºç°éƒ½æ²¡æœ‰å¤§è§„æ ¼å•ç‹¬å®ç°è¿‡ï¼Œéƒ½ç”±åº”ç”¨å±‚å»å®ç°ã€‚åˆ’åˆ†è¿™ä¸¤å±‚çš„ä½œç”¨æ˜¯ä¸ºäº†è®©åƒåƒä¸‡ä¸‡ä¸ªåº”ç”¨å…±äº«æ ‡å‡†çš„ä¼šè¯å±‚å’Œè¡¨ç¤ºå±‚ã€‚<br>åƒIPåœ°å€ä¸€æ ·ï¼Œåº”ç”¨ä¸éœ€è¦è€ƒè™‘æ•°æ®åœ¨ç¬¬ä¸‰å±‚æ˜¯æ€ä¹ˆä¼ è¾“çš„ã€‚</p><h1 id="åº”ç”¨å±‚ï¼ˆApplication-Layerï¼‰-ç¬¬ä¸ƒå±‚"><a href="#åº”ç”¨å±‚ï¼ˆApplication-Layerï¼‰-ç¬¬ä¸ƒå±‚" class="headerlink" title="åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰ ç¬¬ä¸ƒå±‚"></a>åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰ ç¬¬ä¸ƒå±‚</h1><p>æä¾›ä¸ºåº”ç”¨è½¯ä»¶è€Œè®¾è®¡çš„æ¥å£ï¼Œä»¥è®¾ç½®ä¸å¦ä¸€åº”ç”¨è½¯ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚ä¾‹å¦‚ï¼šHTTPã€HTTPSã€FTPã€Telnetã€SSHã€SMTPã€POP3ç­‰ã€‚</p><h1 id="ç°å®"><a href="#ç°å®" class="headerlink" title="ç°å®"></a>ç°å®</h1><p>ç”±äºOSIæ˜¯ä¸€ä¸ªç†æƒ³ã€å­¦æœ¯ä¸Šçš„æ¨¡å‹ï¼Œå®é™…åº”ç”¨ä¸­è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚å¹¶ä¸è¢«å•ç‹¬å®ç°ã€‚æ‰€ä»¥TCP&#x2F;IP äº”å±‚æ¨¡å‹æ›´åŠ æ¥è¿‘ç°å®ã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>QinQ éšç¬”</title>
    <link href="/QINQ/"/>
    <url>/QINQ/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>QinQï¼ˆ802.1Q-in-802.1Qï¼‰ï¼Œä¹Ÿå«åšVLAN Stackingæˆ–Double VLANï¼Œç”±IEEE 802.1adæ ‡å‡†å®šä¹‰ï¼Œ<br>æ˜¯ä¸€é¡¹æ‰©å±•VLANç©ºé—´çš„æŠ€æœ¯ï¼Œé€šè¿‡åœ¨802.1Qæ ‡ç­¾æŠ¥æ–‡çš„åŸºç¡€ä¸Šå†å¢åŠ ä¸€å±‚802.1Qçš„Tagæ¥è¾¾åˆ°æ‰©å±•VLANç©ºé—´çš„ç›®çš„ã€‚<br>ä¸€èˆ¬åº”ç”¨åœ¨éª¨å¹²ç½‘ä¸­ï¼Œé€šè¿‡å°†ç”¨æˆ·ç§ç½‘VLAN Tagå°è£…åœ¨å…¬ç½‘VLAN Tagä¸­ï¼Œä½¿æŠ¥æ–‡å¸¦ç€ä¸¤å±‚VLAN Tagç©¿è¶Šè¿è¥å•†çš„éª¨å¹²ç½‘ç»œï¼ˆå…¬ç½‘ï¼‰ï¼Œæ‰©å……VLANæ•°é‡ï¼Œå®ç°å¯¹ç”¨æˆ·çš„ç²¾ç»†åŒ–ç®¡ç†ã€‚</p><span id="more"></span><h2 id="QINQå®ç°æ–¹å¼"><a href="#QINQå®ç°æ–¹å¼" class="headerlink" title="QINQå®ç°æ–¹å¼"></a>QINQå®ç°æ–¹å¼</h2><p>QinQå¯åˆ†ä¸ºä¸¤ç§ï¼šåŸºæœ¬QinQå’Œçµæ´»QinQã€‚<br>(1) åŸºæœ¬QinQ<br>åŸºæœ¬QinQæ˜¯åŸºäºç«¯å£æ–¹å¼å®ç°çš„ã€‚å¼€å¯ç«¯å£çš„åŸºæœ¬QinQåŠŸèƒ½åï¼Œå½“è¯¥ç«¯å£æ¥æ”¶åˆ°æŠ¥æ–‡ï¼Œè®¾å¤‡ä¼šä¸ºè¯¥æŠ¥æ–‡æ‰“ä¸Šæœ¬ç«¯å£ç¼ºçœVLANçš„VLAN Tagã€‚å¦‚æœæ¥æ”¶åˆ°çš„æ˜¯å·²ç»å¸¦æœ‰VLAN Tagçš„æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡å°±æˆä¸ºåŒTagçš„æŠ¥æ–‡ï¼›å¦‚æœæ¥æ”¶åˆ°çš„æ˜¯ä¸å¸¦VLAN Tagçš„æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡å°±æˆä¸ºå¸¦æœ‰ç«¯å£ç¼ºçœVLAN Tagçš„æŠ¥æ–‡ã€‚<br>(2) çµæ´»QinQ<br>çµæ´»QinQæ˜¯å¯¹QinQçš„ä¸€ç§æ›´çµæ´»çš„å®ç°ï¼Œå®ƒæ˜¯åŸºäºç«¯å£ä¸VLANç›¸ç»“åˆçš„æ–¹å¼å®ç°çš„ã€‚é™¤äº†èƒ½å®ç°æ‰€æœ‰åŸºæœ¬QinQçš„åŠŸèƒ½å¤–ï¼Œå¯¹äºåŒä¸€ä¸ªç«¯å£æ¥æ”¶çš„æŠ¥æ–‡è¿˜å¯ä»¥æ ¹æ®ä¸åŒçš„VLANåšä¸åŒçš„åŠ¨ä½œï¼Œå¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>ä¸ºå…·æœ‰ä¸åŒå†…å±‚VLAN IDçš„æŠ¥æ–‡æ·»åŠ ä¸åŒçš„å¤–å±‚VLAN Tagã€‚ï¼ˆåŸºæœ¬åªèƒ½å›ºå®šä¸€ä¸ªï¼‰</li><li>æ ¹æ®æŠ¥æ–‡çš„åŸæœ‰å†…å±‚VLANçš„802.1pä¼˜å…ˆçº§æ ‡è®°å¤–å±‚VLANæŠ¥æ–‡çš„802.1pä¼˜å…ˆçº§ã€‚</li><li>å¯ä»¥åœ¨æ·»åŠ å¤–å±‚VLAN Tagçš„åŒæ—¶å¯¹å†…å±‚ç”¨æˆ·VLAN IDè¿›è¡Œä¿®æ”¹ã€‚ï¼ˆæ ‡ç­¾æ›¿æ¢ï¼‰</li></ul><h2 id="ä¸ºä»€ä¹ˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆï¼Ÿ</h2><p>IEEE 802.1Qä¸­å®šä¹‰çš„VLAN IDåªæœ‰12ä¸ªæ¯”ç‰¹ï¼Œä»…èƒ½è¡¨ç¤º4096ä¸ªVLANåŸŸï¼Œéšç€ç½‘ç»œè§„æ¨¡çš„æ‰©å¤§ï¼Œ4096ä¸ªVLANåŸŸå·²æ— æ³•æ»¡è¶³ç½‘ç»œæ‰©å®¹çš„éœ€æ±‚ï¼Œä¸ºæ­¤ï¼ŒIEEE 802.1adä¸­åœ¨åŸæœ‰çš„802.1QæŠ¥æ–‡çš„åŸºç¡€ä¸Šå¢åŠ ä¸€å±‚802.1Q Tagï¼ˆä¹Ÿå«åšVLAN Tagæˆ–æ ‡ç­¾ï¼‰ï¼Œä½¿VLANæ•°é‡å¢åŠ åˆ°4094Ã—4094ï¼Œè¿™ç§åŒå±‚Tagçš„æŠ¥æ–‡å°±å«åšQinQæŠ¥æ–‡ã€‚</p><p>éšç€ä»¥å¤ªç½‘çš„è¿›ä¸€æ­¥å‘å±•ä»¥åŠè¿è¥å•†ç²¾ç»†åŒ–è¿ä½œçš„è¦æ±‚ï¼ŒQinQçš„åŒå±‚Tagåˆæœ‰äº†æ–°çš„åº”ç”¨åœºæ™¯ã€‚å®ƒçš„å†…å¤–å±‚Tagå¯ä»¥ä»£è¡¨ä¸åŒçš„ä¿¡æ¯ï¼Œå¦‚å†…å±‚Tagä»£è¡¨ç”¨æˆ·ï¼Œå¤–å±‚Tagä»£è¡¨ä¸šåŠ¡ã€‚å¦å¤–ï¼ŒQinQæŠ¥æ–‡å¸¦ç€ä¸¤å±‚Tagç©¿è¶Šè¿è¥å•†ç½‘ç»œï¼Œå†…å±‚Tagé€æ˜ä¼ é€ï¼Œä¹Ÿæ˜¯ä¸€ç§ç®€å•ã€å®ç”¨çš„VPNæŠ€æœ¯ã€‚</p><p>æ‰€ä»¥ï¼ŒQinQäº§ç”Ÿçš„ä¸¤å¤§èƒŒæ™¯æ˜¯ï¼šä¸€æ˜¯è§£å†³æ—¥ç›Šç´§ç¼ºçš„VLAN IDèµ„æºé—®é¢˜ï¼›äºŒæ˜¯æ»¡è¶³ä¸šåŠ¡ç²¾ç»†åŒ–ç®¡ç†çš„éœ€æ±‚ã€‚</p><h2 id="æŠ¥æ–‡ç»“æ„"><a href="#æŠ¥æ–‡ç»“æ„" class="headerlink" title="æŠ¥æ–‡ç»“æ„"></a>æŠ¥æ–‡ç»“æ„</h2><pre><code class="hljs">        +-----------+-----------+-----------+-----------+-------------+------------------+----------+        |   DMAC    |   SMAC    |   ETPE    |    TAG    |  LEN/ETYPE  |       Data       |   FCS    |        |  6 Bytes  |  6 Bytes  |  2 Bytes  |  2 Bytes  |   2 Bytes   |  Variable length | 4 Bytes  |        +-----------+-----------+-----------+-----------+-------------+------------------+----------+                                |                       |                              |     |                      |                           |            |                      |                        |                   |                       |                        |                       |                       |+-----------+-----------+-----------+-----------+-----------+-----------+-------------+------------------+----------+|   DMAC    |   SMAC    |   ETPE    |    TAG    |   ETPE    |    TAG    |  LEN/ETYPE  |       Data       |   FCS    ||  6 Bytes  |  6 Bytes  |  2 Bytes  |  2 Bytes  |  2 Bytes  |  2 Bytes  |   2 Bytes   |  Variable length | 4 Bytes  |+-----------+-----------+-----------+-----------+-----------+-----------+-------------+------------------+----------+                        |           |           |                     |           |                    |                  |           |                            |               |           |                                       |               +-----------+--------------+---------+--------------+               |   0x8100  |   Priority   |   CFI   |  VLAN ID     |               +-----------+--------------+---------+--------------+                                          </code></pre><h2 id="åŸºæœ¬QinQ"><a href="#åŸºæœ¬QinQ" class="headerlink" title="åŸºæœ¬QinQ"></a>åŸºæœ¬QinQ</h2><h2 id="çµæ´»QinQ"><a href="#çµæ´»QinQ" class="headerlink" title="çµæ´»QinQ"></a>çµæ´»QinQ</h2><h1 id="VLAN-Mapping-VLAN-æ˜ å°„-x2F-vlan-translation"><a href="#VLAN-Mapping-VLAN-æ˜ å°„-x2F-vlan-translation" class="headerlink" title="VLAN Mapping (VLAN æ˜ å°„&#x2F; vlan-translation)"></a>VLAN Mapping (VLAN æ˜ å°„&#x2F; vlan-translation)</h1><p>VLAN Mappingé€šè¿‡ä¿®æ”¹æŠ¥æ–‡æºå¸¦çš„VLAN Tagæ¥å®ç°ä¸åŒVLANçš„ç›¸äº’æ˜ å°„ã€‚</p><h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>åœ¨æŸäº›åœºæ™¯ä¸­ï¼Œä¸¤ä¸ªVLANç›¸åŒçš„äºŒå±‚ç”¨æˆ·ç½‘ç»œé€šè¿‡éª¨å¹²ç½‘ç»œäº’è”ï¼Œä¸ºäº†å®ç°ç”¨æˆ·ä¹‹é—´çš„äºŒå±‚äº’é€šï¼Œä»¥åŠäºŒå±‚åè®®ï¼ˆä¾‹å¦‚MSTPç­‰ï¼‰çš„ç»Ÿä¸€éƒ¨ç½²ï¼Œéœ€è¦å®ç°ä¸¤ä¸ªç”¨æˆ·ç½‘ç»œçš„æ— ç¼è¿æ¥ï¼Œæ­¤æ—¶å°±éœ€è¦éª¨å¹²ç½‘å¯ä»¥ä¼ è¾“æ¥è‡ªç”¨æˆ·ç½‘ç»œçš„å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡ã€‚è€Œåœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œéª¨å¹²ç½‘çš„VLANè§„åˆ’å’Œç”¨æˆ·ç½‘ç»œçš„VLANè§„åˆ’æ˜¯ä¸ä¸€è‡´çš„ï¼Œæ‰€ä»¥åœ¨éª¨å¹²ç½‘ä¸­æ— æ³•ç›´æ¥ä¼ è¾“ç”¨æˆ·ç½‘ç»œçš„å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡ã€‚</p><p>è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æœ‰ä¸¤ä¸ªï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯é€šè¿‡QinQæˆ–è€…VPLSç­‰äºŒå±‚éš§é“æŠ€æœ¯ï¼Œå°†ç”¨æˆ·å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡å°è£…åœ¨éª¨å¹²ç½‘æŠ¥æ–‡ä¸­è¿›è¡Œä¼ è¾“ï¼Œå¯ä»¥å®ç°ç”¨æˆ·å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡çš„é€ä¼ ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•ä¸€æ–¹é¢éœ€è¦å¢åŠ é¢å¤–çš„æŠ¥æ–‡å¼€é”€ï¼ˆå¢åŠ ä¸€å±‚å°è£…ï¼‰ï¼Œå¦å¤–ä¸€æ–¹é¢ï¼ŒäºŒå±‚éš§é“æŠ€æœ¯å¯èƒ½ä¼šå¯¹æŸäº›äºŒå±‚åè®®æŠ¥æ–‡çš„é€ä¼ æ”¯æŒä¸æ˜¯éå¸¸å®Œå–„ã€‚å¦å¤–ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡VLAN MappingæŠ€æœ¯ï¼Œä¸€ä¾§ç”¨æˆ·ç½‘ç»œçš„å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡è¿›å…¥éª¨å¹²ç½‘åï¼Œéª¨å¹²ç½‘è¾¹ç¼˜è®¾å¤‡å°†ç”¨æˆ·ç½‘ç»œçš„VLANï¼ˆC-VLANï¼‰ä¿®æ”¹ä¸ºéª¨å¹²ç½‘ä¸­å¯ä»¥è¯†åˆ«å’Œæ‰¿è½½çš„VLANï¼ˆS-VLANï¼‰ï¼Œä¼ è¾“åˆ°å¦ä¸€ä¾§ä¹‹åï¼Œè¾¹ç¼˜è®¾å¤‡å†å°†S-VLANä¿®æ”¹ä¸ºC-VLANã€‚è¿™æ ·å°±å¯ä»¥å¾ˆå¥½çš„å®ç°ä¸¤ä¸ªç”¨æˆ·ç½‘ç»œäºŒå±‚æ— ç¼è¿æ¥ã€‚</p><p>åœ¨å¦ä¸€ç§åœºæ™¯ä¸­ï¼Œå¦‚æœç”±äºè§„åˆ’çš„å·®å¼‚ï¼Œå¯¼è‡´ä¸¤ä¸ªç›´æ¥ç›¸è¿çš„äºŒå±‚ç½‘ç»œä¸­éƒ¨ç½²çš„VLAN IDä¸ä¸€è‡´ã€‚ä½†æ˜¯ç”¨æˆ·åˆå¸Œæœ›å¯ä»¥æŠŠä¸¤ä¸ªç½‘ç»œä½œä¸ºå•ä¸ªäºŒå±‚ç½‘ç»œè¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œä¾‹å¦‚ç”¨æˆ·äºŒå±‚äº’é€šå’ŒäºŒå±‚åè®®çš„ç»Ÿä¸€éƒ¨ç½²ã€‚æ­¤æ—¶ä¹Ÿå¯ä»¥åœ¨è¿æ¥ä¸¤ä¸ªç½‘ç»œçš„äº¤æ¢æœºä¸Šéƒ¨ç½²VLAN MappingåŠŸèƒ½ï¼Œå®ç°ä¸¤ä¸ªç½‘ç»œä¹‹é—´ä¸åŒVLAN IDçš„æ˜ å°„ï¼Œè¾¾åˆ°äºŒå±‚äº’é€šå’Œç»Ÿä¸€ç®¡ç†çš„ç›®çš„</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://info.support.huawei.com/info-finder/encyclopedia/zh/QinQ.html">https://info.support.huawei.com/info-finder/encyclopedia/zh/QinQ.html</a></p><p><a href="https://support.huawei.com/enterprise/zh/doc/EDOC1100197875/10f2c347">https://support.huawei.com/enterprise/zh/doc/EDOC1100197875/10f2c347</a></p><p><a href="http://www.h3c.com/cn/d_200805/605855_30003_0.htm">http://www.h3c.com/cn/d_200805/605855_30003_0.htm</a></p><p><a href="http://www.h3c.com/cn/d_201904/1173020_30005_0.htm">http://www.h3c.com/cn/d_201904/1173020_30005_0.htm</a></p><p><a href="https://www.cisco.com/c/zh_cn/support/docs/smb/switches/cisco-350-series-managed-switches/smb5822-configure-vlan-mapping-on-a-switch-through-the-cli.html?dtid=osscdc000283">https://www.cisco.com/c/zh_cn/support/docs/smb/switches/cisco-350-series-managed-switches/smb5822-configure-vlan-mapping-on-a-switch-through-the-cli.html?dtid=osscdc000283</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li><li><a href="https://blogs.kainy.cn/2010/04/ä¸åŒç³»ç»Ÿä¸‹_VPN_è®¾ç½®æ•™ç¨‹/">ä¸åŒç³»ç»Ÿä¸‹ VPN è®¾ç½®æ•™ç¨‹</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>vpn</tag>
      
      <tag>vlan</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VXLAN éšç¬”</title>
    <link href="/VXLAN/"/>
    <url>/VXLAN/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>VXLANï¼ˆVirtual eXtensible Local Area Networkï¼Œè™šæ‹Ÿæ‰©å±•å±€åŸŸç½‘ï¼‰ï¼Œ<br>æ˜¯ç”±IETFå®šä¹‰çš„NVO3ï¼ˆNetwork Virtualization over Layer 3ï¼‰æ ‡å‡†æŠ€æœ¯ä¹‹ä¸€ï¼Œï¼ˆè¿˜æœ‰NVGREã€STTç­‰æŠ€æœ¯ï¼‰<br>æ˜¯å¯¹ä¼ ç»ŸVLANåè®®çš„ä¸€ç§æ‰©å±•ã€‚VXLANçš„ç‰¹ç‚¹æ˜¯å°†L2çš„ä»¥å¤ªå¸§å°è£…åˆ°UDPæŠ¥æ–‡ï¼ˆå³L2 over L4ï¼‰ä¸­ï¼Œå¹¶åœ¨L3ç½‘ç»œä¸­ä¼ è¾“ã€‚</p><p>VXLANæœ¬è´¨ä¸Šæ˜¯ä¸€ç§éš§é“æŠ€æœ¯ï¼Œåœ¨æºç½‘ç»œè®¾å¤‡ä¸ç›®çš„ç½‘ç»œè®¾å¤‡ä¹‹é—´çš„IPç½‘ç»œä¸Šï¼Œå»ºç«‹ä¸€æ¡é€»è¾‘éš§é“ï¼Œ<br>å°†ç”¨æˆ·ä¾§æŠ¥æ–‡ç»è¿‡ç‰¹å®šçš„å°è£…åé€šè¿‡è¿™æ¡éš§é“è½¬å‘ã€‚ä»ç”¨æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œ<br>æ¥å…¥ç½‘ç»œçš„æœåŠ¡å™¨å°±åƒæ˜¯è¿æ¥åˆ°äº†ä¸€ä¸ªè™šæ‹Ÿçš„äºŒå±‚äº¤æ¢æœºçš„ä¸åŒç«¯å£ä¸Šï¼Œ<br>å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡ŒäºŒå±‚é€šä¿¡ã€‚<br>å·²ç»æ˜¯äº‹å®ä¸Šçš„ç½‘ç»œè™šæ‹ŸåŒ–æ ‡å‡†ï¼Œå…¬æœ‰äº‘ï¼ˆé˜¿é‡Œäº‘ã€åä¸ºäº‘ã€AWSç­‰ï¼‰çš„VPCå¤§å¤šæ•°éƒ½æ˜¯ç”¨VXLANæ¥ä½œä¸ºæ•°æ®è½¬å‘å±‚é¢ã€‚<br>ä¸æ­¢åœ¨è™šæ‹ŸåŒ–ç¯å¢ƒï¼Œè¿˜æœ‰å›­åŒºç½‘ç»œã€è¿è¥å•†ç½‘ç»œä¹Ÿå¼€å§‹ä½¿ç”¨ã€‚(çµæ´»çš„äºŒå±‚æ¥å…¥)</p><span id="more"></span><h1 id="VLANæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#VLANæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="VLANæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>VLANæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h1><p>ä¸ºä»€ä¹ˆéœ€è¦VXLANå‘¢ï¼Ÿè¿™å’Œæ•°æ®ä¸­å¿ƒæœåŠ¡å™¨ä¾§çš„è™šæ‹ŸåŒ–è¶‹åŠ¿ç´§å¯†ç›¸å…³ï¼Œ<br>ä¸€æ–¹é¢æœåŠ¡å™¨è™šæ‹ŸåŒ–åå‡ºç°äº†è™šæ‹ŸæœºåŠ¨æ€è¿ç§»ï¼Œ<br>è¦æ±‚æä¾›ä¸€ä¸ªæ— éšœç¢æ¥å…¥çš„ç½‘ç»œï¼›å¦ä¸€æ–¹é¢ï¼Œæ•°æ®ä¸­å¿ƒè§„æ¨¡è¶Šå‘åºå¤§ï¼Œç§Ÿæˆ·æ•°é‡æ¿€å¢ï¼Œ<br>éœ€è¦ç½‘ç»œæä¾›éš”ç¦»æµ·é‡ç§Ÿæˆ·çš„èƒ½åŠ›ã€‚é‡‡ç”¨VXLANå¯ä»¥æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªå…³é”®éœ€æ±‚ã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>vxlan</tag>
      
      <tag>l2vpn</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxä¸‹çš„ç½‘ç»œæµ‹è¯•</title>
    <link href="/network-test/"/>
    <url>/network-test/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>æœ¬æ–‡ç« ä»‹ç»äº† Linuxä¸‹iperf3ï¼ˆç‚¹å¯¹ç‚¹æµ‹è¯•ï¼‰ï¼Œspeedtestï¼ˆå…¬ç½‘æµ‹è¯•ï¼‰çš„å®‰è£…å’Œä½¿ç”¨æ–¹æ³•ã€‚</p><span id="more"></span><h2 id="iperf3"><a href="#iperf3" class="headerlink" title="iperf3"></a>iperf3</h2><h3 id="Centos-RHELã€Fedoraã€Rocky-Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ-å®‰è£…iperf3"><a href="#Centos-RHELã€Fedoraã€Rocky-Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ-å®‰è£…iperf3" class="headerlink" title="Centos (RHELã€Fedoraã€Rocky Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ) å®‰è£…iperf3"></a>Centos (RHELã€Fedoraã€Rocky Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ) å®‰è£…iperf3</h3><p>yum -y install iperf3</p><p>systemctl stop firewalld.service</p><p>ä¸´æ—¶å…³é—­é˜²ç«å¢™ï¼Œä½œä¸ºæœåŠ¡ç«¯å¯åŠ¨æ—¶å€™ï¼Œé»˜è®¤ä¼šä½¿ç”¨5201ç«¯å£ï¼Œéœ€è¦æ”¾å¼€æ­¤ç«¯å£ã€‚</p><h3 id="Ubuntuï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰å®‰è£…iperf3"><a href="#Ubuntuï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰å®‰è£…iperf3" class="headerlink" title="Ubuntuï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰å®‰è£…iperf3"></a>Ubuntuï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰å®‰è£…iperf3</h3><p>sudo apt update</p><p>sudo apt install iperf3</p><p>sudo ufw disable</p><p>æ°¸ä¹…å…³é—­é˜²ç«å¢™ï¼Œä½œä¸ºæœåŠ¡ç«¯å¯åŠ¨æ—¶å€™ï¼Œé»˜è®¤ä¼šä½¿ç”¨5201ç«¯å£ï¼Œéœ€è¦æ”¾å¼€æ­¤ç«¯å£ã€‚</p><h3 id="iperf3-ä½¿ç”¨æ–¹æ³•ï¼ˆå…¨å¹³å°é€šç”¨ï¼‰"><a href="#iperf3-ä½¿ç”¨æ–¹æ³•ï¼ˆå…¨å¹³å°é€šç”¨ï¼‰" class="headerlink" title="iperf3 ä½¿ç”¨æ–¹æ³•ï¼ˆå…¨å¹³å°é€šç”¨ï¼‰"></a>iperf3 ä½¿ç”¨æ–¹æ³•ï¼ˆå…¨å¹³å°é€šç”¨ï¼‰</h3><p>iperf3 -s</p><p>å¼€å¯iperf3 æœåŠ¡å™¨ç«¯ï¼Œé»˜è®¤ä½¿ç”¨5201ç«¯å£ã€‚</p><p>iperf3 -s -p 9527</p><p>å¼€å¯æœåŠ¡å™¨ç«¯ï¼ŒæŒ‡å®šå¼€å¯ç«¯å£ä¸º9527ã€‚</p><p>iperf3 -c 192.168.0.1 </p><p>-c å‚æ•°å®¢æˆ·ç«¯æŒ‡å®šæœåŠ¡å™¨ç«¯IPæˆ–åŸŸåè¿›è¡Œæ‰“æµæµ‹è¯•ï¼Œé»˜è®¤ä½¿ç”¨TCPç«¯å£5201æµ‹è¯•ã€‚<br>(é»˜è®¤ä½¿ç”¨æœ€å¤§å¸¦å®½ï¼ŒTCP å»¶è¿Ÿè¿‡å¤§å¯èƒ½å¯¼è‡´å¸¦å®½æ‰“ä¸æ»¡ï¼Œå»ºè®®ä½¿ç”¨ -P 5 å‚æ•°å¤šçº¿ç¨‹æµ‹è¯•)</p><p>iperf3 -c 192.168.0.1 -p 12345 -i 1 -t 20 -R </p><p>-p ä¸ºæŒ‡å®šæœåŠ¡å™¨ç«¯å£ï¼Œ -i ä¸ºä¿¡æ¯è¾“å‡ºé—´éš”æ—¶é—´ï¼Œ-t ä¸ºæŒ‡å®šæµ‹è¯•æ—¶é—´ï¼Œ-R ä¸ºåå‘æ¨¡å¼ï¼Œå®¢æˆ·ç«¯æ”¶ï¼ŒæœåŠ¡å™¨å‘ã€‚</p><p>iperf3 -c 192.168.0.1 -u -b 30m</p><p>-u ä¸ºUDPæµ‹è¯•æ•°æ®ï¼Œ-bä¸ºæŒ‡å®šå¸¦å®½å»æµ‹è¯•ï¼Œ UDPé»˜è®¤åªä½¿ç”¨1Mã€‚</p><p>iperfå®˜ç½‘ï¼š <a href="https://iperf.fr/">https://iperf.fr</a></p><p>PS: æ³¨æ„äº‘æœåŠ¡å™¨ä¼šæœ‰å®‰å…¨ç»„ï¼Œä¹Ÿéœ€è¦å¼€æ”¾ç«¯å£ã€‚</p><h2 id="speedtest"><a href="#speedtest" class="headerlink" title="speedtest"></a>speedtest</h2><h3 id="Centos-speedtest-CLIå®¢æˆ·ç«¯å®‰è£…-RHELã€Fedoraã€Rocky-Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ"><a href="#Centos-speedtest-CLIå®¢æˆ·ç«¯å®‰è£…-RHELã€Fedoraã€Rocky-Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ" class="headerlink" title="Centos speedtest CLIå®¢æˆ·ç«¯å®‰è£…  (RHELã€Fedoraã€Rocky Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ)"></a>Centos speedtest CLIå®¢æˆ·ç«¯å®‰è£…  (RHELã€Fedoraã€Rocky Linuxç­‰Redhatç³»å‘è¡Œç‰ˆ)</h3><p>curl -s <a href="https://install.speedtest.net/app/cli/install.rpm.sh">https://install.speedtest.net/app/cli/install.rpm.sh</a> | sudo bash</p><p>sudo yum -y install speedtest</p><p>æ·»åŠ yumæº è¿›è¡Œå®‰è£…ã€‚</p><h3 id="Ubuntu-speedtest-CLIå®¢æˆ·ç«¯å®‰è£…-ï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰"><a href="#Ubuntu-speedtest-CLIå®¢æˆ·ç«¯å®‰è£…-ï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰" class="headerlink" title="Ubuntu speedtest CLIå®¢æˆ·ç«¯å®‰è£… ï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰"></a>Ubuntu speedtest CLIå®¢æˆ·ç«¯å®‰è£… ï¼ˆMintã€Debianç³»å‘è¡Œç‰ˆï¼‰</h3><p>sudo apt-get install curl</p><p>curl -s <a href="https://install.speedtest.net/app/cli/install.deb.sh">https://install.speedtest.net/app/cli/install.deb.sh</a> | sudo bash</p><p>sudo apt-get install speedtest</p><p>æ·»åŠ aptæºè¿›è¡Œå®‰è£…ï¼Œ</p><h3 id="äºŒè¿›åˆ¶åŒ…-speedtest-CLIå®¢æˆ·ç«¯å®‰è£…ï¼ˆä¸‹è½½äºŒè¿›åˆ¶åŒ…è§£å‹è¿è¡Œï¼‰"><a href="#äºŒè¿›åˆ¶åŒ…-speedtest-CLIå®¢æˆ·ç«¯å®‰è£…ï¼ˆä¸‹è½½äºŒè¿›åˆ¶åŒ…è§£å‹è¿è¡Œï¼‰" class="headerlink" title="äºŒè¿›åˆ¶åŒ… speedtest CLIå®¢æˆ·ç«¯å®‰è£…ï¼ˆä¸‹è½½äºŒè¿›åˆ¶åŒ…è§£å‹è¿è¡Œï¼‰"></a>äºŒè¿›åˆ¶åŒ… speedtest CLIå®¢æˆ·ç«¯å®‰è£…ï¼ˆä¸‹è½½äºŒè¿›åˆ¶åŒ…è§£å‹è¿è¡Œï¼‰</h3><p>wget <a href="https://install.speedtest.net/app/cli/ookla-speedtest-1.1.1-linux-x86_64.tgz">https://install.speedtest.net/app/cli/ookla-speedtest-1.1.1-linux-x86_64.tgz</a></p><p>tar -zxvf ookla-speedtest-1.1.1-linux-x86_64.tgz</p><p>.&#x2F;speedtest</p><p>æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æµ‹è¯•ã€‚</p><h3 id="speedtest-ä½¿ç”¨æ–¹æ³•"><a href="#speedtest-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="speedtest ä½¿ç”¨æ–¹æ³•"></a>speedtest ä½¿ç”¨æ–¹æ³•</h3><p>speedtest</p><p>Do you accept the license? [type YES to accept]: YES</p><p>ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œç„¶åè¾“å…¥YES,ä¼šæ ¹æ®IPé€‰æ‹©æœ€è¿‘çš„èŠ‚ç‚¹è¿›è¡Œæœ€å¤§å…¬ç½‘ä¸Šä¸‹è¡Œå’Œå»¶è¿Ÿæµ‹è¯•ã€‚</p><p>speedtest -s 37235</p><p>æŒ‡å®šæœåŠ¡å™¨èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œä¸‹é¢æ˜¯æœåŠ¡å™¨èŠ‚ç‚¹IDã€‚</p><p>IDï¼š36646 ä¸­å›½è”é€šæ²³å—5Gï¼ˆä¸­å›½éƒ‘å·ï¼‰</p><p>IDï¼š41852 æ²³å—ç”µä¿¡5Gï¼ˆä¸­å›½éƒ‘å·</p><p>IDï¼š5039ä¸­å›½è”é€šæµå—åˆ†å…¬å¸ï¼ˆä¸­å›½æµå—ï¼‰</p><p>IDï¼š26412 æµå—è”é€š5Gï¼ˆä¸­å›½æµå—ï¼‰</p><p>IDï¼š26180 å±±ä¸œè”é€š5Gï¼ˆä¸­å›½æµå—ï¼‰</p><p>IDï¼š41912 ä¸­å›½ç§»åŠ¨æ²³åŒ—æœ‰é™å…¬å¸(çŸ³å®¶åº„, ä¸­å›½ï¼‰</p><p>IDï¼š4863 ä¸­å›½è”é€šè¥¿å®‰åˆ†å…¬å¸ï¼ˆä¸­å›½è¥¿å®‰ï¼‰</p><p>IDï¼š17145 ä¸­å›½ç”µä¿¡å®‰å¾½5Gï¼ˆä¸­å›½åˆè‚¥ï¼‰</p><p>IDï¼š23844 ä¸­å›½ç”µä¿¡æ­¦æ±‰åˆ†å…¬å¸ï¼ˆä¸­å›½æ­¦æ±‰ï¼‰</p><p>IDï¼š29353 æ­¦æ±‰ä½ å¥½5Gï¼ˆä¸­å›½æ­¦æ±‰ï¼‰</p><p>IDï¼š41009 æ¹–åŒ—è”é€š5Gï¼ˆä¸­å›½æ­¦æ±‰ï¼‰</p><p>IDï¼š26352 ä¸­å›½ç”µä¿¡æ±Ÿè‹5Gï¼ˆä¸­å›½å—äº¬ï¼‰</p><p>IDï¼š13704 ä¸­å›½è”é€šï¼ˆä¸­å›½å—äº¬ï¼‰</p><p>IDï¼š27249 ä¸­å›½ç§»åŠ¨æ±Ÿè‹5Gï¼ˆä¸­å›½å—äº¬ï¼‰</p><p>IDï¼š34115 ä¸­å›½ç”µä¿¡å¤©æ´¥-5Gï¼ˆä¸­å›½å¤©æ´¥ï¼‰</p><p>IDï¼š35722 ä¸­å›½ç”µä¿¡å¤©æ´¥ï¼ˆå¤©æ´¥ï¼‰</p><p>IDï¼š27154 ä¸­å›½è”é€š-5Gï¼ˆä¸­å›½å¤©æ´¥ï¼‰</p><p>IDï¼š17320 ä¸­å›½ç§»åŠ¨æ±Ÿè‹5Gï¼ˆä¸­å›½é•‡æ±Ÿï¼‰</p><p>IDï¼š36663 ä¸­å›½ç”µä¿¡æ±Ÿè‹5Gï¼ˆä¸­å›½é•‡æ±Ÿï¼‰</p><p>IDï¼š5145 åŒ—äº¬è”é€šï¼ˆä¸­å›½åŒ—äº¬ï¼‰</p><p>IDï¼š5505 åŒ—äº¬å®½å¸¦ç½‘ï¼ˆä¸­å›½åŒ—äº¬ï¼‰</p><p>IDï¼š32291 ä¸­å›½ç§»åŠ¨5Gï¼ˆä¸­å›½å¸¸å·ï¼‰</p><p>IDï¼š30232 å†…è’™å¤ä¸­å›½ç§»åŠ¨5Gï¼ˆå‘¼å’Œæµ©ç‰¹ï¼‰</p><p>IDï¼š28225 æ¹–å—ç”µä¿¡5Gï¼ˆä¸­å›½é•¿æ²™ï¼‰</p><p>IDï¼š4870 æ¹–å—è”é€š5Gï¼ˆä¸­å›½é•¿æ²™ï¼‰</p><p>IDï¼š28491 ä¸­å›½ç§»åŠ¨æ¹–å—5Gï¼ˆä¸­å›½é•¿æ²™ï¼‰</p><p>IDï¼š40131 ä¸­å›½ç§»åŠ¨è‹å·5Gï¼ˆä¸­å›½è‹å·ï¼‰</p><p>IDï¼š5396 ä¸­å›½ç”µä¿¡æ±Ÿè‹5Gï¼ˆä¸­å›½è‹å·ï¼‰</p><p>IDï¼š30852 æœå…‹æ˜†å±±å¤§å­¦ï¼ˆä¸­å›½æ˜†å±±ï¼‰</p><p>IDï¼š31815 ç»´å…‹æ–¯ç‰¹å°”ï¼ˆä¸­å›½é“¶å·å¸‚ï¼‰</p><p>IDï¼š7509 ä¸­å›½ç”µä¿¡æµ™æ±Ÿçœåˆ†å…¬å¸ï¼ˆä¸­å›½æ­å·ï¼‰</p><p>IDï¼š24447 ä¸­å›½è”é€š5Gï¼ˆä¸­å›½ä¸Šæµ·ï¼‰</p><p>IDï¼š3633 ä¸­å›½ç”µä¿¡ï¼ˆä¸­å›½ä¸Šæµ·ï¼‰</p><p>IDï¼š25637 ä¸­å›½ç§»åŠ¨5Gï¼ˆä¸­å›½ä¸Šæµ·ï¼‰</p><p>IDï¼š5530 CCNï¼ˆä¸­å›½é‡åº†ï¼‰</p><p>IDï¼š16145 å…°å·ï¼Œä¸­å›½ç§»åŠ¨ï¼Œç”˜è‚ƒï¼ˆä¸­å›½å…°å·ï¼‰</p><p>IDï¼š3973 ä¸­å›½ç”µä¿¡ï¼ˆä¸­å›½å…°å·ï¼‰</p><p>IDï¼š29071 ä¸­å›½ç”µä¿¡(æˆéƒ½, ä¸­å›½ï¼‰</p><p>IDï¼š24337 ä¸­å›½ç§»åŠ¨é›†å›¢å››å·æœ‰é™å…¬å¸ï¼ˆä¸­å›½æˆéƒ½ï¼‰</p><p>IDï¼š35527 sccnï¼ˆä¸­å›½æˆéƒ½ï¼‰</p><p>IDï¼š4884 ä¸­å›½è”é€šç¦å»ºï¼ˆä¸­å›½ç¦å·ï¼‰</p><p>IDï¼š34988 ä¸­å›½ç”µä¿¡è¾½å®5Gï¼ˆä¸­å›½æ²ˆé˜³ï¼‰</p><p>IDï¼š37235 ä¸­å›½è”é€šï¼ˆæ²ˆé˜³ï¼‰</p><p>IDï¼š30293 ä¸­å›½ç§»åŠ¨å†…è’™5Gï¼ˆä¸­å›½é€šè¾½ï¼‰</p><p>IDï¼š29107 äºšå¤ªç”µä¿¡ï¼ˆå°æ¹¾æ¡ƒå›­ï¼‰</p><p>IDï¼š24462 Homeplusï¼ˆå°æ¹¾æ¡ƒå›­ï¼‰</p><p>IDï¼š4938 é¦–å¸­ç”µä¿¡ï¼ˆå°æ¹¾æ¡ƒå›­ï¼‰</p><p>IDï¼š18452 ä¸­åç§»åŠ¨ï¼ˆå°æ¹¾æ¡ƒå›­ï¼‰</p><p>IDï¼š9484 ä¸­å›½è”é€šï¼ˆä¸­å›½é•¿æ˜¥ï¼‰</p><p>speedtest CLIå®¢æˆ·ç«¯å®˜ç½‘ï¼š<a href="https://www.speedtest.net/apps/cli">https://www.speedtest.net/apps/cli</a><br>æµ‹è¯•èŠ‚ç‚¹ä¿¡æ¯æ¥æºäºï¼š<a href="https://biger.me/184.html">https://biger.me/184.html</a></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Elasticsearch-x-pack-core/">Elasticsearch 8.7 ç™½é‡‘ç‰ˆæ¿€æ´»</a></li><li><a href="https://songxwn.com/Linux-growpart/">Linux è™šæ‹Ÿæœºåœ¨çº¿çƒ­æ‰©å®¹åˆ†åŒº</a></li><li><a href="https://songxwn.com/elk_cluster/">Elasticsearch å®‰è£…é…ç½®é›†ç¾¤ç³»ç»Ÿ</a></li><li><a href="https://chengzhaoxi.xyz/361d7ede.html">äº’è”ç½‘ç®—æ³•å·¥ç¨‹å¼€å‘å¸¸ç”¨æŠ€æœ¯</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IPv6çš„ICMPv6åè®®</title>
    <link href="/ipv6-icmpv6/"/>
    <url>/ipv6-icmpv6/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ICMPv6æ˜¯IPv6çš„åŸºç¡€åè®®ä¹‹ä¸€ï¼Œåè®®ç±»å‹å·ï¼ˆå³IPv6 Next Headerï¼‰ä¸º58ã€‚<br>é™¤äº†æä¾›åŸºæœ¬çš„æ£€æµ‹ç½‘ç»œè¿é€šæ€§åŠŸèƒ½å¤–ï¼Œè¿˜æä¾›äº†é‚»å±…å‘ç°(NDP)ã€æ— çŠ¶æ€åœ°å€é…ç½®(SLAAC)ã€<br>é‡å¤åœ°å€æ£€æµ‹ï¼ˆDADï¼‰ã€PMTUç­‰æ–°åŠŸèƒ½ã€‚</p><span id="more"></span><h1 id="IPv6é‚»å±…å‘ç°åè®®-NDPæ¦‚è¿°"><a href="#IPv6é‚»å±…å‘ç°åè®®-NDPæ¦‚è¿°" class="headerlink" title="IPv6é‚»å±…å‘ç°åè®® - NDPæ¦‚è¿°"></a>IPv6é‚»å±…å‘ç°åè®® - NDPæ¦‚è¿°</h1><h2 id="æ‰€ä½¿ç”¨çš„ICMPv6æŠ¥æ–‡"><a href="#æ‰€ä½¿ç”¨çš„ICMPv6æŠ¥æ–‡" class="headerlink" title="æ‰€ä½¿ç”¨çš„ICMPv6æŠ¥æ–‡"></a>æ‰€ä½¿ç”¨çš„ICMPv6æŠ¥æ–‡</h2><p>RS (Router Solicitation)  è·¯ç”±å™¨è¯·æ±‚æŠ¥æ–‡<br>RA (Router Advertisement) è·¯ç”±å™¨é€šå‘ŠæŠ¥æ–‡<br>NSï¼ˆNeighbor Solicitation) é‚»å±…è¯·æ±‚æŠ¥æ–‡<br>NA (Neighbor Advertisement) é‚»å±…é€šå‘ŠæŠ¥æ–‡</p><h2 id="åœ°å€è§£æ"><a href="#åœ°å€è§£æ" class="headerlink" title="åœ°å€è§£æ"></a>åœ°å€è§£æ</h2><p>IPv6çš„åœ°å€è§£æï¼Œä¸å†ä½¿ç”¨ARPã€‚ä¹Ÿä¸å†ä½¿ç”¨å¹¿æ’­å‘é€æŠ¥æ–‡ã€‚</p><p>åœ°å€è§£æåœ¨ç½‘ç»œå±‚å®Œæˆï¼Œè¿™æ ·å¯ä»¥é’ˆå¯¹ä¸åŒçš„é“¾è·¯å±‚åè®®é‡‡ç”¨ç›¸åŒçš„åœ°å€è§£æåè®®ã€‚ï¼ˆç„¶è€Œç°åœ¨æ˜¯ä»¥å¤ªç½‘çš„å¤©ä¸‹ï¼‰é€šè¿‡ICMPv6ï¼ˆç±»å‹135çš„NSåŠç±»å‹136çš„NAæŠ¥æ–‡ï¼‰æ¥å®ç°åœ°å€è§£æã€‚</p><p>NSæŠ¥æ–‡å‘é€ä½¿ç”¨ç»„æ’­çš„æ–¹å¼ï¼ŒæŠ¥æ–‡çš„ç›®çš„IPv6åœ°å€ä¸ºè¢«è¯·æ±‚çš„IPv6åœ°å€å¯¹åº”çš„â€œè¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€â€ï¼ŒæŠ¥æ–‡çš„ç›®çš„MACåœ°å€ä¸ºç»„æ’­MACã€‚ï¼ˆäº¤æ¢æœºå¯¹äºç»„æ’­MACåœ°å€ä¹Ÿä¼šæ³›æ´ªã€‚ï¼‰</p><p>é‡‡ç”¨ç»„æ’­çš„æ–¹å¼å‘é€NSæ¶ˆæ¯ç›¸æ¯”äºå¹¿æ’­çš„æ–¹å¼æ›´åŠ çš„é«˜æ•ˆï¼Œä¹Ÿå‡å°‘äº†å¯¹å…¶ä»–èŠ‚ç‚¹çš„å½±å“å’Œå¯¹äºŒå±‚ç½‘ç»œçš„æ€§èƒ½å‹åŠ›ã€‚ï¼ˆç½‘å¡ä¼šè¿‡æ»¤ä¸éœ€è¦çš„ç»„æ’­å¸§ï¼Œå‡å°‘ä¸Šä¸€å±‚çš„è´Ÿæ‹…ï¼‰</p><p>å¯ä»¥ä½¿ç”¨ä¸‰å±‚çš„å®‰å…¨æœºåˆ¶è¿›è¡Œè®¤è¯ï¼ˆä¾‹å¦‚IPSecï¼‰,é¿å…åœ°å€è§£ææ”»å‡»ã€‚ï¼ˆä¸€èˆ¬é»˜è®¤ä¸å¼€å¯ï¼‰</p><h3 id="NSå’ŒNAæŠ¥æ–‡"><a href="#NSå’ŒNAæŠ¥æ–‡" class="headerlink" title="NSå’ŒNAæŠ¥æ–‡"></a>NSå’ŒNAæŠ¥æ–‡</h3><p>åœ°å€è§£æè¿‡ç¨‹ä¸­ä½¿ç”¨äº†ä¸¤ç§ICMPv6æŠ¥æ–‡ï¼šé‚»å±…è¯·æ±‚ï¼ˆNeighbor Solicitationï¼‰å’Œé‚»å±…é€šå‘Šï¼ˆNeighbor Advertisementï¼‰ã€‚</p><ul><li>é‚»å±…è¯·æ±‚ Neighbor Solicitation<ul><li>ICMPçš„Typeä¸º135ï¼ŒCodeä¸º0ï¼›</li><li>Target Addressæ˜¯éœ€è¦è§£æçš„IPv6åœ°å€ï¼Œå› æ­¤è¯¥å¤„ä¸å‡†å‡ºç°ç»„æ’­åœ°å€ã€‚</li><li>é‚»å±…è¯·æ±‚å‘é€è€…çš„é“¾è·¯å±‚åœ°å€ä¼šè¢«æ”¾åœ¨Optionså­—æ®µä¸­ã€‚ï¼ˆæ„Ÿè§‰æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæºMACåœ°å€å·²ç»æ˜¯NSå‘é€è€…çš„ã€‚ï¼‰</li></ul></li><li>é‚»å±…é€šå‘Š Neighbor Advertisement<ul><li>ICMP Typeä¸º136ï¼ŒCodeä¸º0ï¼›</li><li>Ræ ‡å¿—ï¼ˆRouter flagï¼‰è¡¨ç¤ºå‘é€è€…æ˜¯å¦ä¸ºè·¯ç”±å™¨ï¼Œå¦‚æœ1åˆ™è¡¨ç¤ºæ˜¯ï¼›</li><li>Sæ ‡å¿—ï¼ˆSolicited flagï¼‰è¡¨ç¤ºå‘é€é‚»å±…é€šå‘Šæ˜¯å¦æ˜¯å“åº”æŸä¸ªé‚»å±…è¯·æ±‚ï¼Œå¦‚æœ1åˆ™è¡¨ç¤ºæ˜¯ï¼›</li><li>Oæ ‡å¿—ï¼ˆOveride flagï¼‰è¡¨ç¤ºé‚»å±…é€šå‘Šä¸­çš„æ¶ˆæ¯æ˜¯å¦è¦†ç›–å·²æœ‰çš„æ¡ç›®ä¿¡æ¯ï¼Œå¦‚æœ1åˆ™è¡¨ç¤ºæ˜¯ï¼›</li><li>Traget Addressè¡¨ç¤ºæ‰€æºå¸¦çš„é“¾è·¯å±‚åœ°å€å¯¹åº”çš„IPv6åœ°å€ã€‚</li><li>è¢«è¯·æ±‚çš„é“¾è·¯å±‚åœ°å€è¢«æ”¾åœ¨Optionså­—æ®µä¸­ï¼Œå…¶æ ¼å¼ä»ç„¶é‡‡ç”¨TLVæ ¼å¼ï¼Œå…·ä½“å¯ä»¥å‚è€ƒRFC2463ã€‚</li></ul></li></ul><h3 id="åœ°å€è§£æè¿‡ç¨‹"><a href="#åœ°å€è§£æè¿‡ç¨‹" class="headerlink" title="åœ°å€è§£æè¿‡ç¨‹"></a>åœ°å€è§£æè¿‡ç¨‹</h3><p><img src="/images/NDP.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p><p>å¦‚ä¸Šå›¾</p><ul><li>å‡è®¾PCæƒ³è¦è§£æR1çš„2001::2è¿™ä¸ªåœ°å€å¯¹åº”çš„MACåœ°å€ï¼Œè¯¦ç»†è¿‡ç¨‹å¦‚ä¸‹ï¼š<ul><li><p>PCå°†å‘é€ä¸€ä¸ªNSæŠ¥æ–‡è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚è¿™ä¸ªNSæŠ¥æ–‡çš„æºåœ°å€æ˜¯2001::1ï¼Œç›®çš„åœ°å€åˆ™æ˜¯2001::2å¯¹åº”çš„è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ã€‚ </p></li><li><p>R1æ”¶åˆ°æ­¤NSæŠ¥æ–‡ä¹‹åï¼Œè·å–å…¶ä¸­çš„æºIPv6åœ°å€R1æ¥æ”¶æ­¤NSæŠ¥æ–‡ï¼Œæ ¹æ®æŠ¥æ–‡å†…çš„æºIPv6åœ°å€å’ŒæºMACï¼Œè®°å½•ä¸‹PCè¿™ä¸ªé‚»å±…ï¼ŒåŒæ—¶æ ¹æ®è‡ªèº«çš„IPv6å’ŒMACï¼Œå›å¤å•æ’­NAæŠ¥æ–‡ã€‚å’ŒæºMACã€‚è¿™æ ·åŒæ–¹éƒ½å¯ä»¥å»ºç«‹ä¸€æ¡å…³äºå¯¹æ–¹çš„é‚»å±…ä¿¡æ¯è¡¨é¡¹ã€‚</p></li></ul></li></ul><h3 id="é‚»å±…çŠ¶æ€æœº"><a href="#é‚»å±…çŠ¶æ€æœº" class="headerlink" title="é‚»å±…çŠ¶æ€æœº"></a>é‚»å±…çŠ¶æ€æœº</h3><p>é€šè¿‡é‚»å±…æˆ–åˆ°è¾¾é‚»å±…çš„é€šä¿¡ï¼Œä¼šå› å„ç§åŸå› è€Œä¸­æ–­ï¼ŒåŒ…æ‹¬ç¡¬ä»¶æ•…éšœã€æ¥å£å¡çš„çƒ­æ’å…¥ç­‰ã€‚å¦‚æœç›®çš„åœ°å¤±æ•ˆï¼Œåˆ™æ¢å¤æ˜¯ä¸å¯èƒ½çš„ï¼Œé€šä¿¡å¤±è´¥ï¼›å¦‚æœè·¯å¾„å¤±æ•ˆï¼Œåˆ™æ¢å¤æ˜¯å¯èƒ½çš„ã€‚ å› æ­¤èŠ‚ç‚¹éœ€è¦ç»´æŠ¤ä¸€å¼ é‚»å±…è¡¨ï¼Œæ¯ä¸ªé‚»å±…éƒ½æœ‰ç›¸åº”çš„çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥è¿ç§»ã€‚(IPv4 çš„ARPä»…é å€’è®¡æ—¶å»ç»´æŠ¤)</p><p>RFCä¸­å®šä¹‰äº†5ç§é‚»å±…çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯ï¼šæœªå®Œæˆï¼ˆIncompleteï¼‰ã€å¯è¾¾ï¼ˆReachableï¼‰ã€é™ˆæ—§ï¼ˆStaleï¼‰ã€å»¶è¿Ÿï¼ˆDelayï¼‰ã€æ¢æŸ¥ï¼ˆProbeï¼‰ã€‚</p><p><img src="/images/NS.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p><p>â€¢ R1å…ˆå‘é€NSæŠ¥æ–‡ï¼Œå¹¶ç”Ÿæˆç¼“å­˜æ¡ç›®ï¼Œæ­¤æ—¶ï¼Œé‚»å±…çŠ¶æ€ä¸ºIncompleteã€‚<br>â€¢ è‹¥æ”¶åˆ°R2å›å¤çš„NAæŠ¥æ–‡ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Incompleteå˜ä¸ºReachableï¼Œ<br>å¦åˆ™å›ºå®šæ—¶é—´åé‚»å±…çŠ¶æ€ç”±Incompleteå˜ä¸ºEmptyã€‚<br>â€¢ ç»è¿‡é‚»å±…å¯è¾¾æ—¶é—´ï¼ˆé»˜è®¤30sï¼‰ï¼Œé‚»å±…çŠ¶æ€ç”±Reachableå˜ä¸ºStaleï¼Œå³<br>æœªçŸ¥æ˜¯å¦å¯è¾¾ã€‚<br>â€¢ å¦‚æœåœ¨ReachableçŠ¶æ€ï¼ŒR1æ”¶åˆ°R2çš„éè¯·æ±‚NAæŠ¥æ–‡ï¼Œä¸”å…¶ä¸­æºå¸¦çš„R2çš„é“¾è·¯<br>å±‚åœ°å€å’Œè¡¨é¡¹ä¸­ä¸åŒï¼Œåˆ™é‚»å±…çŠ¶æ€é©¬ä¸Šå˜ä¸ºStaleã€‚<br>â€¢ åœ¨StaleçŠ¶æ€è‹¥R1è¦å‘R2å‘é€æ•°æ®ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Staleå˜ä¸ºDelayï¼Œå¹¶<br>å‘é€NSè¯·æ±‚ã€‚<br>â€¢ åœ¨ç»è¿‡ä¸€æ®µå›ºå®šæ—¶é—´åï¼Œé‚»å±…çŠ¶æ€ç”±Delayå˜ä¸ºProbeï¼Œå…¶é—´è‹¥æœ‰NAåº”<br>ç­”ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Delayå˜ä¸ºReachableã€‚<br>â€¢ åœ¨ProbeçŠ¶æ€ï¼ŒR1æ¯éš”ä¸€å®šæ—¶é—´é—´éš”ï¼ˆé»˜è®¤1sï¼‰å‘é€å•æ’­NSï¼Œå‘é€å›ºå®š<br>æ¬¡æ•°åï¼Œæœ‰åº”ç­”åˆ™é‚»å±…çŠ¶æ€å˜ä¸ºReachableï¼Œå¦åˆ™é‚»å±…çŠ¶æ€å˜ä¸ºEmptyã€‚</p><h2 id="é‡å¤åœ°å€æ£€æµ‹DAD"><a href="#é‡å¤åœ°å€æ£€æµ‹DAD" class="headerlink" title="é‡å¤åœ°å€æ£€æµ‹DAD"></a>é‡å¤åœ°å€æ£€æµ‹DAD</h2><p>å½“è®¾å¤‡è·å–åˆ°IPv6åœ°å€åï¼Œä¸€å®šä¼šä½¿ç”¨ICMPv6æŠ¥æ–‡è¿›è¡ŒDADã€‚ä¸”å½“DADé€šè¿‡ä¹‹åï¼Œæ‰ä¼šä½¿ç”¨è¯¥åœ°å€ã€‚ï¼ˆæ— è®ºé€šè¿‡é‚£ç§æ–¹æ³•è·å–ï¼‰</p><p><img src="/images/DAD.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p><ul><li>å‡è®¾R1ä¸ºå·²åœ¨çº¿è®¾å¤‡ï¼ŒIPv6åœ°å€ä¸º2001::FFFF&#x2F;64ã€‚PCä¸Šçº¿ä¹‹åï¼Œä¹Ÿé…ç½®äº†ç›¸åŒçš„IPv6åœ°å€ï¼Œåœ¨æ­£å¼ä½¿ç”¨è¿™ä¸ªåœ°å€ä¹‹å‰ï¼ŒPCä¼šå¯¹æ­¤åœ°å€åšDADï¼Œè¿‡ç¨‹å¦‚ä¸‹:<ul><li>PCå‘é“¾è·¯ä¸Šä»¥ç»„æ’­çš„æ–¹å¼å‘é€ä¸€ä¸ªNSæŠ¥æ–‡ï¼Œè¯¥NSçš„æºIPv6åœ°å€ä¸ºâ€œ::â€ï¼Œç›®çš„IPv6åœ°å€ä¸ºè¦è¿›è¡ŒDADçš„2001::FFFFå¯¹åº”çš„è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼Œä¹Ÿå°±æ˜¯FF02::1:FF00:FFFFã€‚è¿™ä¸ªNSé‡ŒåŒ…å«ç€è¦åšDADçš„ç›®æ ‡åœ°å€2001::FFFFã€‚</li><li>é“¾è·¯ä¸Šçš„èŠ‚ç‚¹éƒ½ä¼šæ”¶åˆ°è¿™ä¸ªç»„æ’­çš„NSæŠ¥æ–‡ï¼Œæ²¡æœ‰é…ç½®2001::FFFFçš„èŠ‚ç‚¹æ¥å£ç”±äºæ²¡æœ‰åŠ å…¥è¯¥åœ°å€å¯¹åº”çš„è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­ç»„ï¼Œå› æ­¤åœ¨æ”¶åˆ°è¿™ä¸ªNSçš„æ—¶å€™é»˜é»˜ä¸¢å¼ƒã€‚è€ŒR1åœ¨æ”¶åˆ°è¿™ä¸ªNSåï¼Œç”±äºå®ƒçš„æ¥å£é…ç½®äº†2001::FFFFåœ°å€ï¼Œå› æ­¤æ¥å£ä¼šåŠ å…¥ç»„æ’­ç»„FF02::1:FF00:FFFFï¼Œè€Œæ­¤åˆ»æ‰€æ”¶åˆ°çš„æŠ¥æ–‡åˆæ˜¯ä»¥è¯¥åœ°å€ä¸ºç›®çš„åœ°å€ï¼Œå› æ­¤å®ƒä¼šè§£æè¯¥æŠ¥æ–‡ï¼Œå®ƒå‘ç°å¯¹æ–¹è¿›è¡ŒDADçš„ç›®æ ‡åœ°å€ä¸è‡ªå·±æœ¬åœ°æ¥å£åœ°å€ç›¸åŒï¼Œäºæ˜¯ç«‹å³å›é€ä¸€ä¸ªNAæŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€æ˜¯FF02::1ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼ŒåŒæ—¶åœ¨æŠ¥æ–‡å†…å†™å…¥ç›®æ ‡åœ°å€2001::FFFFï¼Œä»¥åŠè‡ªå·±æ¥å£çš„MACåœ°å€ã€‚</li><li>å½“PCæ”¶åˆ°è¿™ä¸ªNAåï¼Œå®ƒå°±çŸ¥é“2001::FFFFåœ¨é“¾è·¯ä¸Šå·²ç»æœ‰äººåœ¨ç”¨äº†ï¼Œå› æ­¤å°†è¯¥åœ°å€æ ‡è®°ä¸ºDuplicateï¼ˆé‡å¤çš„ï¼‰ï¼Œè¯¥åœ°å€å°†ä¸èƒ½ç”¨äºé€šä¿¡ã€‚è‹¥æœªæ”¶åˆ°NAæŠ¥æ–‡ï¼Œåˆ™PCåˆ¤æ–­è¿™ä¸ªIPv6åœ°å€å¯ä»¥ç”¨ï¼ŒDADæœºåˆ¶æœ‰ç‚¹ç±»ä¼¼äºIPv4ä¸­çš„å…è´¹ARPæ£€æµ‹é‡å¤åœ°å€ã€‚</li></ul></li></ul><h2 id="IPv6çš„æ— çŠ¶æ€åœ°å€é…ç½®"><a href="#IPv6çš„æ— çŠ¶æ€åœ°å€é…ç½®" class="headerlink" title="IPv6çš„æ— çŠ¶æ€åœ°å€é…ç½®"></a>IPv6çš„æ— çŠ¶æ€åœ°å€é…ç½®</h2><p><img src="/images/SLACC.jpg" srcset="/img/loading.gif" lazyload alt="upload successful"></p><p>ä¸»æœºæ ¹æ®RAä¸­çš„åœ°å€å‰ç¼€ï¼Œå¹¶ç»“åˆæœ¬åœ°ç”Ÿæˆçš„64 bitæ¥å£æ ‡è¯†ï¼ˆä¾‹å¦‚EUI-64ï¼‰ï¼Œç”Ÿæˆå•æ’­åœ°å€ã€‚<br>ä»…å¯ä»¥è·å¾—IPv6åœ°å€ä¿¡æ¯ï¼Œï¼ˆè¾ƒæ–°æ ‡å‡†å¯ä»¥è·å–DNSï¼‰æ— æ³•è·å¾—NISã€SNTPæœåŠ¡å™¨ç­‰å‚æ•°ï¼Œéœ€è¦é…åˆDHCPv6æˆ–è€…æ‰‹å·¥é…ç½®æ¥è·å–å…¶ä»–é…ç½®ä¿¡æ¯ã€‚</p><h1 id="Path-MTU"><a href="#Path-MTU" class="headerlink" title="Path MTU"></a>Path MTU</h1><p>åœ¨IPv4ä¸­ï¼ŒæŠ¥æ–‡å¦‚æœè¿‡å¤§ï¼Œå¿…é¡»è¦åˆ†ç‰‡è¿›è¡Œå‘é€ï¼Œæ‰€ä»¥åœ¨æ¯ä¸ªèŠ‚ç‚¹å‘é€æŠ¥æ–‡ä¹‹å‰ï¼Œè®¾å¤‡éƒ½ä¼šæ ¹æ®å‘é€æ¥å£çš„æœ€å¤§ä¼ è¾“å•å…ƒMTUï¼ˆMaximum Transmission Unitï¼‰æ¥å¯¹æŠ¥æ–‡è¿›è¡Œåˆ†ç‰‡ã€‚ä½†æ˜¯åœ¨IPv6ä¸­ï¼Œä¸ºäº†å‡å°‘ä¸­é—´è½¬å‘è®¾å¤‡çš„å¤„ç†å‹åŠ›ï¼Œä¸­é—´è½¬å‘è®¾å¤‡ä¸å¯¹IPv6æŠ¥æ–‡è¿›è¡Œåˆ†ç‰‡ï¼ŒæŠ¥æ–‡çš„åˆ†ç‰‡å°†åœ¨æºèŠ‚ç‚¹è¿›è¡Œã€‚å½“ä¸­é—´è½¬å‘è®¾å¤‡çš„æ¥å£æ”¶åˆ°ä¸€ä¸ªæŠ¥æ–‡åï¼Œå¦‚æœå‘ç°æŠ¥æ–‡é•¿åº¦æ¯”è½¬å‘æ¥å£çš„MTUå€¼å¤§ï¼Œåˆ™ä¼šå°†å…¶ä¸¢å¼ƒï¼›åŒæ—¶å°†è½¬å‘æ¥å£çš„MTUå€¼é€šè¿‡ICMPv6æŠ¥æ–‡çš„â€œPacket Too Bigâ€æ¶ˆæ¯å‘ç»™æºç«¯ä¸»æœºï¼Œæºç«¯ä¸»æœºä»¥è¯¥å€¼é‡æ–°å‘é€IPv6æŠ¥æ–‡ï¼Œè¿™æ ·å¸¦æ¥äº†é¢å¤–æµé‡å¼€é”€ã€‚PMTUå‘ç°åè®®å¯ä»¥åŠ¨æ€å‘ç°æ•´æ¡ä¼ è¾“è·¯å¾„ä¸Šå„é“¾è·¯çš„MTUå€¼ï¼Œå‡å°‘ç”±äºé‡ä¼ å¸¦æ¥çš„é¢å¤–æµé‡å¼€é”€ã€‚</p><p>PMTUåè®®æ˜¯é€šè¿‡ICMPv6çš„Packet Too BigæŠ¥æ–‡æ¥å®Œæˆçš„ã€‚é¦–å…ˆæºèŠ‚ç‚¹å‡è®¾PMTUå°±æ˜¯å…¶å‡ºæ¥å£çš„MTUï¼Œå‘å‡ºä¸€ä¸ªè¯•æ¢æ€§çš„æŠ¥æ–‡ï¼Œå½“è½¬å‘è·¯å¾„ä¸Šå­˜åœ¨ä¸€ä¸ªå°äºå½“å‰å‡è®¾çš„PMTUæ—¶ï¼Œè½¬å‘è®¾å¤‡å°±ä¼šå‘æºèŠ‚ç‚¹å‘é€Packet Too BigæŠ¥æ–‡ï¼Œå¹¶ä¸”æºå¸¦è‡ªå·±çš„MTUå€¼ï¼Œæ­¤åæºèŠ‚ç‚¹å°†PMTUçš„å‡è®¾å€¼æ›´æ”¹ä¸ºæ–°æ”¶åˆ°çš„MTUå€¼ç»§ç»­å‘é€æŠ¥æ–‡ã€‚å¦‚æ­¤åå¤ï¼Œç›´åˆ°æŠ¥æ–‡åˆ°è¾¾ç›®çš„åœ°ä¹‹åï¼ŒæºèŠ‚ç‚¹å°±èƒ½çŸ¥é“åˆ°è¾¾ç›®çš„åœ°çš„PMTUäº†ã€‚</p><p><img src="/images/PMTU.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p><p>å¦‚ä¸Šå›¾ï¼Œæ•´æ¡ä¼ è¾“è·¯å¾„éœ€è¦é€šè¿‡4æ¡é“¾è·¯ï¼Œæ¯æ¡é“¾è·¯çš„MTUåˆ†åˆ«æ˜¯1500ã€1500ã€1400ã€1300ï¼Œå½“æºèŠ‚ç‚¹å‘é€ä¸€ä¸ªåˆ†ç‰‡æŠ¥æ–‡çš„æ—¶å€™ï¼Œé¦–å…ˆæŒ‰ç…§PMTUä¸º1500è¿›è¡Œåˆ†ç‰‡å¹¶å‘é€åˆ†ç‰‡æŠ¥æ–‡ï¼Œå½“åˆ°è¾¾MTUä¸º1400çš„å‡ºæ¥å£æ—¶ï¼Œè®¾å¤‡è¿”å›Packet Too Bigé”™è¯¯ï¼ŒåŒæ—¶æºå¸¦MTUå€¼ä¸º1400çš„ä¿¡æ¯ã€‚<br>æºèŠ‚ç‚¹æ¥æ”¶åˆ°ä¹‹åä¼šå°†æŠ¥æ–‡é‡æ–°æŒ‰ç…§PMTUä¸º1400è¿›è¡Œåˆ†ç‰‡å¹¶å†æ¬¡å‘é€ä¸€ä¸ªåˆ†ç‰‡æŠ¥æ–‡ï¼Œå½“åˆ†ç‰‡æŠ¥æ–‡åˆ°è¾¾MTUå€¼ä¸º1300çš„å‡ºæ¥å£æ—¶ï¼ŒåŒæ ·è¿”å›Packet Too Bigé”™è¯¯ï¼Œæºå¸¦MTUå€¼ä¸º1300çš„ä¿¡æ¯ã€‚ä¹‹åæºèŠ‚ç‚¹é‡æ–°æŒ‰ç…§PMTUä¸º1300è¿›è¡Œåˆ†ç‰‡å¹¶å‘é€åˆ†ç‰‡æŠ¥æ–‡ï¼Œæœ€ç»ˆåˆ°è¾¾ç›®çš„åœ°ï¼Œè¿™æ ·å°±æ‰¾åˆ°äº†è¯¥è·¯å¾„çš„PMTUã€‚</p><p>PSï¼šIPv6 è¦æ±‚é“¾è·¯å±‚æœ€ä½MTUä¸º 1280ã€‚</p><h1 id="è·¯ç”±é‡å®šå‘"><a href="#è·¯ç”±é‡å®šå‘" class="headerlink" title="è·¯ç”±é‡å®šå‘"></a>è·¯ç”±é‡å®šå‘</h1><p>é‡å®šå‘æ˜¯æŒ‡ç½‘å…³è®¾å¤‡å‘ç°æŠ¥æ–‡ä»å…¶å®ƒç½‘å…³è®¾å¤‡è½¬å‘æ›´ä¼˜ï¼Œå®ƒå°±ä¼šå‘é€é‡å®šå‘æŠ¥æ–‡å‘ŠçŸ¥æŠ¥æ–‡<br>çš„å‘é€è€…ï¼Œè®©æŠ¥æ–‡å‘é€è€…é€‰æ‹©å¦ä¸€ä¸ªç½‘å…³è®¾å¤‡ã€‚</p><p><img src="/images/icmp-re.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p><p>1ã€PC1å¸Œæœ›å‘é€æŠ¥æ–‡åˆ°æœåŠ¡å™¨ï¼Œäºæ˜¯æ ¹æ®é…ç½®çš„é»˜è®¤ç½‘å…³åœ°å€å‘ç½‘å…³R2å‘é€æŠ¥æ–‡ã€‚</p><p>2ã€ç½‘å…³R2æ”¶åˆ°æŠ¥æ–‡åï¼Œæ£€æŸ¥æŠ¥æ–‡ä¿¡æ¯ï¼Œå‘ç°æŠ¥æ–‡åº”è¯¥ è½¬å‘åˆ°ä¸PC1åœ¨åŒä¸€ç½‘æ®µçš„å¦ä¸€ä¸ªç½‘å…³è®¾å¤‡R1,æ­¤ è½¬å‘è·¯å¾„æ˜¯æ›´ä¼˜çš„è·¯å¾„ï¼Œäºæ˜¯R2ä¼šå‘PC1å‘é€ä¸€ä¸ª é‡å®šå‘æ¶ˆæ¯ï¼Œé€šçŸ¥PC1å»å¾€æœåŠ¡å™¨çš„æŠ¥æ–‡åº”ç›´æ¥å‘ç»™R1ã€‚<br>3ã€PC1æ”¶åˆ°é‡å®šå‘æ¶ˆæ¯åï¼Œä¼šå‘R1å‘é€æŠ¥æ–‡ï¼ŒR1å†å°†è¯¥æŠ¥æ–‡è½¬å‘è‡³æœåŠ¡å™¨ã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>IPv6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windowsä¸Šçš„IPv6</title>
    <link href="/ipv6-Windows/"/>
    <url>/ipv6-Windows/</url>
    
    <content type="html"><![CDATA[<h1 id="Windowså’ŒEUI-64"><a href="#Windowså’ŒEUI-64" class="headerlink" title="Windowså’ŒEUI-64"></a>Windowså’ŒEUI-64</h1><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œé“¾è·¯æœ¬åœ°åœ°å€çš„æ¥å£IDæ˜¯ç”±MACåœ°å€æ¥ç”Ÿæˆçš„ï¼Œæ ‡å‡†å«åšEUI-64ã€‚ï¼ˆRFC 2373ï¼‰<br>ç”Ÿæˆçš„64bitæ¥å£ID,å«åšæ¥å£æ ‡è¯†ç¬¦ã€‚<br>SLAACï¼ˆæ— çŠ¶æ€åˆ†é…ï¼‰æ‰€äº§ç”Ÿçš„åœ°å€ï¼Œå…¶æ¥å£IDä¹Ÿä¼šä½¿ç”¨æ¥å£æ ‡è¯†ç¬¦ã€‚ä¸é“¾è·¯æœ¬åœ°åœ°å€çš„æ¥å£IDä¸€æ ·ã€‚<br>è€Œè¿™åªæ˜¯åœ¨Windows Vistaå’ŒWindows 2008ä¹‹å‰çš„æƒ…å†µä¸‹ã€‚<br>ä¸ºäº†å®‰å…¨ï¼ŒWindowså¼€å§‹ä½¿ç”¨äº†éšæœºåŒ–æ¥å£IDå’Œä¸´æ—¶åœ°å€ã€‚ï¼ˆRFC 3041ï¼‰</p><span id="more"></span><h1 id="éšæœºæ ‡è¯†ç¬¦-x2F-æ¥å£ID"><a href="#éšæœºæ ‡è¯†ç¬¦-x2F-æ¥å£ID" class="headerlink" title="éšæœºæ ‡è¯†ç¬¦&#x2F;æ¥å£ID"></a>éšæœºæ ‡è¯†ç¬¦&#x2F;æ¥å£ID</h1><p>ç”±äºEUI-64ç”Ÿæˆçš„æ¥å£æ ‡è¯†ç¬¦,æ˜¯ç”±MACåœ°å€ç”Ÿæˆã€‚æ‰€ä»¥å¾ˆå®¹æ˜“æ ¹æ®IPv6åœ°å€æ¥æ¨æ–­å‡ºè®¾å¤‡çš„MACåœ°å€ã€‚<br>EUI-64 æ˜¯å°†48bitçš„MACåœ°å€ï¼Œå…¶ç¬¬ä¸ƒä½å–åï¼Œç„¶åä¸­é—´å¡«å……FFFEç»„æˆ64bitçš„æ¥å£IDã€‚<br>æ‰€ä»¥Windowsä¼šéšæœºç”Ÿæˆ 64bitçš„æ¥å£æ ‡è¯†ç¬¦ã€‚çœ‹ä¸‹é¢çš„è¾“å‡ºï¼Œé“¾è·¯æœ¬åœ°åœ°å€æ˜æ˜¾æ˜¯å’ŒMACåœ°å€æ— å…³çš„ã€‚<br>æ­¤åœ°å€æ˜¯å›ºå®šï¼Œä¸€èˆ¬ç”Ÿæˆä¹‹åï¼Œä¸ä¼šæ”¹å˜ã€‚</p><blockquote><p>C:\Users\admin&gt; ipconfig &#x2F;all<br>  æè¿°. . . . . . . . . . . . . . . : Intel(R) Wi-Fi 6 AX200 160MHz<br>  ç‰©ç†åœ°å€. . . . . . . . . . . . . : 46-68-5C-AA-41-11<br>  DHCP å·²å¯ç”¨ . . . . . . . . . . . : æ˜¯<br>  è‡ªåŠ¨é…ç½®å·²å¯ç”¨. . . . . . . . . . : æ˜¯<br>  æœ¬åœ°é“¾æ¥ IPv6 åœ°å€. . . . . . . . : fe80::1e2:5910:14f3:a9d5%13(é¦–é€‰)</p></blockquote><h1 id="ä¸´æ—¶åœ°å€"><a href="#ä¸´æ—¶åœ°å€" class="headerlink" title="ä¸´æ—¶åœ°å€"></a>ä¸´æ—¶åœ°å€</h1><p>ç”±äºSLAACäº§ç”Ÿçš„åœ°å€çš„æ¥å£IDï¼Œæ˜¯æ¥å£æ ‡è¯†ç¬¦çš„ï¼Œæ‰€ä»¥å64bitæ˜¯åŸºæœ¬ä¸å˜çš„ï¼Œè¿™æ ·å¾ˆå®¹æ˜“è¢«è·Ÿè¸ªã€‚<br>æ‰€ä»¥éœ€è¦ä¸´æ—¶åœ°å€ã€‚<br>ä¸´æ—¶åœ°å€ä¹Ÿæ˜¯ä¸€æ ·éšæœºç”Ÿæˆ64bitæ¥å£IDï¼Œç”¨äºä¸»æœºä½œä¸ºæºIPä¸»åŠ¨è®¿é—®ç½‘ç«™å’Œåº”ç”¨ã€‚ä½†ä¸ºäº†å®‰å…¨ï¼Œä¼šç»å¸¸å˜åŒ–ã€‚<br>å¦‚åœ¨æ¥å£é‡æ–°è¿æ¥çš„æ—¶å€™ï¼Œæˆ–è€…ä¸´æ—¶IPv6ç”Ÿå­˜æœŸåˆ°æœŸçš„æ—¶å€™ã€‚ä¼šé‡æ–°éšæœºç”Ÿæˆå¦ä¸€ä¸ªä¸´æ—¶IPv6åœ°å€ã€‚<br>åœ¨æŸç§æƒ…å†µä¸‹ï¼Œä½ ä¼šçœ‹åˆ°å¤šä¸ªä¸´æ—¶IPv6åœ°å€ã€‚è¿™æ˜¯å› ä¸ºæ—§çš„ä¸´æ—¶åœ°å€è¿‡æœŸçš„æ—¶å€™ï¼Œæ—§åœ°å€è¿˜æœ‰å»ºç«‹çš„è¿æ¥ã€‚</p><h1 id="æŸ¥çœ‹IPv6åè®®é…ç½®"><a href="#æŸ¥çœ‹IPv6åè®®é…ç½®" class="headerlink" title="æŸ¥çœ‹IPv6åè®®é…ç½®"></a>æŸ¥çœ‹IPv6åè®®é…ç½®</h1><p>ä½¿ç”¨ Powershellå‘½ä»¤ <code>get-netipv6protocol</code> </p><blockquote><p>DefaultHopLimit               : 128<br>NeighborCacheLimit(Entries)   : 256<br>RouteCacheLimit(Entries)      : 4096<br>ReassemblyLimit(Bytes)        : 262676960<br>IcmpRedirects                 : Enabled<br>SourceRoutingBehavior         : DontForward<br>DhcpMediaSense                : Enabled<br>MediaSenseEventLog            : Disabled<br>MldLevel                      : All<br>MldVersion                    : Version2<br>MulticastForwarding           : Disabled<br>GroupForwardedFragments       : Disabled<br>RandomizeIdentifiers          : Enabled  &#x2F;&#x2F;éšæœºæ¥å£IDå¼€å¯<br>AddressMaskReply              : Disabled<br>UseTemporaryAddresses         : Enabled  &#x2F;&#x2F;ä¸´æ—¶IPv6åœ°å€å¼€å¯<br>MaxTemporaryDadAttempts       : 3        &#x2F;&#x2F;ä¸´æ—¶IPv6çš„é‡å¤åœ°å€æ£€æµ‹å°è¯•æ¬¡æ•°<br>MaxTemporaryValidLifetime     : 7.00:00:00 &#x2F;&#x2F;ä¸´æ—¶åœ°å€æœ€å¤§æœ‰æ•ˆæ—¶é—´ã€‚<br>MaxTemporaryPreferredLifetime : 7.00:00:00<br>TemporaryRegenerateTime       : 00:00:05<br>MaxTemporaryDesyncTime        : 00:10:00<br>DeadGatewayDetection          : Enabled</p></blockquote><h1 id="SLAACçš„DNSæœåŠ¡å™¨åœ°å€åˆ†é…â€“RDNSS"><a href="#SLAACçš„DNSæœåŠ¡å™¨åœ°å€åˆ†é…â€“RDNSS" class="headerlink" title="SLAACçš„DNSæœåŠ¡å™¨åœ°å€åˆ†é…â€“RDNSS"></a>SLAACçš„DNSæœåŠ¡å™¨åœ°å€åˆ†é…â€“RDNSS</h1><p>æºäºä¸€ä¸ªè¾ƒæ–°çš„IPv6æ ‡å‡†(RFC 8106)ã€‚ä»Windows 10 1703å¼€å§‹ï¼ŒWindowsæ”¯æŒä½¿ç”¨æ— çŠ¶æ€è·å–DNSæœåŠ¡å™¨äº†ã€‚<br>ä¸è¿‡ï¼ŒDHCPv6 è·å–çš„DNSæœåŠ¡å™¨ä¼˜äºé€šè¿‡RAæŠ¥æ–‡è·å–çš„DNSæœåŠ¡å™¨ã€‚<br>Android ä»4.2å¼€å§‹æ”¯æŒï¼ŒiOS ä»4.1å¼€å§‹æ”¯æŒï¼ŒMacOSä» 10.7å¼€å§‹æ”¯æŒã€‚</p><p>PSï¼šAndroidè‡³ä»Šéƒ½ä¸æ”¯æŒDHCPv6ï¼Œå¾ˆæ°”äººã€‚</p><p>æ¥æºï¼š <a href="https://en.wikipedia.org/wiki/Comparison_of_IPv6_support_in_operating_systems">https://en.wikipedia.org/wiki/Comparison_of_IPv6_support_in_operating_systems</a></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://datatracker.ietf.org/doc/html/rfc8106">https://datatracker.ietf.org/doc/html/rfc8106</a><br><a href="https://www.networkacademy.io/ccna/ipv6/ipv6-on-windows">https://www.networkacademy.io/ccna/ipv6/ipv6-on-windows</a><br><a href="https://docs.microsoft.com/en-us/powershell/module/nettcpip/get-netipv6protocol?view=windowsserver2022-ps">https://docs.microsoft.com/en-us/powershell/module/nettcpip/get-netipv6protocol?view=windowsserver2022-ps</a></p><p>PSï¼šéšæœºæ ‡è¯†ç¬¦å’Œä¸´æ—¶åœ°å€ï¼Œå…¶ä»–ç³»ç»Ÿä¹Ÿä¼šä½¿ç”¨ï¼Œå¦‚MacOSä»10.7ä¹Ÿå¼€å§‹ä½¿ç”¨äº†ï¼ŒAndroid iOS Linuxç­‰ç³»ç»Ÿè¾ƒæ–°ç‰ˆæœ¬å¯èƒ½ä¼šæ”¯æŒã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li><li><a href="https://www.qystu.cc/posts/63659.html">windowä¸Šå¸æ¨¡å¼</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>IPv6</tag>
      
      <tag>windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IPv6 ç®€ç¬”</title>
    <link href="/ipv6/"/>
    <url>/ipv6/</url>
    
    <content type="html"><![CDATA[<h1 id="IPv6ç®€ä»‹"><a href="#IPv6ç®€ä»‹" class="headerlink" title="IPv6ç®€ä»‹"></a>IPv6ç®€ä»‹</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>æœ¬è´¨ä¸ŠIPv6å°±æ˜¯ä¸ºäº†è§£å†³IPv4åœ°å€ç©ºé—´ä¸å¤Ÿè€Œå‡ºç°çš„ã€‚<br>é•¿åº¦ç”±IPv4çš„32bitï¼Œæ‰©å±•åˆ°äº†128bitã€‚å¯ä»¥è¯´IPv6åœ°å€æ•°é‡è¿‘ä¹æ— é™ï¼Œä»¥ä¸‡äº¿ä¸ºå•ä½éƒ½æ˜¾ä¸è¶³ï¼Œå¦‚æ²§æµ·ä¸€ç²Ÿä¸€èˆ¬ã€‚</p><span id="more"></span><h2 id="è¡¨ç¤ºæ–¹æ³•"><a href="#è¡¨ç¤ºæ–¹æ³•" class="headerlink" title="è¡¨ç¤ºæ–¹æ³•"></a>è¡¨ç¤ºæ–¹æ³•</h2><p>IPv6æœ‰åˆ«äºIPv4çš„ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºï¼Œä½¿ç”¨äº†åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œä»¥å†’å· : æ¥æ¯å››ä½åˆ†å‰²ï¼Œå…¶ä¸­0åœ¨å‰é¢çš„éƒ½å¯ä»¥çœç•¥ã€‚<br>å¦‚åé¢æˆ–ä¸­é—´æœ‰å¤šä¸ªç©ºä½çš„ï¼Œåˆ™å¯ä»¥é€šè¿‡ :: æ¥å‹ç¼©è¡¨ç¤ºã€‚ä½†åªèƒ½å‹ç¼©ä¸€æ¬¡ã€‚<br>å¦‚ 2000:0000:0000:0000:0000:0000:0000:0000ï¼Œå¯ä»¥å‹ç¼©ä¸º 2000:: æ¥è¡¨ç¤ºã€‚<br>2000:0000:0000:0000:0000:0000:0000:0022ï¼Œåˆ™å¯ä»¥è¢«å‹ç¼©ä¸º 2000::22æ¥è¡¨ç¤ºã€‚</p><h2 id="å‰ç¼€é•¿åº¦ï¼ˆå­ç½‘æ©ç ï¼‰"><a href="#å‰ç¼€é•¿åº¦ï¼ˆå­ç½‘æ©ç ï¼‰" class="headerlink" title="å‰ç¼€é•¿åº¦ï¼ˆå­ç½‘æ©ç ï¼‰"></a>å‰ç¼€é•¿åº¦ï¼ˆå­ç½‘æ©ç ï¼‰</h2><p>IPv6ä¸­çš„å­ç½‘æ©ç å«åšå‰ç¼€é•¿åº¦ï¼Œä¸º128ä½ã€‚å…¶ä¸­ç½‘ç»œåœ°å€ä¹Ÿå¯ä»¥ç”¨äºäº’è”,ä¸”æ— å¹¿æ’­åœ°å€ã€‚æ‰€ä»¥ &#x2F;127çš„åœ°å€ï¼Œæœ‰ä¸¤ä¸ªå¯ç”¨IPã€‚</p><h1 id="IPv6åœ°å€åˆ†ç±»"><a href="#IPv6åœ°å€åˆ†ç±»" class="headerlink" title="IPv6åœ°å€åˆ†ç±»"></a>IPv6åœ°å€åˆ†ç±»</h1><h2 id="å…¨çƒå•æ’­åœ°å€"><a href="#å…¨çƒå•æ’­åœ°å€" class="headerlink" title="å…¨çƒå•æ’­åœ°å€"></a>å…¨çƒå•æ’­åœ°å€</h2><p>èŒƒå›´æ˜¯ 2000::&#x2F;3 ,å¯¹åº”IPv4çš„å…¬ç½‘åœ°å€ã€‚</p><h2 id="é“¾è·¯æœ¬åœ°åœ°å€"><a href="#é“¾è·¯æœ¬åœ°åœ°å€" class="headerlink" title="é“¾è·¯æœ¬åœ°åœ°å€"></a>é“¾è·¯æœ¬åœ°åœ°å€</h2><p>èŒƒå›´æ˜¯ FE80::&#x2F;10ï¼Œæ­¤åœ°å€æ˜¯å¿…é¡»æœ‰çš„ã€‚å‰64bitå›ºå®šä¸ºFE80:: å64bitçš„æ¥å£IDå¯ä»¥æ‰‹åŠ¨æŒ‡å®šæˆ–è€…é€šè¿‡EUI-64ç®—æ³•è‡ªåŠ¨ç”Ÿæˆï¼ˆæ ¹æ®MACåœ°å€ç”Ÿæˆï¼‰ï¼Œ<br>ä¸è¿‡ä¸€äº›æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚Windowsä½¿ç”¨äº†éšæœºç”Ÿæˆï¼Œæ˜¯ä¸ºäº†éšè—MACåœ°å€ã€‚è€Œä¸”è¿˜ç”Ÿæˆäº†ä¸€ä¸ªä¸´æ—¶åœ°å€ï¼Œç”¨äºå¯¹å¤–è®¿é—®ã€‚<br>æ¥å£IDè¿˜ä»¥æ ¹æ®ç½‘ç»œç¯å¢ƒå˜åŒ–ï¼Œç½‘ç»œç¯å¢ƒä¸å˜åˆ™å›ºå®šï¼Œæ›´æ”¹åˆ™æ”¹å˜ã€‚</p><h3 id="EUI-64ç”Ÿæˆç®—æ³•"><a href="#EUI-64ç”Ÿæˆç®—æ³•" class="headerlink" title="EUI-64ç”Ÿæˆç®—æ³•"></a>EUI-64ç”Ÿæˆç®—æ³•</h3><p>EUI-64 æ˜¯å°†48bitçš„MACåœ°å€ï¼Œå…¶ç¬¬ä¸ƒä½å–åï¼Œç„¶åä¸­é—´å¡«å……FFFEç»„æˆ64bitçš„æ¥å£IDã€‚</p><p>å‚è€ƒï¼š<a href="https://network.51cto.com/art/201910/603898.htm">https://network.51cto.com/art/201910/603898.htm</a></p><h2 id="æœ¬åœ°ç¯å›åœ°å€"><a href="#æœ¬åœ°ç¯å›åœ°å€" class="headerlink" title="æœ¬åœ°ç¯å›åœ°å€"></a>æœ¬åœ°ç¯å›åœ°å€</h2><p>èŒƒå›´æ˜¯ ::1&#x2F;128 ï¼Œå¯¹åº”IPv4çš„ 127.0.0.1&#x2F;8ã€‚</p><h2 id="æœªæŒ‡å®šåœ°å€"><a href="#æœªæŒ‡å®šåœ°å€" class="headerlink" title="æœªæŒ‡å®šåœ°å€"></a>æœªæŒ‡å®šåœ°å€</h2><p>èŒƒå›´æ˜¯ ::&#x2F;128 , å¯¹åº”IPv4çš„ 0.0.0.0&#x2F;32ã€‚DADé‡å¤åœ°å€æ£€æµ‹åè®®ä½¿ç”¨æ­¤IPå‘é€æŠ¥æ–‡ã€‚</p><h2 id="å”¯ä¸€æœ¬åœ°åœ°å€"><a href="#å”¯ä¸€æœ¬åœ°åœ°å€" class="headerlink" title="å”¯ä¸€æœ¬åœ°åœ°å€"></a>å”¯ä¸€æœ¬åœ°åœ°å€</h2><p>èŒƒå›´æ˜¯ FC00::&#x2F;7, å¯¹åº”IPv4çš„ç§ç½‘åœ°å€ã€‚</p><h2 id="ä»»æ’­åœ°å€"><a href="#ä»»æ’­åœ°å€" class="headerlink" title="ä»»æ’­åœ°å€"></a>ä»»æ’­åœ°å€</h2><p>åœ°å€ç©ºé—´ä¸å…¨çƒå•æ’­åœ°å€å…±äº«ï¼Œæ˜¯ä¸€ä¸ªIPv6ç‰¹æœ‰çš„åœ°å€ç±»å‹ã€‚å¯ä»¥åˆ†é…ç»™å¤šä¸ªæ¥å£ï¼Œ<br>å‘é€åˆ°ä»»æ’­åœ°å€çš„æ•°æ®åŒ…ï¼Œå°†ä¼ é€’åˆ°ç”±è¯¥åœ°å€æ ‡è¯†çš„æœ€è¿‘åœ°å€ã€‚</p><h2 id="æœ¬åœ°ç¯å›åœ°å€-1"><a href="#æœ¬åœ°ç¯å›åœ°å€-1" class="headerlink" title="æœ¬åœ°ç¯å›åœ°å€"></a>æœ¬åœ°ç¯å›åœ°å€</h2><p>èŒƒå›´æ˜¯ ::1&#x2F;128 ï¼Œå¯¹åº”IPv4çš„ 127.0.0.1&#x2F;8ã€‚</p><h2 id="æœªæŒ‡å®šåœ°å€-1"><a href="#æœªæŒ‡å®šåœ°å€-1" class="headerlink" title="æœªæŒ‡å®šåœ°å€"></a>æœªæŒ‡å®šåœ°å€</h2><p>æ–¹ä½æ˜¯ ::&#x2F;128 , å¯¹åº”IPv4çš„ 0.0.0.0&#x2F;32ã€‚DADé‡å¤åœ°å€æ£€æµ‹åè®®ä½¿ç”¨æ­¤IPå‘é€æŠ¥æ–‡ã€‚</p><h2 id="ç»„æ’­åœ°å€"><a href="#ç»„æ’­åœ°å€" class="headerlink" title="ç»„æ’­åœ°å€"></a>ç»„æ’­åœ°å€</h2><p>èŒƒå›´æ˜¯ FE00::&#x2F;10,å¯¹åº”IPv4çš„ç»„æ’­åœ°å€ã€‚ IPv6å»æ— å¹¿æ’­åœ°å€ï¼Œå…¶åŠŸèƒ½åŸºæœ¬ç”±ç»„æ’­åœ°å€ä»£æ›¿ã€‚</p><h2 id="è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€"><a href="#è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€" class="headerlink" title="è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€"></a>è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€</h2><p>èŒƒå›´æ˜¯ FF02::1:FF00:0&#x2F;104ï¼Œå…¶åœ°å€æ˜¯ä¸€ç§ç‰¹æ®Šçš„IPv6ç»„æ’­åœ°å€ã€‚<br>å½“æ¥å£é…ç½®äº†å•æ’­åœ°å€çš„æ—¶å€™ï¼Œæ¥å£ä¼šè‡ªåŠ¨ç”Ÿæˆè¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼Œå¹¶åŠ å…¥æ­¤ç»„æ’­ç»„ã€‚ç”¨äºåœ°å€è§£æã€é‚»å±…å‘ç°å’Œé‡å¤åœ°å€æ£€æµ‹ã€‚<br>å…¶ä¸­å‰ç¼€å›ºå®šä¸ºFF02::1:FF:, å24bitï¼Œç”±å•æ’­IPv6çš„å24bitç»„æˆã€‚<br>å¯ä»¥è¯´æ­¤åœ°å€æ˜¯ä¸ºäº†ä»£æ›¿å¹¿æ’­åœ°å€äº§ç”Ÿï¼Œå¯ä»¥å‡å°‘ä¸»æœºæ”¶åˆ°å’Œæ— å…³çš„æŠ¥æ–‡ã€‚</p><h1 id="IPv6åœ°å€è‡ªåŠ¨åˆ†é…æ–¹æ³•"><a href="#IPv6åœ°å€è‡ªåŠ¨åˆ†é…æ–¹æ³•" class="headerlink" title="IPv6åœ°å€è‡ªåŠ¨åˆ†é…æ–¹æ³•"></a>IPv6åœ°å€è‡ªåŠ¨åˆ†é…æ–¹æ³•</h1><h2 id="DHCPv6"><a href="#DHCPv6" class="headerlink" title="DHCPv6"></a>DHCPv6</h2><p>DHCPv6åˆå¯ä»¥ç§°ä¹‹ä¸ºæœ‰çŠ¶æ€åˆ†é…ï¼Œä¸IPv4çš„DHCPå¾ˆç›¸ä¼¼ã€‚åˆ†å‘çš„åœ°å€ç”±DHCPv6æœåŠ¡å™¨æ§åˆ¶ã€‚<br>å¯ä»¥åˆ†é…IPv6åœ°å€ï¼Œå‰ç¼€é•¿åº¦ã€ç½‘å…³ã€DNSã€åŸŸåç­‰ä¿¡æ¯ã€‚</p><h2 id="SLAAC"><a href="#SLAAC" class="headerlink" title="SLAAC"></a>SLAAC</h2><p>æ— çŠ¶æ€åˆ†é…ï¼Œç”±è·¯ç”±å™¨é€šè¿‡ RSæŠ¥æ–‡åˆ†å‘å‰ç¼€ä¿¡æ¯ï¼Œç½‘å…³ä¸ºåˆ†å‘å‰ç¼€çš„è·¯ç”±ã€‚<br>å…¶ä¸­å64bitçš„æ¥å£ID,ç”±é“¾è·¯æœ¬åœ°åœ°å€çš„å64bitç»„æˆã€‚æ‰€ä»¥æ— çŠ¶æ€åˆ†é…çš„å‰ç¼€å¿…é¡»å¤§äºç­‰äº&#x2F;64ã€‚<br>æ¯”è¾ƒæ–°çš„æ ‡å‡†å¯ä»¥ä½¿ç”¨RAæŠ¥æ–‡åˆ†é…DNSæœåŠ¡å™¨ã€‚ä¹‹å‰æ˜¯ä¸æ”¯æŒåˆ†é…çš„ã€‚</p><h2 id="æ— çŠ¶æ€DHCPv6"><a href="#æ— çŠ¶æ€DHCPv6" class="headerlink" title="æ— çŠ¶æ€DHCPv6"></a>æ— çŠ¶æ€DHCPv6</h2><p>IPv6å‰ç¼€ä¿¡æ¯ç”±RAæŠ¥æ–‡åˆ†å‘ï¼Œé€šè¿‡SLACCç”Ÿæˆåœ°å€ã€‚å…¶ä»–ä¿¡æ¯ï¼Œä¾‹å¦‚DNSä½¿ç”¨DHCPv6åˆ†é…ã€‚æ— çŠ¶æ€+æœ‰çŠ¶æ€ç»“åˆçš„æ–¹æ³•åˆ†å‘åœ°å€ã€‚</p><h1 id="IPv6å·¥å…·"><a href="#IPv6å·¥å…·" class="headerlink" title="IPv6å·¥å…·"></a>IPv6å·¥å…·</h1><h2 id="IPv6çš„å­ç½‘è®¡ç®—å™¨"><a href="#IPv6çš„å­ç½‘è®¡ç®—å™¨" class="headerlink" title="IPv6çš„å­ç½‘è®¡ç®—å™¨"></a>IPv6çš„å­ç½‘è®¡ç®—å™¨</h2><p><a href="http://www.gestioip.net/cgi-bin/subnet_calculator.cgi">http://www.gestioip.net/cgi-bin/subnet_calculator.cgi</a></p><h2 id="IPv6å½’å±æŸ¥è¯¢"><a href="#IPv6å½’å±æŸ¥è¯¢" class="headerlink" title="IPv6å½’å±æŸ¥è¯¢"></a>IPv6å½’å±æŸ¥è¯¢</h2><p><a href="http://ip.zxinc.org/ipquery">http://ip.zxinc.org/ipquery</a></p><h2 id="IPv6è¿æ¥æµ‹è¯•"><a href="#IPv6è¿æ¥æµ‹è¯•" class="headerlink" title="IPv6è¿æ¥æµ‹è¯•"></a>IPv6è¿æ¥æµ‹è¯•</h2><p><a href="http://www.test-ipv6.com/">http://www.test-ipv6.com</a></p><p>PSï¼šå†™åšå®¢å¥½éº»çƒ¦ï¼Œæˆ‘å¥½æ‡’ã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/DNS_recursive_Server/">å»ºç«‹è‡ªæœ‰é€’å½’DNSæœåŠ¡å™¨</a></li><li><a href="https://songxwn.com/zabbix_data/">Zabbixï¼šå†å²æ•°æ®ä¸è¶‹åŠ¿æ•°æ®</a></li><li><a href="https://songxwn.com/ospf-route-FA/">HCIE Datacom-01.3 IGPé«˜çº§ç‰¹æ€§-OSPF-å…¶ä»–ç‰¹æ€§</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>network</category>
      
    </categories>
    
    
    <tags>
      
      <tag>network</tag>
      
      <tag>IPv6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows éƒ¨ç½²ç§æœ‰KMSæœåŠ¡å™¨ã€‚</title>
    <link href="/KMS-Windows/"/>
    <url>/KMS-Windows/</url>
    
    <content type="html"><![CDATA[<p>ç¨‹åºä¸‹è½½åœ°å€ï¼š<a href="https://github.com/Wind4/vlmcsd">https://github.com/Wind4/vlmcsd</a></p><p>æ­¤æ–‡ç« ä»‹ç»ï¼Œæ€ä¹ˆåœ¨Windowsä¸Šè¿è¡Œvlmcsdï¼Œå¹¶æ³¨å†Œä¸ºæœåŠ¡ã€‚</p><span id="more"></span><h2 id="ä¸‹è½½è§£å‹ç¨‹åº"><a href="#ä¸‹è½½è§£å‹ç¨‹åº" class="headerlink" title="ä¸‹è½½è§£å‹ç¨‹åº"></a>ä¸‹è½½è§£å‹ç¨‹åº</h2><p>å» <a href="https://github.com/Wind4/vlmcsd/releases">https://github.com/Wind4/vlmcsd/releases</a> ä¸‹è½½ binaries.tar.gz æ–‡ä»¶ã€‚<br>ä¸‹è½½åˆ°æœ¬åœ°ï¼Œè§£å‹ã€‚è§£å‹è½¯ä»¶å»ºè®®ç”¨ Bandizip <a href="https://www.bandisoft.com/bandizip">https://www.bandisoft.com/bandizip</a><br>å°†binaries&#x2F;Windows&#x2F;intel æ–‡ä»¶å¤¹é‡å‘½åä¸ºvlmcsdï¼Œå¤åˆ¶åˆ°C:\ ä¸‹é¢ã€‚</p><h2 id="æ³¨å†Œä¸ºWindows-æœåŠ¡ã€‚"><a href="#æ³¨å†Œä¸ºWindows-æœåŠ¡ã€‚" class="headerlink" title="æ³¨å†Œä¸ºWindows æœåŠ¡ã€‚"></a>æ³¨å†Œä¸ºWindows æœåŠ¡ã€‚</h2><p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒCMD æˆ–è€… Power shell</p><p>è¾“å…¥ <code>cd C:\vlmcsd</code></p><p>&#x2F;&#x2F; åˆ‡æ¢åˆ°ç¨‹åºç›®å½•</p><p>è¾“å…¥ <code>./vlmcsd-Windows-x64.exe -s -l C:\vlmcsd\KMS.log</code></p><p>&#x2F;&#x2F; -s ä¸ºå®‰è£…ä¸ºæœåŠ¡ï¼Œ-S æ˜¯åˆ é™¤æœåŠ¡ï¼Œ-læ˜¯æŒ‡å®šè¾“å‡ºæ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼›</p><h2 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h2><p>è¾“å…¥ <code>Services.msc</code> æ‰“å¼€æœåŠ¡ç®¡ç†ã€‚</p><p>æ‰¾åˆ°Key Management Server æœåŠ¡å™¨ï¼Œå¯åŠ¨æœåŠ¡ï¼Œå¹¶ç¡®ä¿å¯åŠ¨ç±»å‹ä¸ºè‡ªåŠ¨ã€‚</p><h2 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h2><p>å°†é˜²ç«å¢™å¼€æ”¾1688&#x2F;tcpç«¯å£ï¼Œæˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™ã€‚</p><h2 id="éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ"><a href="#éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ" class="headerlink" title="éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ"></a>éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ</h2><p>è¾“å…¥ <code>./vlmcs-Windows-x64.exe</code></p><p>æ˜¾ç¤º successful å­—æ ·ï¼Œåˆ™ä»£è¡¨éƒ¨ç½²æˆåŠŸã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray">ï¼ˆç”±<a href="https://github.com/huiwang/hexo-recommended-posts">hexoæ–‡ç« æ¨èæ’ä»¶</a>é©±åŠ¨ï¼‰</span></h1><ul><li><a href="https://songxwn.com/Sublime_Text4_4143/">Sublime Text4 4143 å®‰è£…æ¿€æ´»</a></li><li><a href="https://songxwn.com/Sublime_Text4/">Sublime Text4 4126 å®‰è£…æ¿€æ´»</a></li><li><a href="https://chengzhaoxi.xyz/2bffefb0.html">WindowsåŒ…ç®¡ç†å·¥å…·scoop</a></li></ul></div>]]></content>
    
    
    <categories>
      
      <category>KMS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éƒ¨ç½²ç§æœ‰KMSæœåŠ¡å™¨ï¼Œå¹¶è®¾ç½®è‡ªåŠ¨æ¿€æ´»Windowså’Œoffice</title>
    <link href="/KMS/"/>
    <url>/KMS/</url>
    
    <content type="html"><![CDATA[<p>#Dockeré•œåƒåœ°å€ï¼š <a href="https://hub.docker.com/r/mogeko/vlmcsd">https://hub.docker.com/r/mogeko/vlmcsd</a></p><p>#æ­¤ç¨‹åºçš„å•ç‹¬åœ°å€ï¼š <a href="https://github.com/Wind4/vlmcsd">https://github.com/Wind4/vlmcsd</a></p><h2 id="å‡†å¤‡ç¯å¢ƒï¼š"><a href="#å‡†å¤‡ç¯å¢ƒï¼š" class="headerlink" title="å‡†å¤‡ç¯å¢ƒï¼š"></a>å‡†å¤‡ç¯å¢ƒï¼š</h2><p>ä¸€å°æ”¯æŒDockerçš„LinuxæœåŠ¡å™¨ã€è¿è¡ŒKMSæœåŠ¡å™¨ã€‘ï¼Œè¿è¡Œåœ¨å†…ç½‘çš„DNSæœåŠ¡å™¨ã€SRVè®°å½•ã€‘ï¼ŒDHCPæœåŠ¡å™¨ã€åˆ†é…DNSåŸŸåã€‘ã€‚</p><span id="more"></span><p><code>docker run -d -p 1688:1688 --restart=always  --name kms mogeko/vlmcsd </code></p><p>&#x2F;&#x2F; éƒ¨ç½²KMSæœåŠ¡å™¨ï¼Œä½¿ç”¨Docker ï¼Œç«¯å£ä¸º TCP&#x2F;1688ã€‚</p><p><code>docker logs vlmcsd</code></p><p>2021-07-27 08:14:00: Listening on [::]:1688<br>2021-07-27 08:14:00: Listening on 0.0.0.0:1688<br>2021-07-27 08:14:00: vlmcsd svn1112-2-gf1a3c7f, built 2021-07-26 18:11:51 UTC started successfully</p><p>æŸ¥çœ‹æ—¥å¿—ï¼Œç¡®å®šæ­£å¸¸å·¥ä½œã€‚</p><h2 id="æ‰‹åŠ¨æ¿€æ´»"><a href="#æ‰‹åŠ¨æ¿€æ´»" class="headerlink" title="æ‰‹åŠ¨æ¿€æ´»"></a>æ‰‹åŠ¨æ¿€æ´»</h2><p><code>slmgr /ipk N69G4-B89J2-4G8F4-WWYCC-J464C</code></p><p>&#x2F;&#x2F;å®‰è£…å¯†é’¥</p><p>KMSå®‰è£…å¯†é’¥ï¼Œå¯†é’¥å¤§å…¨åœ°å€: <a href="https://docs.microsoft.com/zh-cn/windows-server/get-started/kmsclientkeys">https://docs.microsoft.com/zh-cn/windows-server/get-started/kmsclientkeys</a></p><p><code>slmgr /skms  192.168.1.13</code></p><p>&#x2F;&#x2F;è®¾ç½®KMSæœåŠ¡å™¨IP</p><p><code>slmgr /ato</code></p><p>&#x2F;&#x2F;ç«‹å³æ¿€æ´»Windows</p><p><code>slmgr /xpr</code></p><p>&#x2F;&#x2F;æŸ¥çœ‹æ¿€æ´»å‰©ä½™æ—¶é—´</p><p><code>slmgr /dlv</code></p><p>&#x2F;&#x2F;æŸ¥çœ‹æ¿€æ´»çš„è¯¦ç»†ä¿¡æ¯</p><p>PS: é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæ¿€æ´» 180å¤©ï¼Œç„¶åæ¯ 10080 åˆ†é’Ÿè‡ªåŠ¨ç»­æœŸä¸€æ¬¡ï¼ˆåªè¦KMSæœåŠ¡å™¨å¯ç”¨ï¼‰</p><h2 id="ä½¿ç”¨DNS-DHCPè‡ªåŠ¨æ¿€æ´»"><a href="#ä½¿ç”¨DNS-DHCPè‡ªåŠ¨æ¿€æ´»" class="headerlink" title="ä½¿ç”¨DNS+DHCPè‡ªåŠ¨æ¿€æ´»"></a>ä½¿ç”¨DNS+DHCPè‡ªåŠ¨æ¿€æ´»</h2><p>é¦–å…ˆæ·»åŠ  SRV è®°å½•åˆ°DNSæœåŠ¡å™¨çš„åŸŸåä¸­</p><p>è®°å½•åå­—ä¸º _vlmcs._tcp.</p><p>åŸŸæ§çš„è¯ï¼Œç›´æ¥æœ‰tcpçš„ä¸‹çº§åŸŸï¼Œæ‰€ä»¥ä¸éœ€è¦åŠ ä¸ŠTCP</p><p>ç„¶åè¿›å…¥ä½ åŸŸæ§åŸŸåä¸­çš„ _tcpæ–‡ä»¶å¤¹ï¼Œç„¶åå³é”®é€‰æ‹©å…¶ä»–æ–°è®°å½•ï¼Œç„¶åé€‰æ‹©SRVè®°å½•ã€‚</p><p><img src="/images/pasted-2.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p><p>ç„¶åå¡«å†™ä»¥ä¸Šï¼ŒåŸŸåä¸ºä½ çš„åŸŸåã€‚æœåŠ¡ä¸º _vlmcs åè®®ä¸º _tcp ã€‚ç«¯å£å·ä¸º 1688 ã€‚<br>æä¾›æ­¤æœåŠ¡çš„ä¸»æœºä¸º   KMSæœåŠ¡å™¨çš„IPã€‚</p><p>ç„¶åé…ç½®DHCP æœåŠ¡å™¨åˆ†é…çš„DNSåŸŸååç¼€ä¸º esc.comå³å¯ã€‚<br>ä¹‹åï¼Œæœªæ¿€æ´»çš„Windows å¼€æœºå°±ä¼šé€šè¿‡DHCPè·å–åˆ° DNS åç¼€ï¼Œç„¶åé€šè¿‡DNSåŸŸåä¸­çš„SVRè®°å½•æ‰¾åˆ°<br>KMSæ¿€æ´»æœåŠ¡å™¨ï¼Œå¹¶è‡ªåŠ¨æ¿€æ´»ã€‚å…¶ä¸­VLçš„OFFICEä¹Ÿä¼šè‡ªåŠ¨æ¿€æ´»ã€‚</p><h2 id="Windows-ä¸‹è½½-å’Œ-Office-VLç‰ˆ"><a href="#Windows-ä¸‹è½½-å’Œ-Office-VLç‰ˆ" class="headerlink" title="Windows ä¸‹è½½ å’Œ Office VLç‰ˆ"></a>Windows ä¸‹è½½ å’Œ Office VLç‰ˆ</h2><p>å»ºè®®ä½¿ç”¨ Office Tool Plus å®‰è£…VLç‰ˆæœ¬ï¼Œå¹¶å®‰è£…è®¸å¯è¯ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š <a href="https://otp.landian.vip/zh-cn/download.html">https://otp.landian.vip/zh-cn/download.html</a></p><p>Windows ç¬¬ä¸‰æ–¹ä¸‹è½½ç«™ï¼š <a href="https://next.itellyou.cn/">https://next.itellyou.cn/</a></p>]]></content>
    
    
    <categories>
      
      <category>KMS</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/hello-world/"/>
    <url>/hello-world/</url>
    
    <content type="html"><![CDATA[<h2 id="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼"><a href="#æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼" class="headerlink" title="æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼"></a>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼</h2><span id="more"></span><p>ä»Šå¤©ç»ˆäºç™½å«–ç”¨ Github Pages,éƒ¨ç½²äº†ä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Œæ‰“ç®—å‘äº›è‡ªå·±å†™çš„æŠ€æœ¯æ–‡ç« ã€‚<br>ä½¿ç”¨Hexo+Nextä¸»é¢˜ï¼Œç„¶åå¥—äº†Cloudflareçš„CDNã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
